/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(['./DvtToolkit'], function(dvt) {
  // Internal use only.  All APIs and functionality are subject to change at any time.

var ga;function ka(a,F){0==a.indexOf("dvt.")&&(a=a.substring(4));var D=a.split("."),E=eval("dvt");D[0]in E||!E.execScript||E.execScript("var "+D[0]);for(var v;D.length&&(v=D.shift());)D.length||void 0===F?E=E[v]?E[v]:E[v]={}:E[v]=F}Math.floor(2147483648*Math.random()).toString(36);
(function(a){function F(){}function D(a,f,e){this.Init(a,f,e)}function E(){this.Init({alta:E.If})}function v(a){this.Init(a)}a.Ta=function(a,f,e){this.Init(a,f,e)};a.f.v(a.Ta,a.ec);a.Ta.CM="vertical";a.Ta.Si=function(){return a.m.eb()};a.Ta.Nc=function(a,f,e,h){e=(e-a)*h;a=f-a;return 0==e||0==a?0:e/a};a.Ta.Bh=function(a,f,e,h){f=e*(f-a);return 0==f||0==h?a:f/h+a};a.Ta.newInstance=function(c,f,e){return new a.Ta(c,f,e)};a.Ta.AZ="seconds minutes hours days weeks months quarters years".split(" ");a.Ta.prototype.Init=
function(c,p,e){a.Ta.C.Init.call(this,c,p,e);this.Pja=new v;this.li=f.Kxa;this.aJ(!1,!1,!1,!1);this.iG=c.bR().dateToIsoWithTimeZoneConverter;this.zs={VGa:[a.I.Ja(a.I.pa,"DAY_SHORT_SUNDAY",null),a.I.Ja(a.I.pa,"DAY_SHORT_MONDAY",null),a.I.Ja(a.I.pa,"DAY_SHORT_TUESDAY",null),a.I.Ja(a.I.pa,"DAY_SHORT_WEDNESDAY",null),a.I.Ja(a.I.pa,"DAY_SHORT_THURSDAY",null),a.I.Ja(a.I.pa,"DAY_SHORT_FRIDAY",null),a.I.Ja(a.I.pa,"DAY_SHORT_SATURDAY",null),a.I.Ja(a.I.pa,"DAY_SUNDAY",null),a.I.Ja(a.I.pa,"DAY_MONDAY",null),
a.I.Ja(a.I.pa,"DAY_TUESDAY",null),a.I.Ja(a.I.pa,"DAY_WEDNESDAY",null),a.I.Ja(a.I.pa,"DAY_THURSDAY",null),a.I.Ja(a.I.pa,"DAY_FRIDAY",null),a.I.Ja(a.I.pa,"DAY_SATURDAY",null)],yca:[a.I.Ja(a.I.pa,"MONTH_SHORT_JANUARY",null),a.I.Ja(a.I.pa,"MONTH_SHORT_FEBRUARY",null),a.I.Ja(a.I.pa,"MONTH_SHORT_MARCH",null),a.I.Ja(a.I.pa,"MONTH_SHORT_APRIL",null),a.I.Ja(a.I.pa,"MONTH_SHORT_MAY",null),a.I.Ja(a.I.pa,"MONTH_SHORT_JUNE",null),a.I.Ja(a.I.pa,"MONTH_SHORT_JULY",null),a.I.Ja(a.I.pa,"MONTH_SHORT_AUGUST",null),
a.I.Ja(a.I.pa,"MONTH_SHORT_SEPTEMBER",null),a.I.Ja(a.I.pa,"MONTH_SHORT_OCTOBER",null),a.I.Ja(a.I.pa,"MONTH_SHORT_NOVEMBER",null),a.I.Ja(a.I.pa,"MONTH_SHORT_DECEMBER",null),a.I.Ja(a.I.pa,"MONTH_JANUARY",null),a.I.Ja(a.I.pa,"MONTH_FEBRUARY",null),a.I.Ja(a.I.pa,"MONTH_MARCH",null),a.I.Ja(a.I.pa,"MONTH_APRIL",null),a.I.Ja(a.I.pa,"MONTH_MAY",null),a.I.Ja(a.I.pa,"MONTH_JUNE",null),a.I.Ja(a.I.pa,"MONTH_JULY",null),a.I.Ja(a.I.pa,"MONTH_AUGUST",null),a.I.Ja(a.I.pa,"MONTH_SEPTEMBER",null),a.I.Ja(a.I.pa,"MONTH_OCTOBER",
null),a.I.Ja(a.I.pa,"MONTH_NOVEMBER",null),a.I.Ja(a.I.pa,"MONTH_DECEMBER",null)]};this.Ff=new E};a.Ta.prototype.me=function(a){this.J=this.Ff.no(a)};a.Ta.prototype.fv=function(a){this.Po=new F;return this.Po.parse(a)};a.Ta.prototype.lp=function(c){var f=c.orientation;this.Ic=f&&f==a.Ta.CM?!0:!1;this.Iwa(this.Ic);this.IB=c.K6;this.MD=c.MLa?c.MLa.reverse():[c.scale];this.LD=c.Q6;this.vh=c.cI;this.Qt=c.bI;this.Wa=c.start;this.ob=c.end;this.RO=c.ry;this.ad=c.scale;this.Ot=c.Yqa;this.xu()};a.Ta.prototype.Pz=
function(a,f){if("undefined"===typeof f||null===f)f=this.Wd;this.Bc=f<a?a:f};a.Ta.prototype.cg=function(){return a.m.ea(this.a)};a.Ta.prototype.Ea=function(){return this.Ic};a.Ta.prototype.ia=function(a,f,e){a&&(this.Oa=f,this.bb=e,this.REa(),this.O4(a,this.Wd));this.eB(f,e);this.nl()};a.Ta.prototype.O4=function(a,f){this.me(a);this.Lk=this.J._resources;null==this.Lk&&(this.Lk=[]);this.ux=this.J._locale?this.J._locale:"en-US";var e=this.Lk.firstDayOfWeek;null==e&&(e=0);this.Pja.O7a(e);this.iG||(this.iG=
this.a.bR().dateToIsoWithTimeZoneConverter);e=this.fv(this.J);this.lp(e);this.ad&&this.s6a(this.Wa,this.ob,f);return this.Bc};a.Ta.prototype.Vp=function(){var c=this.ad&&-1!=a.Y.$b(a.Ta.AZ,this.ad),f=this.ad&&this.vh&&this.vh[this.ad],e=this.Wa&&this.ob&&this.ob>this.Wa;return(c||f)&&e};a.Ta.prototype.vk=function(){return this.IB?this.IB:a.I.Ja(a.I.pa,"TIMEAXIS")};a.Ta.prototype.xu=function(){this.n9=new a.j(f.L1a(this.J));this.n9.gl(this.RO);var c=this.n9.Qh();this.n9.gl("border:"+2*c+"px;");this.w7a(c)};
a.Ta.prototype.REa=function(){this.Ic?(this.Wd=this.bb,this.Je=this.Oa):(this.Wd=this.Oa,this.Je=this.bb)};a.Ta.prototype.VZa=function(){null!==this.Je&&this.Uca(this.Je-this.ita());this.QJ=this.Bc+this.ita()-f.VMa};a.Ta.prototype.w_a=function(a,f){this.Oa=a;this.bb=f;this.REa();this.Pz(this.Wd);this.VZa()};a.Ta.prototype.eB=function(a,f){this.w_a(a,f);x.W6a(this)};a.Ta.prototype.s6a=function(a,f,e){this.iwa(this.Ot);this.vm("short",this.zs);this.iCa=[];this.yn=[];this.DK=[];this.Ic?this.KV(this.Lk.converterVert):
this.KV(this.Lk.converter);this.LD&&this.bxa(this.LD);for(var h=this.ad,t=0;t<this.MD.length;t++){var u=this.MD[t],v=this.mYa(u,h,a,f);this.oYa(t,u,a,f,v,e)}this.Ou(h)};a.Ta.prototype.mYa=function(c,p,e,h){this.Ou(c);var t=Infinity,u=0,v;if(this.vh&&this.vh[c])v=this.vh[c],c=v.times,v=v.labels;else if(this.Qt&&this.Qt[c])v=this.Qt[c],c=v.times,v=v.labels;else for(c=[],v=[],e=this.VH(e).getTime(),c.push(e);e<h;)v.push(this.Os(new Date(e))),e=this.qI(e).getTime(),c.push(e);h=[];for(var y=0;y<v.length;y++){e=
c[y];var m=new a.M(this.a,v[y],0,0,"s_label"+e);m.ub(f.J1a(this.J));m.time=e;var z=c[y+1],w=m.V();if(this.Ic)var A=w.i,w=w.b,d=f.Mxa;else A=w.b,w=w.i,d=f.Oxa;e=(z-e)/Math.max(d,A+2*f.Nxa);e<t&&(t=e);w>u&&(u=w);h.push(m)}this.Uca(u+2*f.Nxa);this.iCa.push(c);this.yn.push(h);this.Ou(p);return t};a.Ta.prototype.oYa=function(a,f,e,h,t,u){e=null!==this.Je?u:(h-e)/t;this.DK.push(e);f==this.ad&&(this.bl=a,this.Pz(e,u));0==a&&(this.hP=this.yn[this.yn.length-1].length*u)};a.Ta.prototype.Ou=function(a){this.ad=
a};a.Ta.prototype.bxa=function(a){this.LD=a};a.Ta.prototype.fca=function(){for(var a=0;a<this.MD.length-1;a++)if(this.MD[a]==this.ad){this.ad=this.MD[a+1];break}};a.Ta.prototype.Uaa=function(){for(var a=1;a<this.MD.length;a++)if(this.MD[a]==this.ad){this.ad=this.MD[a-1];break}};a.Ta.prototype.iwa=function(a){this.Ot=a};a.Ta.prototype.KV=function(a){this.Gka=a};a.Ta.prototype.Uca=function(a){a>this.ul&&(this.ul=a)};a.Ta.prototype.vR=function(){null==this.U2&&(this.U2=30);return this.U2};a.Ta.prototype.w7a=
function(a){this.li=a};a.Ta.prototype.aJ=function(a,f,e,h){this.CBa=(a|0)*this.li;this.hUa=(f|0)*this.li;this.zBa=(e|0)*this.li;this.gUa=(h|0)*this.li};a.Ta.prototype.z0a=function(){for(var a=this.Ic?{top:this.ue(),right:this.QJ,bottom:this.ue(),left:this.QJ}:{top:this.QJ,right:this.ue(),bottom:this.QJ,left:this.ue()},f=[],e=0,h=1,t=["top","right","bottom","left"],u=0;u<t.length;u++)0<this.Qh(t[u])==h?e+=a[t[u]]:(f.push(e),e=a[t[u]],h=Math.abs(h-1));f.push(e);return f.toString()};a.Ta.prototype.ita=
function(){return this.CBa+this.zBa};a.Ta.prototype.Qh=function(a){switch(a){case "top":return this.CBa;case "right":return this.hUa;case "bottom":return this.zBa;case "left":return this.gUa;default:return this.li}};a.Ta.prototype.ue=function(){return this.ul+this.ita()};a.Ta.prototype.vm=function(a,f){this.TVa=new D("short"==a?D.SHORT:D.gOa,f,this.ux)};a.Ta.prototype.VH=function(a){return this.Pja.VH(new Date(a),this.ad)};a.Ta.prototype.qI=function(a){return this.Pja.qI(a,this.ad)};a.Ta.prototype.Os=
function(a,f,e){var h=this.ad;if("axis"==(e||"axis"))(f=f||this.Ot)&&(f[h]?f=f[h]:f["default"]&&(f=f["default"])),f&&(f.format||f.getAsString)||!this.Gka||!this.Gka[h]||(f=this.Gka[h]);else if(!f)if(f="hours"==h||"minutes"==h||"seconds"==h?{formatType:"datetime",dateFormat:"medium",timeFormat:"medium"}:{formatType:"date",dateFormat:"medium"},e=this.Lk.converterFactory)f=e.createConverter(f);else{f="toLocaleDateString";e={year:"numeric",month:"short",day:"numeric"};if("hours"==h||"minutes"==h||"seconds"==
h)f="toLocaleString",e={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};try{return a[f](this.ux,e)}catch(t){}return a[f]()}if(f){if(f.format)return f.format(this.iG?this.iG(a):a);if(f.getAsString)return f.getAsString(a)}return this.TVa.format(a,h,this.LD)};a.Ta.prototype.Iwa=function(a){this.ul=a?f.Oxa:f.Mxa};a.Ta.prototype.Sca=function(){this.Je=null};a.Ta.prototype.vE=function(a){this.bl=a};a.f.v(v,a.f);v.prototype.Init=function(){this.sVa=864E5;this.DCa=
0};v.prototype.O7a=function(a){this.DCa=a};v.prototype.VH=function(a,f){var e=new Date(a.getTime());if("weeks"==f){e.setHours(0,0,0);var h=(a.getDay()-this.DCa+7)%7;0<h&&e.setTime(e.getTime()-h*this.sVa)}else"months"==f?e.setDate(1):"days"==f?e.setHours(0,0,0):"hours"==f?e.setMinutes(0,0,0):"minutes"==f?e.setSeconds(0,0):"seconds"==f?e.setMilliseconds(0):"quarters"==f?(e.setDate(1),h=2-(a.getMonth()+11)%3,0<h&&e.setMonth(e.getMonth()+h)):"halfyears"==f?(e.setDate(1),h=5-(a.getMonth()+11)%6,0<h&&e.setMonth(e.getMonth()+
h)):"years"==f?(e.setMonth(0),e.setDate(1)):"twoyears"==f&&(e.setMonth(0),e.setDate(1));return e};v.prototype.qI=function(a,f){if("seconds"==f)return new Date(a+1E3);if("minutes"==f)return new Date(a+6E4);if("hours"==f)return new Date(a+36E5);var e=new Date(a);"days"==f?e.setDate(e.getDate()+1):"weeks"==f?e.setDate(e.getDate()+7):"months"==f?e.setMonth(e.getMonth()+1):"quarters"==f?e.setMonth(e.getMonth()+3):"halfyears"==f?e.setMonth(e.getMonth()+6):"years"==f?e.setFullYear(e.getFullYear()+1):"twoyears"==
f?e.setFullYear(e.getFullYear()+2):e.setYear(e.getYear()+1);return e};a.f.v(E,a.ka,"DvtTimeAxisDefaults");E.If={backgroundColor:"rgba(255,255,255,0)",borderColor:"#d9dfe3",separatorColor:"#bcc7d2",labelStyle:new a.j(a.ka.ep+"color: #333333;")};a.f.v(D,a.f);D.gOa=0;D.SHORT=1;D.prototype.Init=function(a,f,e){this.Se=a;this.zs=f;this.ux=e;this.Nm=[];this.Nm[0]={};this.Nm[0].seconds="HH:MM:ss";this.Nm[0].minutes="HH:MM";this.Nm[0].hours="HH:MM";this.Nm[0].days="dddd";this.Nm[0].weeks="m/dd";this.Nm[0].months=
"mmmm";this.Nm[0].quarters="mmmm";this.Nm[0].halfyears="yyyy";this.Nm[0].years="yyyy";this.Nm[0].twoyears="yyyy";this.Nm[1]={};this.Nm[1].seconds="HH:MM:ss";this.Nm[1].minutes="HH:MM";this.Nm[1].hours="HH:MM";this.Nm[1].days="m/dd";this.Nm[1].weeks="m/dd";this.Nm[1].months="mmm";this.Nm[1].quarters="mmm";this.Nm[1].halfyears="yy";this.Nm[1].years="yy";this.Nm[1].twoyears="yy"};D.prototype.format=function(a,f,e){f=this.Nm[this.Se][f];if(null!=f){var h=!1;if(e){a=a.getTime();for(var h=Object.keys(e),
t=0,u=0;u<h.length;u++)a>=parseInt(h[u],10)&&(t=e[h[u]]);a=new Date(a+t);h=!0}if(-1!=f.indexOf(":"))var v=":";else-1!=f.indexOf("/")&&(v="/");if(v){f=f.split(v);e=this.Vra(a,f[0],h);for(u=1;u<f.length;u++)e+=v+this.Vra(a,f[u],h);return e}return this.Vra(a,f,h)}try{return a.toLocaleString(this.ux)}catch(y){}return a.toLocaleString()};D.prototype.Vra=function(a,f,e){if(e)switch(f){case "ss":return a=a.getUTCSeconds(),10>a?"0"+a:a;case "HH":return a=a.getUTCHours(),10>a?"0"+a:a;case "MM":return a=a.getUTCMinutes(),
10>a?"0"+a:a;case "dd":return a=a.getUTCDate(),10>a?"0"+a:a;case "dddd":return this.zs.VGa[a.getUTCDay()+7];case "m":return a.getUTCMonth()+1;case "mmm":return this.zs.yca[a.getUTCMonth()];case "mmmm":return this.zs.yca[a.getUTCMonth()+12];case "yy":return a.getUTCFullYear().toString().substring(2,4);default:return a.getUTCFullYear()}else switch(f){case "ss":return a=a.getSeconds(),10>a?"0"+a:a;case "HH":return a=a.getHours(),10>a?"0"+a:a;case "MM":return a=a.getMinutes(),10>a?"0"+a:a;case "dd":return a=
a.getDate(),10>a?"0"+a:a;case "dddd":return this.zs.VGa[a.getDay()+7];case "m":return a.getMonth()+1;case "mmm":return this.zs.yca[a.getMonth()];case "mmmm":return this.zs.yca[a.getMonth()+12];case "yy":return a.getFullYear().toString().substring(2,4);default:return a.getFullYear()}};a.f.v(F,a.f,"DvtTimeAxisParser");F.prototype.parse=function(a){this.ru=new Date(a.start);this.$A=new Date(a.end);var f=this.bT();f.ry=a.style;f.id=a.id;f.K6=a.shortDesc;f.Q6=a._tzo;f.wca=a._ip;f.cI=a._cts;f.bI=a._cfs;
f.scale=a.scale;f.Yqa=a.converter;f.MLa=a.zoomOrder?a.zoomOrder:null;f.orientation=a.orientation?a.orientation:"horizontal";return f};F.prototype.bT=function(){var a={};a.start=this.ru.getTime();a.end=this.$A.getTime();return a};var x={};a.f.v(x,a.f,"DvtTimeAxisRenderer");x.W6a=function(a){if(a.Vp()){var p=a.ue();x.MYa(a,p,f.sra(a.J))}};x.MYa=function(c,p,e){var h=0,t=c.a;if(null==c.uf){var u=new a.fc;c.Ea()?(c.uf=new a.Rect(t,h,-c.Qh("top"),p,c.QJ,"axis"),u.qe(h,0,p,c.Bc)):(c.uf=new a.Rect(t,-c.Qh("left"),
h,c.QJ,p,"axis"),u.qe(0,h,c.Bc,p));c.uf.ub(c.n9);c.uf.Xc(!0);c.uf.be(u);c.B(c.uf);(p=f.H1a(c.J))&&c.uf.Sp().ja().setAttribute("class",p)}else c.uf.be(null),u=new a.fc,c.Ea()?(c.uf.na(h),c.uf.Qa(-c.Qh("top")),c.uf.kb(p),c.uf.Lb(c.QJ),u.qe(h,0,p,c.Bc)):(c.uf.na(-c.Qh("left")),c.uf.Qa(h),c.uf.kb(c.QJ),c.uf.Lb(p),u.qe(0,h,c.Bc,p)),c.uf.be(u);c.uf.Hh();c.uf.Sp().ja().setAttribute("stroke-dasharray",c.z0a());e=new a.j(e);c.CH=new a.ma(e.N(a.j.od));p=c.ul;h=h+c.Ea()?c.Qh("left"):c.Qh("top");x.NYa(c,c.Je,
c.uf,c.Bc,h+p,h,h)};x.NYa=function(c,p,e,h,t,u,v){var y=c.a,m=a.m.ea(y),z=new a.ca(y,"block_0_"+p);z.cda=0;z.Yaa=p;e.B(z);p=f.I1a(c.J);e=f.K1a(c.J);for(var w=c.ul,A=c.iCa[c.bl],d=c.yn[c.bl],g=0;g<A.length-1;g++){var B=A[g],r=A[g+1],l=d[g],C=a.Ta.Nc(c.Wa,c.ob,B,h),r=a.Ta.Nc(c.Wa,c.ob,r,h);0!=C&&((c.Ea()?x.jja(y,z,t,u,C,C,c.CH,"s_tick"+B,e):m?x.jja(y,z,h-C,h-C,t,u,c.CH,"s_tick"+B,e):x.jja(y,z,C,C,t,u,c.CH,"s_tick"+B,e)).time=B);l.$o()&&l.Ge(l.gn());B=!1;if(c.Ea())l.$f(),x.$Aa(z,l,v+(t-v)/2,C+(r-C)/
2,t-v,r-C,p);else{if(0===g&&0>C){var D=l.V().b,E=r-Math.max(0,(r-C-D)/2);m||l.bh();C=Math.max(0,E);B=!0}else g===A.length-2&&r>h?(D=l.V().b,E=h-C-Math.max(0,(r-C-D)/2),m&&l.bh(),C=Math.max(C,C+(r-C)/2-D/2)):(E=r-C,C+=(r-C)/2,l.$f());x.$Aa(z,l,m?h-C:C,v+(t-v)/2,E,w,p,B)}}};x.$Aa=function(c,f,e,h,t,u,v,y){c=a.ga.Yc(f,t,u,c);y&&f.$o()&&c&&(y=f.gn(),f.Wc()!==y&&(c=y.length,f.Ge(a.M.tJ+y.substring(Math.max(0,c-(f.Wc().length-1)),c))));f.na(e);a.ga.vQ(f,h);v&&f.Sp().ja().setAttribute("class",v)};x.jja=
function(c,f,e,h,t,u,v,y,m){c=new a.Fb(c,e,t,h,u,y);c.Ha(v);c.Xc(!0);f.B(c);m&&c.Sp().ja().setAttribute("class",m);return c};var f={};a.f.v(f,a.f,"DvtTimeAxisStyleUtils");f.Kxa=1;f.VMa=1;f.Oxa=50;f.Mxa=21;f.Nxa=2;f.L1a=function(a){var p="",e=f.M1a(a);e&&(p=p+"background-color:"+e+";");(e=f.po(a))&&(p=p+"border-color:"+e+";");(e=f.Qh())&&(p=p+"border-width:"+e+";");return p};f.M1a=function(a){return a.backgroundColor};f.po=function(a){return a.borderColor};f.Qh=function(){return f.Kxa};f.J1a=function(a){return a.labelStyle};
f.Wsa=function(a){return a.separatorColor};f.sra=function(a){var p="";(a=f.Wsa(a))&&(p=p+"color:"+a+";");return p};f.H1a=function(a){return a._resources?a._resources.axisClass:void 0};f.W$a=function(a){return a._resources?a._resources.axisBorderClass:void 0};f.I1a=function(a){return a._resources?a._resources.axisLabelClass:void 0};f.K1a=function(a){return a._resources?a._resources.axisSeparatorClass:void 0};f.jab=function(a){return a._resources?a._resources.borderTopVisible:!1};f.iab=function(a){return a._resources?
a._resources.borderRightVisible:!1};f.gab=function(a){return a._resources?a._resources.borderBottomVisible:!1};f.hab=function(a){return a._resources?a._resources.borderLeftVisible:!1};a.K(a,"TimeAxis",a.Ta);a.K(a.Ta,"newInstance",a.Ta.newInstance);a.K(a.Ta.prototype,"render",a.Ta.prototype.ia)})(dvt);
  return dvt;
});
