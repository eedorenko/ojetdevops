/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(['jquery','./DvtToolkit', './DvtPanZoomCanvas'], function($, dvt) {
  // Internal use only.  All APIs and functionality are subject to change at any time.

var ga;function ka(a,F){0==a.indexOf("dvt.")&&(a=a.substring(4));var D=a.split("."),E=eval("dvt");D[0]in E||!E.execScript||E.execScript("var "+D[0]);for(var v;D.length&&(v=D.shift());)D.length||void 0===F?E=E[v]?E[v]:E[v]={}:E[v]=F}Math.floor(2147483648*Math.random()).toString(36);
(function(a){function F(a,p,e,h,t){F.C.Init.call(this,a);this.Init(a,p,e,h,t)}function D(a,p,e,h){this.Init(a,p,e,h)}function E(a,p){this.Init(a,p)}function v(){this.Init()}function x(){this.Init()}function f(){this.Init()}a.f.v(f,a.f,"DvtDiagramLayoutContext");f.prototype.Init=function(){this.eP=this.yD=0;this.a_=!1;this.oi={};this.wh={};this.ON=[];this.NN=[];this.UA={}};f.prototype.qsa=function(){return this.Ds};f.prototype.fJ=function(a){this.Yt=a};f.prototype.Eu=function(){return this.Yt};f.prototype.Jaa=
function(a){this.Hb(a.getId())||(this.yD++,this.ON.push(a));this.oi[a.getId()]=a};f.prototype.rGa=function(a){this.oi[a.getId()]=a};f.prototype.removeNode=function(c,p){p&&(c?a.Y.removeItem(c.Of(),p):(a.Y.removeItem(this.ON,p),this.yD--),delete this.oi[p.getId()])};f.prototype.Hb=function(a){return this.oi[a]};f.prototype.sI=function(a){return this.ON[a]};f.prototype.Aj=function(){return this.yD};f.prototype.Gaa=function(a){this.mg(a.getId())||(this.eP++,this.NN.push(a));this.wh[a.getId()]=a};f.prototype.Jca=
function(c){c&&(this.mg(c.getId())&&(a.Y.removeItem(this.NN,c),this.eP--),delete this.wh[c.getId()])};f.prototype.mg=function(a){return this.wh[a]};f.prototype.oI=function(a){return this.NN[a]};f.prototype.fC=function(){return this.eP};f.prototype.Dua=function(c,p){var e=this.Wea(p);return new a.ht(c.x+e.x,c.y+e.y)};f.prototype.Wea=function(c){for(var p=new a.ht(0,0);c;)if(p.x+=c.$z.x+c.Sh().x,p.y+=c.$z.y+c.Sh().y,c=c.co){if((c=this.Hb(c))&&c.gd()){var e=c.bi();e&&(p.x+=e.left,p.y+=e.top)}}else c=
null;return p};f.prototype.Mwa=function(a){this.a_=a};f.prototype.fua=function(){return this.a_};f.prototype.hwa=function(a){this.Xja=a};f.prototype.Mra=function(){return this.Xja};f.prototype.gxa=function(a){this.Ls=a};f.prototype.mL=function(){return this.Ls};f.prototype.q6=function(a){this.co=a};f.prototype.OQ=function(){return this.co};f.prototype.ct=function(a,p,e,h){this.co&&(this.aj={},"number"!==typeof a&&"string"!==typeof a&&(h=a.left,p=a.right,e=a.bottom,a=a.top),this.aj.top=a,this.aj.right=
p,this.aj.bottom=e,this.aj.left=h)};f.prototype.bi=function(){return this.aj};f.prototype.OKa=function(a){this.lD=a};f.prototype.Rra=function(){return this.lD};f.prototype.Lra=function(a,p){function e(a,c){for(var e=[],t=c.Hb(a)?c.Hb(a).co:null;t;)e.push(t),t=c.Hb(t)?c.Hb(t).co:null;e.reverse();return e}for(var h=e(a,this),t=e(p,this),u=null,f=0;f<h.length&&f<t.length&&h[f]==t[f];f++)u=h[f];return u};f.prototype.$ra=function(){return this.Zka};f.prototype.zwa=function(a){this.Zka=a};f.prototype.pwa=
function(a){this.UA=a};a.f.v(x,a.f,"DvtDiagramLayoutContextLink");x.prototype.Init=function(){this.M_=this.N2=0;this.O0=1;this.$F=this.Ai=!1};x.prototype.setId=function(a){this.lc=a};x.prototype.getId=function(){return this.lc};x.prototype.Zwa=function(a){this.Mpa=a};x.prototype.Ri=function(){return this.Mpa};x.prototype.wwa=function(a){this.Xka=a};x.prototype.zh=function(){return this.Xka};x.prototype.Uh=function(c){this.xh="string"==typeof c?a.G.GK(c):c;this.nj()};x.prototype.Df=function(){return this.xh};
x.prototype.Ao=function(a){this.aP=a;this.nj()};x.prototype.vg=function(){return this.aP};x.prototype.$r=function(a){this.RG=a};x.prototype.Lg=function(){return this.RG};x.prototype.Ywa=function(a){this.N2=a};x.prototype.jL=function(){return this.N2};x.prototype.vwa=function(a){this.M_=a};x.prototype.UK=function(){return this.M_};x.prototype.y6=function(a){this.O0=a};x.prototype.zz=function(){return this.O0};x.prototype.fJ=function(a){this.Yt=a};x.prototype.Eu=function(){return this.Yt};x.prototype.gc=
function(a){this.Ai=a};x.prototype.sR=function(){return this.Ai};x.prototype.as=function(a){this.xi=a;this.nj()};x.prototype.dC=function(){return this.xi};x.prototype.bs=function(a){this.yi=a;this.nj()};x.prototype.eC=function(){return this.yi};x.prototype.SV=function(a){this.$F=a};x.prototype.Kl=function(){return this.$F};x.prototype.CC=function(a){this.pr=a;this.nj()};x.prototype.BC=function(a){this.yv=a;this.nj()};x.prototype.$Q=function(){return this.pr};x.prototype.Du=function(){return this.yv};
x.prototype.s6=function(a){this.gG=a;this.nj()};x.prototype.Qra=function(){return this.gG};x.prototype.setData=function(a){this.sb=a};x.prototype.getData=function(){return this.sb};x.prototype.nj=function(){this.mt&&(this.mt.UA[this.getId()]=!0)};x.prototype.KU=function(a){a&&(this.Uh(a.Df()),this.Ao(a.vg()),this.as(a.xi),this.bs(a.yi),this.CC(a.pr),this.BC(a.Du()),this.s6(a.gG))};a.f.v(v,a.f,"DvtDiagramLayoutContextNode");v.prototype.Init=function(){this.Ht=this.Ai=this.Eja=!1;this.Sy=!0;this.$z=
new a.ht(0,0)};v.prototype.setId=function(a){this.lc=a};v.prototype.getId=function(){return this.lc};v.prototype.aS=function(a){this.Vm=this.Rb=a};v.prototype.Jv=function(){!this.Rb&&this.Jq&&this.Jq.tS(this);return this.Rb};v.prototype.bS=function(a){this.Wm=this.fO=a};v.prototype.qo=function(){!this.fO&&this.Jq&&this.Jq.tS(this);return this.fO};v.prototype.setPosition=function(a){this.nU=a;this.JJ();this.nj()};v.prototype.Sh=function(){return this.nU};v.prototype.Osa=function(c){var f=this.mt;if(f){for(var e=
new a.ht(0,0),h=this,t=!1;h;){var u=h.co;if(u){var H=f.Hb(u);H&&this.Jq&&!H.Sy&&this.Jq.EV(H,!0)}e.x+=h.$z.x+h.Sh().x;e.y+=h.$z.y+h.Sh().y;if(u!=c)if((h=f.Hb(u))&&h.gd()){if(u=h.bi())e.x+=u.left,e.y+=u.top}else h=null;else t=!0,h=null}t||(e=null);return e}};v.prototype.Ao=function(a){this.aP=a;this.nj()};v.prototype.vg=function(){return this.aP};v.prototype.$r=function(a){this.RG=a};v.prototype.Lg=function(){!this.RG&&this.Jq&&this.Jq.tS(this);return this.RG};v.prototype.fJ=function(a){this.Yt=a};
v.prototype.Eu=function(){return this.Yt};v.prototype.mua=function(){return this.Eja};v.prototype.q6=function(a){this.co=a};v.prototype.OQ=function(){return this.co};v.prototype.gc=function(a){this.Ai=a};v.prototype.sR=function(){return this.Ai};v.prototype.as=function(a){this.xi=a;this.nj()};v.prototype.dC=function(){return this.xi};v.prototype.bs=function(a){this.yi=a;this.nj()};v.prototype.eC=function(){return this.yi};v.prototype.C8=function(c){this.gd()&&(this.aj=c)&&(this.Vm&&(this.Vm=new a.gs(this.Vm.x,
this.Vm.y,this.Vm.w-(c.left+c.right),this.Vm.h-(c.top+c.bottom))),this.Wm&&(this.Wm=new a.gs(this.Wm.x,this.Wm.y,this.Wm.w-(c.left+c.right),this.Wm.h-(c.top+c.bottom))))};v.prototype.ct=function(c,f,e,h){this.gd()&&(this.aj={},"number"!==typeof c&&"string"!==typeof c&&(h=c.left,f=c.right,e=c.bottom,c=c.top),this.aj.top=c,this.aj.right=f,this.aj.bottom=e,this.aj.left=h,this.Vm&&(this.Rb=new a.gs(this.Vm.x,this.Vm.y,this.Vm.w+h+f,this.Vm.h+c+e)),this.Wm&&(this.fO=new a.gs(this.Wm.x,this.Wm.y,this.Wm.w+
h+f,this.Wm.h+c+e)),this.nj())};v.prototype.bi=function(){return this.aj};v.prototype.Jn=function(a){this.Ht=a};v.prototype.gd=function(){return this.Ht};v.prototype.BL=function(a){this.Tja=a};v.prototype.Of=function(){return this.Tja};v.prototype.iLa=function(a){this.M1=a};v.prototype.Lsa=function(){return this.M1};v.prototype.JJ=function(){var a=this.M1;a&&a.Sy&&(a.dT(),a.JJ())};v.prototype.dT=function(){this.Sy=!1;this.aS(null);this.bS(null);this.$r(null)};v.prototype.CC=function(a){this.pr=a;
this.nj()};v.prototype.BC=function(a){this.yv=a;this.nj()};v.prototype.$Q=function(){return this.pr};v.prototype.Du=function(){return this.yv};v.prototype.setData=function(a){this.sb=a};v.prototype.getData=function(){return this.sb};v.prototype.nj=function(){this.mt&&(this.mt.UA[this.getId()]=!0)};v.prototype.KU=function(a){a&&(this.setPosition(a.Sh()),this.Ao(a.vg()),this.as(a.xi),this.bs(a.yi),this.CC(a.pr),this.BC(a.Du()),a.bi()&&this.ct(a.bi()))};a.f.v(E,a.f,"DvtDiagramPoint");E.prototype.Init=
function(a,f){this.x=null===a||isNaN(a)?0:a;this.y=null===f||isNaN(f)?0:f};a.f.v(D,a.f,"DvtDiagramRectangle");D.prototype.Init=function(a,f,e,h){this.x=null===a||isNaN(a)?0:a;this.y=null===f||isNaN(f)?0:f;this.w=null===e||isNaN(e)?0:e;this.h=null===h||isNaN(h)?0:h};a.ht=E;a.gs=D;a.Bb=function(a,f,e){this.Init(a,f,e)};a.f.v(a.Bb,a.Ed,"dvt.BaseDiagram");a.Bb.prototype.Init=function(c,f,e){a.Bb.C.Init.call(this,c,f,e);this.a.Gc.ja().setAttributeNS(null,"text-rendering","geometricPrecision");this.hB=
new a.ca(c);this.eu=new a.ca(c);this.gQ=new a.ca(c);this.vfa()};a.Bb.prototype.Dya=function(){var a=this.pc;a.Tz(this.hC());a.Sz(this.iy());a.JV(this.Kb());a.$c.B(this.hB);a.$c.B(this.eu);a.$c.B(this.gQ)};a.Bb.prototype.Kb=function(){return a.jd.nea};a.Bb.prototype.Sz=function(a){this.wx=a;this.pc&&this.pc.Sz(a)};a.Bb.prototype.iy=function(){return this.wx};a.Bb.prototype.Tz=function(a){this.yx=a;this.pc&&this.pc.Tz(a)};a.Bb.prototype.hC=function(){return this.yx};a.Bb.prototype.vfa=function(){this.Sz(2);
this.Tz(0)};a.Bb.prototype.Hb=function(){return null};a.Bb.prototype.mg=function(){return null};a.Bb.prototype.zJ=function(){return[]};a.Bb.prototype.HS=function(){return[]};a.Bb.prototype.D7=function(){return[]};a.Bb.prototype.Zya=function(c){c&&this.jk?this.gr?(this.gr.na(this.Oa/2),this.gr.Qa(this.bb/2),a.ga.Yc(this.gr,this.getWidth()-2*a.ga.EW,Infinity,this)):this.gr=this.aea(this.jk):this.gr&&((c=this.gr.getParent())&&c.removeChild(this.gr),this.gr=null)};a.Bb.prototype.aea=function(c){var f=
this.A();return a.ga.um(this,c,new a.U(0,0,this.getWidth(),this.getHeight()),this.Nb(),f._statusMessageStyle)};a.Bb.prototype.Vca=function(a){this.jk=a};a.Bb.prototype.wza=function(a){this.mU=a};a.Bb.prototype.lS=function(a){this.kU=a;this.pc&&this.pc.lS(a)};a.Bb.prototype.dL=function(){return this.kU};a.Bb.prototype.xza=function(a){this.Eaa=a};a.Bb.prototype.Ue=function(){return this.Fd};a.Bb.prototype.oS=function(c){this.Fd="single"==c?new a.Gb(a.Gb.hv):"multiple"==c?new a.Gb(a.Gb.os):null;this.Nb().Fy(this.Fd)};
a.Bb.prototype.Qk=function(){return this.Fd?!0:!1};a.Bb.prototype.eLa=function(a){this.eu=a};a.Bb.prototype.XKa=function(a){this.hB=a};a.Bb.prototype.rLa=function(a){this.gQ=a};a.Bb.prototype.p7=function(){var c=new f;c.Mwa(a.m.ea(this.a));c.hwa(new a.gs(0,0,this.getWidth(),this.getHeight()));return c};a.Bb.prototype.s7=function(c,f,e,h){f=new v;f.setId(c.getId?c.getId():c.getData().getId());f.aS(a.Xh.yu(c.aR()));f.bS(a.Xh.yu(c.qo()));var t=c.Eu?c.Yt:c.getData()._origData;f.fJ(t);f.setData(t);f.$r(a.Xh.yu(c.Lg()));
f.Ao(a.Xh.z3(c.vg()));f.gc(1==c.hb());c.gd()&&(f.Jn(!0),f.C8(a.Bb.xba(c.bi())));f.q6(c.lj());f.Jq=this;f.Sy=!e;f.mt=h;return f};a.Bb.prototype.r7=function(c,f,e,h,t){h=new x;h.setId(c.getId?c.getId():c.getData().getId());h.Zwa(f?f:c.getData().Ri());h.wwa(e?e:c.getData().zh());f=c.Eu?c.Yt:c.Kl()?c.getData()._links:c.getData()._origData;h.fJ(f);h.setData(f);h.$r(a.Xh.yu(c.Lg()));h.Ao(a.Xh.z3(c.vg()));h.Ywa(c.jL());h.vwa(c.UK());h.y6(c.zz());h.gc(1==c.hb());h.SV(1==c.Kl());h.mt=t;return h};a.Bb.prototype.sda=
function(c,f){var e=c.bi();if(e){var h=c.co;h&&(h=this.Hb(h))&&h.ct(a.Bb.bi(e))}for(var t=h=Number.MAX_VALUE,e=0;e<c.Aj();e++){var u=c.sI(e),H=u.Sh();H&&(h=Math.min(h,H.x),t=Math.min(t,H.y));var y=u.Lg(),u=u.vg();y&&u&&(h=Math.min(h,u.x+y.x),t=Math.min(t,u.y+y.y))}for(e=0;e<c.fC();e++){var u=c.oI(e),m=u.Df();if(m)for(y=a.Qd.dX(m),H=0;H<y.length;H++)var z=y[H],h=Math.min(h,z.x),t=Math.min(t,z.y);y=u.Lg();u=u.vg();y&&u&&(h=Math.min(h,u.x+y.x),t=Math.min(t,u.y+y.y))}y=new a.P(-h,-t);h=y.x;t=y.y;z=c.UA;
for(e=0;e<c.Aj();e++)u=c.sI(e),u.co&&(u.$z=new a.ht(y.x,y.y)),z[u.getId()]&&(m=this.Hb(u.getId()),(H=u.Sh())&&m.Yga(H.x+h,H.y+t),this.aW(u,m,a.Xh.y3(H)),m.gd()&&(u=u.bi())&&m.ct(a.Bb.bi(u)));for(e=0;e<c.fC();e++)if(u=c.oI(e),z[u.getId()]){var w=this.mg(u.getId()),H=this.afa(w,u,y),A=H.x,d=H.y;if(m=u.Df()){0<m.length&&!isNaN(m[0])&&(m=a.Qd.nW(m));for(var g=[],H=0;H<m.length;)isNaN(m[H])?(g.push(m[H]),H++):(g.push(m[H]+A),g.push(m[H+1]+d),H+=2);w.Uh(g)}this.aW(u,w,new a.P(-A,-d))}if(e=c.mL())this.WG=
new a.U(e.x+h,e.y+t,e.w,e.h);f&&(this.J0=new a.P(h,t))};a.Bb.prototype.afa=function(c,f,e){var h=new a.P(0,0);if(!c.lj())h=e;else if(c.lj()!=f.gG){f=f.gG;for(c=this.Hb(c.lj());c;){var t=c.bi();h.x-=t.left-c.hX().x;h.y-=t.top-c.hX().y;c=c.lj();c=c!=f?this.Hb(c):null}f||(h.x+=e.x,h.y+=e.y)}return h};a.Bb.prototype.VS=function(){return this.WG?!0:!1};a.Bb.prototype.Jxa=function(){this.WG=null};a.Bb.prototype.oda=function(a){if(0==this.hC()){var f=this.pc;a=a?a:this.LS();f.Tz(1*Math.min(this.Rda(a),f.iy()));
return a}return null};a.Bb.prototype.Rda=function(a){if(!a)return 0;var f=this.pc;return Math.min((this.Oa-2*f.TH)/a.b,(this.bb-2*f.TH)/a.i)};a.Bb.prototype.LS=function(){for(var a=null,f,e,h,t=this.D7(),u=0;u<t.length;u++)f=t[u],(h=this.Hb(f))&&h.Wy&&(f=h.bfa(),e=h.ac(),h=h.qc(),f.x+=e,f.y+=h,a?(e=a.x,h=a.y,a.x=Math.min(a.x,f.x),a.y=Math.min(a.y,f.y),a.b=Math.max(e+a.b,f.x+f.b)-a.x,a.i=Math.max(h+a.i,f.y+f.i)-a.y):a=f);t=this.zJ();for(u=0;u<t.length;u++)f=t[u],(e=this.mg(f))&&e.Wy&&(f=e.$ea(),e.lj()||
(a?(e=a.x,h=a.y,a.x=Math.min(a.x,f.x),a.y=Math.min(a.y,f.y),a.b=Math.max(e+a.b,f.x+f.b)-a.x,a.i=Math.max(h+a.i,f.y+f.i)-a.y):a=f));return a};a.Bb.xY=function(c,f,e){if(null==f&&!e)return c;var h=new a.P(c.x,c.y),t=new a.P(c.x+c.b,c.y),u=new a.P(c.x,c.y+c.i);c=new a.P(c.x+c.b,c.y+c.i);var H=new a.Da;null!=f&&(e&&H.translate(-e.x,-e.y),H.rotate(f),e&&H.translate(e.x,e.y));f=H.xm(h);t=H.xm(t);u=H.xm(u);c=H.xm(c);H=Math.min(Math.min(f.x,t.x),Math.min(u.x,c.x));e=Math.min(Math.min(f.y,t.y),Math.min(u.y,
c.y));return new a.U(H,e,Math.max(Math.max(f.x,t.x),Math.max(u.x,c.x))-H,Math.max(Math.max(f.y,t.y),Math.max(u.y,c.y))-e)};a.Bb.prototype.Sda=function(a,f,e,h,t){var u=this.pc,H=u.ue().b/2,y=u.ue().i/2;e=H-(e+a)*t;h=y-(h+f)*t;a=H-a*t;f=y-f*t;this.VS()&&(y=this.WG,-y.x*t<e?(H=e+y.x*t,e-=H,a+=H):-y.x*t>a&&(H=-y.x*t-a,e-=H,a+=H),-y.y*t<h?(t=h+y.y*t,h-=t,f+=t):-y.y*t>f&&(t=-y.y*t-f,h-=t,f+=t));u.B6(e);u.C6(h);u.z6(a);u.A6(f)};a.Bb.prototype.aKa=function(a){this.gQ.B(a)};a.Bb.prototype.bKa=function(a){this.hB.B(a)};
a.Bb.prototype.cKa=function(a){this.eu.B(a)};a.Bb.bi=function(a){var f={};f.top=a.top;f.right=a.right;f.bottom=a.bottom;f.left=a.left;return f};a.Bb.xba=function(a){var f={};f.top=a.top;f.right=a.right;f.bottom=a.bottom;f.left=a.left;return f};a.Bb.prototype.aW=function(c,f,e){var h=c.Lg(),h=a.Xh.Xqa(h),t=c.vg();if(h&&t){e=new a.P(t.x-e.x,t.y-e.y);var t=c.xi,u=a.Xh.y3(c.yi);f.$r(h);f.Ao(e);f.jS(c.Du(),c.pr);null!=t&&f.as(t);u&&f.bs(u)}};a.Bb.prototype.rsa=function(){return this.J0?this.J0:new a.P(0,
0)};a.Bb.prototype.W3=function(c){c=c.ja().getBoundingClientRect();var f=this.pc.$c.ja().getBoundingClientRect(),e=this.pc.$c.La();return new a.U(c.left-f.left+e.zc,c.top-f.top+e.tc,c.width,c.height)};a.yf=function(a,f){this.Init(a,f)};a.f.v(a.yf,a.EJ,"dvt.BaseDiagramKeyboardHandler");a.yf.Gia=0;a.yf.uia=1;a.yf.prototype.Init=function(c,f){a.yf.C.Init.call(this,c,f);this.wa=c};a.yf.prototype.Iz=function(c){return c.keyCode==a.KeyboardEvent.rg?!1:this.Th(c)&&!c.ctrlKey};a.yf.prototype.yo=function(c){return c.keyCode==
a.KeyboardEvent.Kj&&c.ctrlKey};a.yf.prototype.f4=function(c,f,e){f=f.keyCode;if(!e||1>e.length||!c)return null;var h=e[0];c=c.md();c=c.x+c.b/2;for(var t=0;t<e.length;t++){var u=e[t],H=u.md(),H=H.x+H.b/2;if(f==a.KeyboardEvent.Ty&&H<=c||f==a.KeyboardEvent.hw&&H>=c){h=u;break}}return h};a.yf.prototype.zsa=function(c,f,e,h){if(!h)return null;if(!f)return h[0];if(!c)return f;this.ija(c,h);h.sort(this.Qla());this.Eoa(h);c=e.keyCode==a.KeyboardEvent.kf?!0:!1;for(var t=e=0;t<h.length;t++)if(h[t]===f){e=c?
t==h.length-1?0:t+1:0==t?h.length-1:t-1;break}return h[e]};a.yf.prototype.Py=function(){return null};a.yf.prototype.yla=function(a,f){var e=this.Py(f.Ri?f.Ri():f.getData().Ri()),h=this.Py(f.zh?f.zh():f.getData().zh()),h=a==e?h:e,e=this.wG(a),h=this.wG(h),e=Math.atan2(h.y-e.y,h.x-e.x);return e=0>e?e+2*Math.PI:e};a.yf.prototype.wG=function(c){c=c.md();return new a.P(c.x+c.b/2,c.y+c.i/2)};a.yf.prototype.Ula=function(a){var f=this.Py(a.Ri?a.Ri():a.getData().Ri());a=this.Py(a.zh?a.zh():a.getData().zh());
f=this.wG(f);a=this.wG(a);return Math.sqrt(Math.pow(a.x-f.x,2)+Math.pow(a.y-f.y,2))};a.yf.prototype.Rla=function(c,f){return c==this.Py(f.zh?f.zh():f.getData().zh())?a.yf.uia:a.yf.Gia};a.yf.prototype.Qla=function(){return function(c,f){var e=c.EN,h=f.EN,t=-1;!a.yf.LZ(e,h)&&e>h?t=1:a.yf.LZ(e,h)&&(c.Dt>f.Dt?t=1:f.Dt==c.Dt&&c.zA>f.zA?t=1:f.Dt==c.Dt&&c.zA==f.zA&&(t=0));return t}};a.yf.prototype.Eoa=function(a){for(var f=0;f<a.length;f++){var e=a[f];e.EN=void 0;e.Dt=void 0;e.zA=void 0}};a.yf.prototype.ija=
function(a,f){for(var e=0;e<f.length;e++){var h=f[e];h.EN=this.yla(a,h);h.Dt=this.Ula(h);h.zA=this.Rla(a,h)}};a.yf.LZ=function(a,f){var e=1E-7>=Math.abs(a-f);e||(e=1E-7>=Math.abs(2*Math.PI+Math.min(a,f)-Math.max(a,f)));return e};a.hc=function(a,f,e){this.Init(a,f,e)};a.f.v(a.hc,a.ca,"dvt.BaseDiagramNode");a.hc.prototype.Init=function(c,f,e){a.hc.C.Init.call(this,c,null,f);this.wa=e;this.Ai=this.Ht=!1;this.Lx=!0};a.hc.prototype.getData=function(){return null};a.hc.prototype.aR=function(a){return this.qo(a)};
a.hc.prototype.qo=function(){return null};a.hc.prototype.Ao=function(c){c&&(this.$O=c,a.hc.qt(this.yd,c,this.Lg(!0),this.xi,this.yi))};a.hc.prototype.vg=function(){return this.$O};a.hc.prototype.Lg=function(){return null};a.hc.prototype.$r=function(){};a.hc.prototype.bi=function(){return null};a.hc.prototype.ct=function(){};a.hc.prototype.gd=function(){return this.Ht};a.hc.prototype.Jn=function(a){this.Ht=a};a.hc.prototype.hb=function(){return this.Ai};a.hc.prototype.gc=function(a){this.Ai=a};a.hc.prototype.Kn=
function(a){this.Lx=a};a.hc.prototype.gb=function(){return this.wa.Qk()&&this.Lx};a.hc.prototype.as=function(c){this.xi=c;a.hc.qt(this.yd,this.vg(),this.Lg(!0),c,this.yi)};a.hc.prototype.dC=function(){return this.xi};a.hc.prototype.bs=function(c){this.yi=c;a.hc.qt(this.yd,this.vg(),this.Lg(!0),this.xi,c)};a.hc.prototype.eC=function(){return this.yi};a.hc.prototype.bfa=function(){var c=this.aR(!0),f=new a.U(c.x,c.y,c.b,c.i),e=e=this.vg(),h=this.xi,t=this.yi,u=this.Lg(!0);e&&u&&(null!=h&&(u=a.Bb.xY(u,
h,t)),f.x=Math.min(c.x,u.x+e.x),f.y=Math.min(c.y,u.y+e.y),f.b=Math.max(c.x+c.b,u.x+e.x+u.b)-f.x,f.i=Math.max(c.y+c.i,u.y+e.y+u.i)-f.y);return f};a.hc.QL=function(c,f,e,h){f=new a.Da;null!=e&&(h&&f.translate(-h.x,-h.y),f.rotate(e),h&&f.translate(h.x,h.y));c&&f.translate(c.x,c.y);return f};a.hc.qt=function(c,f,e,h,t){c&&(f=a.hc.QL(f,e,h,t),c.Xa(f))};a.hc.prototype.Yga=function(a,f){this.jb(a,f)};a.hc.prototype.hX=function(){return new a.P(this.ac(),this.qc())};a.hc.prototype.Kd=function(){return null};
a.hc.prototype.md=function(c){if(this.ik)return this.wa.W3(this);var f=this.qo(c);c=this.tm(new a.P(f.x,f.y));f=this.tm(new a.P(f.x+f.b,f.y+f.i));return new a.U(c.x,c.y,f.x-c.x,f.y-c.y)};a.hc.prototype.$j=function(){return this.ja()};a.hc.prototype.qh=function(){};a.hc.prototype.mf=function(){};a.hc.prototype.Ae=function(){};a.hc.prototype.rd=function(){return null};a.hc.prototype.qqa=function(a){this.Cx||(this.Cx=[]);this.Cx.push(a)};a.hc.prototype.Iva=function(c){this.Cx&&(c=a.Y.$b(this.Cx,c),-1!=
c&&this.Cx.splice(c,1))};a.hc.prototype.lqa=function(a){this.ox||(this.ox=[]);this.ox.push(a)};a.hc.prototype.Hva=function(c){this.ox&&(c=a.Y.$b(this.ox,c),-1!=c&&this.ox.splice(c,1))};a.hc.prototype.jS=function(){};a.hc.prototype.lj=function(){return null};a.Ab=function(a,f,e){this.Init(a,f,e)};a.f.v(a.Ab,a.ca,"dvt.BaseDiagramLink");a.Ab.prototype.Init=function(c,f,e){a.Ab.C.Init.call(this,c,null,f);this.wa=e;this.Ai=!1;this.Lx=!0};a.Ab.prototype.Ss=function(){return null};a.Ab.prototype.qLa=function(a){this.X=
a};a.Ab.prototype.yg=function(){return this.X};a.Ab.prototype.as=function(c){this.xi=c;a.Ab.qt(this.yd,this.vg(),this.Lg(),c,this.yi)};a.Ab.prototype.dC=function(){return this.xi};a.Ab.prototype.bs=function(c){this.yi=c;a.Ab.qt(this.yd,this.vg(),this.Lg(),this.xi,c)};a.Ab.prototype.eC=function(){return this.yi};a.Ab.prototype.vg=function(){return this.$O};a.Ab.prototype.Ao=function(c){c&&(this.$O=c,a.Ab.qt(this.yd,c,this.Lg(),this.xi,this.yi))};a.Ab.prototype.Lg=function(){return null};a.Ab.prototype.$r=
function(){};a.Ab.prototype.jL=function(){return 0};a.Ab.prototype.UK=function(){return 0};a.Ab.prototype.Kn=function(a){this.Lx=a};a.Ab.prototype.gb=function(){return this.wa.Qk()&&this.Lx};a.Ab.prototype.hb=function(){return this.Ai};a.Ab.prototype.gc=function(a){this.Ai=a};a.Ab.prototype.SV=function(a){this.$F=a};a.Ab.prototype.Kl=function(){return this.$F};a.Ab.prototype.y6=function(){};a.Ab.prototype.zz=function(){return 1};a.Ab.prototype.eV=function(){return"solid"};a.Ab.prototype.aL=function(){return null};
a.Ab.prototype.E7=function(){return this.eV()};a.Ab.prototype.Ny=function(){return this.zz()};a.Ab.prototype.qW=function(c,f,e,h){if(f||h){var t;h||(t=this.X.ve().clone(),t.vm(a.Pa.Tk),t.We(!1));if(t=a.Ma.rW(this.a,f,h,t,this))this.X.B(t),a.Ma.Gw(t,f,h,c,e);return t}};a.Ab.prototype.$ea=function(){var c=new a.U(Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),f=this.Df();if(f)for(var f=a.Qd.dX(f),e,h,t,u,H=0;H<f.length;H++)e=f[H],h=Math.max(c.x+c.b,e.x),t=Math.max(c.y+c.i,e.y),
u=Math.min(c.x,e.x),e=Math.min(c.y,e.y),c.x=u,c.y=e,c.b=h-u,c.i=t-e;f=new a.U(c.x,c.y,c.b,c.i);h=this.vg();t=this.xi;u=this.yi;H=this.Lg();h&&H&&(null!=t&&(H=a.Bb.xY(H,t,u)),f.x=Math.min(c.x,H.x+h.x),f.y=Math.min(c.y,H.y+h.y),f.b=Math.max(c.x+c.b,H.x+h.x+H.b)-f.x,f.i=Math.max(c.y+c.i,H.y+h.y+H.i)-f.y);return f};a.Ab.prototype.Uh=function(c){this.Qw=c;a.Qd.EX(c)?(this.Fx=c,this.xh=a.Qd.oW(c)):(this.xh=c,this.Fx=a.Qd.nW(c));this.X&&this.X instanceof a.Ib&&(this.X.Dy(this.Fx),this.rD?a.Ma.Gw(this.rD,
this.Ss(),null,this.xh,1):this.rD=this.qW(this.xh,this.Ss(),1,null),this.HD?a.Ma.Gw(this.HD,this.Qv(),null,this.xh,0):this.HD=this.qW(this.xh,this.Qv(),0,null));var f=c=null;this.Rm&&this.Rm.Np instanceof a.Ib&&this.Rm.Np.Dy(this.Fx);this.Rm&&(c=this.Rm.Gr)&&a.Ma.Gw(c,this.Qv(),null,this.xh,0);this.Rm&&(f=this.Rm.Fr)&&a.Ma.Gw(f,this.Ss(),null,this.xh,1);this.IO&&this.IO.Np instanceof a.Ib&&this.IO.Np.Dy(this.Fx);this.Lpa&&this.Lpa.setPosition(this.Dba());this.Wka&&this.Wka.setPosition(this.Cba())};
a.Ab.prototype.Df=function(){return this.Qw};a.Ab.prototype.Dba=function(){return this.xh?new a.P(this.xh[0],this.xh[1]):null};a.Ab.prototype.Cba=function(){if(!this.xh)return null;var c=this.xh.length;return new a.P(this.xh[c-2],this.xh[c-1])};a.Ab.QL=function(c,f,e,h){f=new a.Da;null!=e&&(h&&f.translate(-h.x,-h.y),f.rotate(e),h&&f.translate(h.x,h.y));c&&f.translate(c.x,c.y);return f};a.Ab.qt=function(c,f,e,h,t){c&&(f=a.Ab.QL(f,e,h,t),c.Xa(f))};a.Ab.prototype.t7=function(c,f,e,h,t){f||0==f||(f=1);
e||0==e||(e=0);e=this.Ny()+e;c=new a.ma(c,f,e);return new F(this.a,this.Fx,c,h,t)};a.Ab.prototype.bea=function(a,f,e,h,t){a=this.t7(a,f,e,h,t);this.HD&&this.Qv()&&a.yqa(this.xh,this.Qv(),null,this);this.rD&&this.Ss()&&a.xqa(this.xh,this.Ss(),null,this);return a};a.Ab.prototype.b7=function(c,f){var e=this.E7(),e=a.Qd.qJ(e);c.vm(e,a.Qd.jM(e,f),a.Qd.kM(e,f))};a.Ab.prototype.QM=function(a,f){if(a){var e=null;f.Zb&&(e=f.Zb());if(e){var h=a.ve()?a.ve().clone():null,t=a.Hd()?a.Hd().clone():null;h&&h.Yp&&
(h.Yp(e),a.Ha(h));t&&t.Yp&&(t.Yp(e),a.Ia(t))}}};a.Ab.prototype.Kd=function(){return null};a.Ab.prototype.md=function(a){return this.lj()&&this.wa.A().renderer?this.wa.W3(this):this.V(a)};a.Ab.prototype.$j=function(){return this.ja()};a.Ab.prototype.qh=function(){};a.Ab.prototype.mf=function(){};a.Ab.prototype.Ae=function(){};a.Ab.prototype.Kwa=function(a){this.v$=a};a.Ab.prototype.rd=function(){return null};a.Ab.prototype.jS=function(){};a.Ab.prototype.lj=function(){return null};a.Xh={};a.f.v(a.Xh,
a.f,"dvt.DiagramLayoutUtils");a.Xh.yu=function(c){return void 0===c||null==c?null:new a.gs(c.x,c.y,c.b,c.i)};a.Xh.z3=function(c){return void 0===c||null==c?null:new a.ht(c.x,c.y)};a.Xh.Xqa=function(c){return c?new a.U(c.x,c.y,c.w,c.h):null};a.Xh.y3=function(c){return c?new a.P(c.x,c.y):null};a.f.v(F,a.ca,"DvtDiagramLinkUnderlay");F.prototype.Init=function(c,f,e,h,t){f||(f=["M",0,0,"L",1,0]);this.Uj=e;this.Uj||(this.Uj=new a.ma("#ffffff",1,1));e.We(!0);this.Np=new a.Ib(c,f);this.Np.Ha(e);this.Np.Ia(null);
this.Np.Na(h).sc(t);this.B(this.Np);this.lQ=this.Fr=this.mQ=this.Gr=null};F.prototype.yqa=function(a,f,e,h){a=this.sW(a,f,e,h,0);this.Gr&&this.removeChild(this.Gr);this.Gr=a;this.mQ=f;this.B(this.Gr)};F.prototype.xqa=function(a,f,e,h){a=this.sW(a,f,e,h,1);this.Fr&&this.removeChild(this.Fr);this.Fr=a;this.lQ=f;this.B(this.Fr)};F.prototype.sW=function(c,f,e,h,t){var u=this.Uj.clone();u.We(!1);h=a.Ma.rW(this.a,f,e,u,h);a.Ma.Gw(h,f,e,c,t);return h};F.prototype.Ha=function(c,f){this.Uj=c;c.We(!0);this.Np.Ha(c);
if(this.Gr){var e=c.clone();e.vm(a.Pa.Tk);e.We(!1);if(this.mQ==a.Ma.HE||this.mQ==a.Ma.IE)e.kb(f),this.Gr.ab(c.Zb());this.Gr.Ha(e)}if(this.Fr){e=c.clone();e.vm(a.Pa.Tk);e.We(!1);if(this.lQ==a.Ma.HE||this.lQ==a.Ma.IE)e.kb(f),this.Fr.ab(c.Zb());this.Fr.Ha(e)}};F.prototype.ve=function(){return this.Uj};a.Qd={};a.f.v(a.Qd,a.f,"dvt.DiagramLinkUtils");a.Qd.qJ=function(c){var f=a.Pa.Tk;switch(c){case "dash":f=a.Pa.Xu;break;case "dot":f=a.Pa.bA;break;case "dashDot":f=a.Pa.TL}return f};a.Qd.jM=function(c,f){if(a.Pa.Tk==
c)return null;if(a.Pa.Xu==c)return f?"8,2":"6,4";if(a.Pa.bA==c)return f?"4,1":"2,3";if(a.Pa.TL==c)return f?"10,1,4,1":"8,3,2,3"};a.Qd.kM=function(c,f){return f&&a.Pa.Tk!=c?1:null};a.Qd.eJa=function(c,f){var e=a.Qd.qJ(c);return{_type:c,strokeDasharray:a.Qd.jM(e,f),strokeDashoffset:a.Qd.kM(e,f)}};a.Qd.vKa=function(a){return a?(a=a.split(/[\s,]+/),0<a.length%2&&(a=a.concat(a)),a.toString()):a};a.Qd.MHa=function(c){if(c){c=c.split(/[\s,]+/);for(var f="",e=0;e<c.length;e++){var h=a.j.Xe(a.bc.trim(c[e])),
f=f+(0==e%2?h+2:2<=h?h-2:0);e<c.length-1&&(f+=", ")}return f}return null};a.Qd.nW=function(a){var f=[];if(a)for(var e=0;e<a.length;e+=2)0==e?f.push("M"):f.push("L"),f.push(a[e]),f.push(a[e+1]);return f};a.Qd.oW=function(a){var f=[];if(a)for(var e=0;e<a.length;e++)isNaN(a[e])||f.push(a[e]);return f};a.Qd.EX=function(a){return a&&0<a.length?isNaN(a[0]):!1};a.Qd.dX=function(c){var f=[];c=a.Qd.EX(c)?a.Qd.oW(c):c;for(var e=0;e<c.length;e+=2)f.push(new a.P(c[e],c[e+1]));return f};a.Ma={};a.f.v(a.Ma,a.f,
"dvt.DiagramLinkConnectorUtils");a.Ma.cNa="endConnector";a.Ma.lPa="startConnector";a.Ma.fW="arrowOpen";a.Ma.HE="arrow";a.Ma.IE="arrowConcave";a.Ma.hW="rectangle";a.Ma.iW="rectangleRounded";a.Ma.gW="circle";a.Ma.rW=function(c,f,e,h,t){if(e)return a.Ma.$da(c,e,t);e=t.Ny();switch(f){case a.Ma.HE:return a.Ma.cea(c,e,t.aL());case a.Ma.IE:return a.Ma.dea(c,e,t.aL());case a.Ma.fW:return a.Ma.iea(c,e,h);case a.Ma.gW:return a.Ma.Xda(c,e,h);case a.Ma.hW:return a.Ma.tW(c,e,h);case a.Ma.iW:return a.Ma.lea(c,
e,h)}return null};a.Ma.Gw=function(c,f,e,h,t){f=a.Ma.Oda(c,f,e,h,t);c.Xa(f)};a.Ma.Oda=function(c,f,e,h,t){f=-1;var u=0,H=0,y=0;h&&(u=h.length,1===t?(2<=u&&(H=h[u-2],y=h[u-1]),4<=u?(f=h[u-4],u=h[u-3]):(f=H-1E-4,u=y)):(2<=u&&(H=h[0],y=h[1]),4<=u?(f=h[2],u=h[3]):(f=H+1E-4,u=y)));h=H;t=y;f=a.Ma.Nda(f,u,H,y);H=c.Zja;H||(H=c.La().clone(),c.Zja=H);y=new a.Da;e&&(e=a.Ma.V_(c),u=c.ng(),c=c.fh(),y.translate(-.5*e.b*u,-.5*e.i*c));y.rotate(f);y.translate(h,t);y.concat(H);return y};a.Ma.V_=function(a){var f=a.Mja;
f||(f=a.V(),a.Mja=f);return f};a.Ma.Nda=function(a,f,e,h){return Math.atan2(h-f,e-a)};a.Ma.dea=function(c,f,e){f=6*a.Ma.yG(f,.5);var h=.8*f;c=new a.Sf(c,[-.22*f,-.5*h,.78*f,0,-.22*f,.5*h,0,0]);c.ab(e);return c};a.Ma.cea=function(c,f,e){f=5*a.Ma.yG(f,.5);var h=.8*f;c=new a.Sf(c,[0,-.5*h,f,0,0,.5*h]);c.ab(e);return c};a.Ma.yG=function(a,f){return 1>=a?a:1+(a-1)*f};a.Ma.iea=function(c,f,e){f*=3;var h=e.getWidth();c=new a.Do(c,[-f+h*Math.sqrt(2)/2,-f,h*Math.sqrt(2)/2,0,-f+h*Math.sqrt(2)/2,f]);c.Ha(e);
c.Ia(null);return c};a.Ma.T3=function(a){return 2*a};a.Ma.S4=function(a){return 3*a};a.Ma.Xda=function(c,f,e){f=a.Ma.T3(f);c=new a.Ui(c,f,0,f);c.Ha(e);c.Ia(null);return c};a.Ma.tW=function(c,f,e){f=a.Ma.S4(f);c=new a.Rect(c,0,-f/2,f,f);c.Ha(e);c.Ia(null);return c};a.Ma.lea=function(c,f,e){c=a.Ma.tW(c,f,e);c.Qz(f);return c};a.Ma.$da=function(c,f,e){c=e.wa.M0a();c.uwa(e.getData().I2a());c.D7a(e,e.m1a);c.B8a(e.g4a());return a.a7.gva(c,f,e)};a.Ma.xNa=function(c,f,e,h,t){return e?(f=a.Ma.V_(c),c=c.ng(),
.5*f.b*c):a.Ma.X4(f,t.Ny(),h.getWidth())};a.Ma.X4=function(c,f,e){switch(c){case a.Ma.fW:return e*Math.sqrt(2);case a.Ma.HE:return c=a.Ma.yG(f,.5),5*c;case a.Ma.IE:return c=a.Ma.yG(f,.5),4.68*c;case a.Ma.gW:return 2*a.Ma.T3(e)+e/2;case a.Ma.hW:case a.Ma.iW:return a.Ma.S4(e)+e/2;default:return 0}};a.K(f.prototype,"getLayout",f.prototype.qsa);a.K(f.prototype,"getLayoutAttributes",f.prototype.Eu);a.K(f.prototype,"getNodeById",f.prototype.Hb);a.K(f.prototype,"getNodeByIndex",f.prototype.sI);a.K(f.prototype,
"getNodeCount",f.prototype.Aj);a.K(f.prototype,"getLinkById",f.prototype.mg);a.K(f.prototype,"getLinkByIndex",f.prototype.oI);a.K(f.prototype,"getLinkCount",f.prototype.fC);a.K(f.prototype,"localToGlobal",f.prototype.Dua);a.K(f.prototype,"isLocaleR2L",f.prototype.fua);a.K(f.prototype,"getComponentSize",f.prototype.Mra);a.K(f.prototype,"setViewport",f.prototype.gxa);a.K(f.prototype,"getViewport",f.prototype.mL);a.K(f.prototype,"getContainerId",f.prototype.OQ);a.K(f.prototype,"setContainerPadding",
f.prototype.ct);a.K(f.prototype,"getContainerPadding",f.prototype.bi);a.K(f.prototype,"getCurrentViewport",f.prototype.Rra);a.K(f.prototype,"getCommonContainer",f.prototype.Lra);a.K(f.prototype,"getEventData",f.prototype.$ra);a.K(v.prototype,"getId",v.prototype.getId);a.K(v.prototype,"getBounds",v.prototype.Jv);a.K(v.prototype,"getContentBounds",v.prototype.qo);a.K(v.prototype,"setPosition",v.prototype.setPosition);a.K(v.prototype,"getPosition",v.prototype.Sh);a.K(v.prototype,"getRelativePosition",
v.prototype.Osa);a.K(v.prototype,"setLabelPosition",v.prototype.Ao);a.K(v.prototype,"getLabelPosition",v.prototype.vg);a.K(v.prototype,"getLabelBounds",v.prototype.Lg);a.K(v.prototype,"getLayoutAttributes",v.prototype.Eu);a.K(v.prototype,"isReadOnly",v.prototype.mua);a.K(v.prototype,"getContainerId",v.prototype.OQ);a.K(v.prototype,"getSelected",v.prototype.sR);a.K(v.prototype,"setLabelRotationAngle",v.prototype.as);a.K(v.prototype,"getLabelRotationAngle",v.prototype.dC);a.K(v.prototype,"setLabelRotationPoint",
v.prototype.bs);a.K(v.prototype,"getLabelRotationPoint",v.prototype.eC);a.K(v.prototype,"setContainerPadding",v.prototype.ct);a.K(v.prototype,"getContainerPadding",v.prototype.bi);a.K(v.prototype,"setDisclosed",v.prototype.Jn);a.K(v.prototype,"isDisclosed",v.prototype.gd);a.K(v.prototype,"setChildNodes",v.prototype.BL);a.K(v.prototype,"getChildNodes",v.prototype.Of);a.K(v.prototype,"getParentNode",v.prototype.Lsa);a.K(v.prototype,"setLabelValign",v.prototype.CC);a.K(v.prototype,"setLabelHalign",v.prototype.BC);
a.K(v.prototype,"getLabelValign",v.prototype.$Q);a.K(v.prototype,"getLabelHalign",v.prototype.Du);a.K(v.prototype,"getData",v.prototype.getData);a.K(x.prototype,"getId",x.prototype.getId);a.K(x.prototype,"getStartId",x.prototype.Ri);a.K(x.prototype,"getEndId",x.prototype.zh);a.K(x.prototype,"setPoints",x.prototype.Uh);a.K(x.prototype,"getPoints",x.prototype.Df);a.K(x.prototype,"setLabelPosition",x.prototype.Ao);a.K(x.prototype,"getLabelPosition",x.prototype.vg);a.K(x.prototype,"getLabelBounds",x.prototype.Lg);
a.K(x.prototype,"getStartConnectorOffset",x.prototype.jL);a.K(x.prototype,"getEndConnectorOffset",x.prototype.UK);a.K(x.prototype,"getLinkWidth",x.prototype.zz);a.K(x.prototype,"getLayoutAttributes",x.prototype.Eu);a.K(x.prototype,"getSelected",x.prototype.sR);a.K(x.prototype,"setLabelRotationAngle",x.prototype.as);a.K(x.prototype,"setLabelRotationAngle",x.prototype.dC);a.K(x.prototype,"setLabelRotationPoint",x.prototype.bs);a.K(x.prototype,"getLabelRotationPoint",x.prototype.eC);a.K(x.prototype,
"isPromoted",x.prototype.Kl);a.K(x.prototype,"setLabelValign",x.prototype.CC);a.K(x.prototype,"setLabelHalign",x.prototype.BC);a.K(x.prototype,"getLabelValign",x.prototype.$Q);a.K(x.prototype,"getLabelHalign",x.prototype.Du);a.K(x.prototype,"setCoordinateSpace",x.prototype.s6);a.K(x.prototype,"getCoordinateSpace",x.prototype.Qra);a.K(x.prototype,"getData",x.prototype.getData);a.K(a,"DiagramPoint",a.ht);a.K(a,"DiagramRectangle",a.gs)})(dvt);
(function(a){function F(a){this.Init(a)}function D(a,c,e){this.Init(a,c,e)}function E(a,c,e,h){this.Init(a,c,e,h)}function v(a,c){this.Init(a,c)}function x(a,c,e){this.Init(a,c,e);this.wa=e;this.A$=this.z$=null}function f(a,c,e,h){this.Init(a,c,e,h)}function c(a,c,e){this.Init(a,c,e)}function p(){this.Init({skyros:p.If,alta:p.Qg})}function e(a,c){e.C.constructor.call(this,a,c);this.UKa(e.oZ);this.wa=c}var h={};a.f.v(h,a.f);h.Gca=function(c,e){!c||null==c[e]||c[e]instanceof Object||(c[e]=a.j.HK(c[e]))};
h.nva=function(c){c&&null!=c.style&&(c.style instanceof Object?null==c.style._type&&(c.style._type=E.m7):c.style=a.Qd.eJa(c.style))};h.DIa=function(a){a=a.A().styleDefaults.nodeDefaults;h.Gca(a,"backgroundStyle");h.Gca(a,"containerStyle");return a};h.HIa=function(c,e,f){var p=D.FMa(e);c.A().nodeProperties&&(c=a.cb.clone(c.A().nodeProperties(e)),h.Gca(c,"backgroundStyle"),h.Gca(c,"containerStyle"),p=a.cb.ae(p,c,{_origData:!0}));return a.cb.ae(p,f,{_origData:!0})};h.fIa=function(c,e){var f=c.A().styleDefaults[e];
h.nva(f);f.style=a.cb.ae(f[c.a.sp?"svgStyle":"style"],f._style);c.a.sp&&a.Y.forEach(["_type"],function(a){delete f.style[a]});return f};h.i3a=function(c,e,f){var p=E.EMa(e);c.A().linkProperties&&(c=a.cb.clone(c.A().linkProperties(e)),h.nva(c),p=a.cb.ae(p,c,{_origData:!0}));return a.cb.ae(p,f,{_origData:!0})};h.Kb=function(c){return a.$a.Aq(c.A().styleDefaults.animationDuration)/1E3};h.M3=function(a){return a.A().animationOnDisplay};h.MQ=function(a){return a.A().animationOnDataChange};a.Mb=function(a,
c,e){this.Init(a,c,e)};a.f.v(a.Mb,a.Bb);a.Mb.prototype.Init=function(c,e,h){a.Mb.C.Init.call(this,c,e,h);this.Ff=new p;this.u=new x(c,this.Ef,this);this.u.Lf(this);a.m.eb()||this.u.Zr(new v(this,this.u));this.oi={};this.zT=[];this.eD=[];this.wh={};this.yT=[];this.F_=this.Gs=0;this.JZ={};this.nQ=[];this.k1=[]};a.Mb.newInstance=function(c,e,h){return new a.Mb(c,e,h)};a.Mb.prototype.c8=function(){!this.kz&&this.ws&&("none"!=h.MQ(this)&&(this.pz=new c(this)),this.lD=this.pc.mL(),this.ws=!1,this.sK=this.pc,
this.xpa(this.A().data,!1));this.kz?this.VG&&this.VG.zwa(null):(this.VOa(),this.rP=this.VG,this.VG=null)};a.Mb.prototype.VOa=function(){this.XKa(new a.ca(this.a));this.eLa(new a.ca(this.a));this.rLa(new a.ca(this.a));this.oi={};this.zT=[];this.eD=[];this.wh={};this.yT=[];this.HT=this.qr=this.pH=this.uD=null;this.A().nodes=[];this.A().links=[];this.JZ={};this.nQ=[]};a.Mb.prototype.rq=function(){this.lh&&(this.removeChild(this.lh),this.lh.Ec());this.lh=null;this.Cb&&this.Nb().Lf(this);this.Bj||this.nl();
this.Cb=null;this.Bj=!1;this.ws&&(this.pz=null)};a.Mb.prototype.Mf=function(c,e){var h=new a.td(this.a,null,c.Kb()),p=e.KOa,m=this.pc.$c.La();p.mc(m)||(this.pc.$c.Xa(p),h.da.aa(a.L.ji,this.pc.$c,this.pc.$c.La,this.pc.$c.Xa,m));p=e.DX?e.i1:this.G7();m=e.DX?e.J$:this.gya();c.En(e.oi,p);c.En(e.wh,m);c.add(h,f.tj)};a.Mb.prototype.yFa=function(a,c){if(null==c||this.cna(c.id)||this.tVa(a,c)){var e=a.getData(c);this.F_++;var h=this,m=this.Gs;e.then(function(e){h.mFa(m,a,c?c:h.A(),e)},function(){h.mFa(m,
a,c?c:h.A(),null)})}};a.Mb.prototype.mFa=function(a,c,e,h){if(a===this.Gs){if(null!=h){if(e.nodes=h.nodes,Array.isArray(h.links)&&(this.A().links=this.A().links.concat(h.links)),this.LVa(h),Array.isArray(e.nodes))for(this.k1=this.k1.concat(e.nodes);0<this.k1.length;)this.yFa(c,this.k1.shift())}else e.nodes=null;this.F_--;0===this.F_&&this.zga()}};a.Mb.prototype.LVa=function(a){if("none"!==this.A().promotedLinkBehavior){if(Array.isArray(a.nodes))for(var c=0;c<a.nodes.length;c++)this.JZ[a.nodes[c].id]=
!0;for(c=this.nQ.length-1;0<=c;c--)this.JZ[this.nQ[c]]&&this.nQ.splice(c,1);if(Array.isArray(a.links))for(c=0;c<a.links.length;c++){var e=a.links[c];this.JZ[e.startNode]||this.nQ.push(e.startNode);this.JZ[e.endNode]||this.nQ.push(e.endNode)}}};a.Mb.prototype.tVa=function(a,c){var e=this.A().promotedLinkBehavior;return"none"===e||0==this.nQ.length||"lazy"==e&&0>=a.getChildCount(c)?!1:"disjoint"!=a.getDescendantsConnectivity(c)};a.Mb.prototype.xpa=function(a,c){a&&(this.Cka||(this.Cka=this.Gta.bind(this,
"add")),this.Eka||(this.Eka=this.Gta.bind(this,"remove")),this.Dka||(this.Dka=this.Gta.bind(this,"change")),c?(a.on("add",this.Cka),a.on("remove",this.Eka),a.on("change",this.Dka)):(a.off("add",this.Cka),a.off("remove",this.Eka),a.off("change",this.Dka)))};a.Mb.prototype.Gm=function(){a.Mb.C.Gm.call(this);this.Dya();this.F_=0;this.k1=[];if(this.ws||this.kz)0===this.F_&&this.zga();else{this.Gs++;var c=this.A().data;c?(this.xpa(c,!1),this.yFa(c,null)):this.zga()}};a.Mb.prototype.zga=function(){var a=
!1;this.ws||this.kz||(this.xpa(this.A().data,!0),this.r6a(this.A().nodes),this.Pva(this.A().links),this.a.DL([this]));if(a=0===Object.keys(this.oi).length)this.baa(a);else{this.contains(this.sK)||this.B(this.sK);var c=this.qE(),e=this,h=this.Gs;c.then(function(){h===e.Gs&&e.baa(a)},function(){h===e.Gs&&(e.removeChild(e.sK),e.sK=null,e.ws=!0,this.lD=null)})}};a.Mb.prototype.baa=function(c){var e;if(!c){this.removeChild(this.sK);this.oU();this.wK();this.FU();if(e=null==this.OA)this.OA=this.LS();this.MVa()}this.sK=
null;this.Vq(!0);var p=h.M3(this),y=h.MQ(this);this.ws||"none"===p||this.pz?"none"!==y&&this.pz&&(this.lh=new a.ca(this.a,"Delete Container"),this.B(this.lh),p=new f(this.a,this.lh,this.pz,this),p.En([this.pz],[this]),this.Cb=p.vz()):this.Cb=a.Sa.YD(this.a,a.Sa.Vz,this,null,h.Kb(this));this.Cb?(this.Nb().ed(),this.Nb().ln(this),this.Cb.pg(this.rq,this),this.Cb.play()):this.rq();this.ws=!0;this.lD=null;this.Zya(c);this.mU&&(c=this.OA,null!=c&&(p=this.pc.Wo(),this.Sda(c.x,c.y,c.b,c.i,p)));this.Jxa();
e&&(this.OA=null)};a.Mb.prototype.MVa=function(){var a=this.pc;if(!this.ws){this.oda(this.OA);if(!this.kz){var c=this.VS(),e=c?this.WG:this.OA;c&&a.uLa();a.mJ(null,e)}a.RV(this.mU);a.lS(this.dL());a.J6(this.Eaa);a.hxa(this.Eaa)}else if(this.kz||this.OEa)e=this.oda(this.OA),e=(c=this.VS())?this.WG:e?e:this.OA,c&&a.uLa(),a.hxa(!0),a.mJ(null,e),a.hxa(this.Eaa)};a.Mb.prototype.me=function(c){a.Mb.C.me.call(this,c);this.J.nodes=[];this.J.links=[];this.lKa(this.J);this.wza("none"!=this.J.panning);this.xza("none"!=
this.J.zooming);this.F7a();this.oS(this.J.selectionMode);this.Vca(this.J.emptyText?this.J.emptyText:a.I.Zc(this.J,"labelNoData",a.I.pa,"NO_DATA"))};a.Mb.Vo=function(a){return(new p).Vo(a)};a.Mb.prototype.iy=function(){var a=this.A().maxZoom,a=parseFloat(a);return 0<a?a:1};a.Mb.prototype.hC=function(){var a=this.A().minZoom;if(a){var c=parseFloat(a);0<c&&(a=Math.min(c,this.iy()));return a}return 0};a.Mb.prototype.dL=function(){return this.A().panDirection};a.Mb.prototype.Kb=function(){return h.Kb(this)};
a.Mb.prototype.Ef=function(a){var c=a.type;"categoryHighlight"==c?this.oU(!0):"selection"==c&&(this.A().selection=a.selection);a&&this.dispatchEvent(a)};a.Mb.prototype.r6a=function(a){a&&(this.aaa(null,a),this.$u||(this.$u=(a=this.A().expanded)?"all"===a?this.zT:a:[]))};a.Mb.prototype.Pva=function(c){if(c){for(var e=h.fIa(this,"linkDefaults"),f=0;f<c.length;f++){var p=c[f];if(!this.tXa(p)){var p=h.i3a(this,p,e),p=E.newInstance(this,p,!1),m=p.getId();this.yT.push(m);if(!p.bua()){var z=this.Hb(p.Ri()),
w=this.Hb(p.zh());z.qqa(m);w.lqa(m);p.ia();this.wh[m]=p}}}if(this.pH){c=h.fIa(this,"promotedLink");for(var A in this.pH)this.wh[A]||(p=this.pH[A],p=a.cb.ae(p,c),p=E.newInstance(this,p,!0),m=p.getId(),z=this.Hb(p.Ri()),w=this.Hb(p.zh()),z.qqa(m),w.lqa(m),p.ia(),this.yT.push(m),this.wh[m]=p)}}};a.Mb.prototype.qE=function(){var c=this.A().layout,e=this.HWa();e.pwa({});if(this.lD){var h=this.lD,f=this.rsa(),h=new a.gs(h.x-f.x,h.y-f.y,h.b,h.i);e.OKa(h)}if(c&&"function"==typeof c){h=e.Aj();for(f=0;f<h;f++)this.EKa(e.sI(f));
var m=this;(c=c(e))||(c={then:function(a){a()}});this.IV(0);var z=this.Gs;c.then(function(){if(m.Gs===z||m.kz){m.IV(1);m.pz&&m.pz.HLa(e);for(var a=e.Aj(),c=0;c<a;c++)m.EV(e.sI(c),!0);m.sda(e,!0)}},function(){});return c}this.Lfa("dvt.Diagram: Layout function is not defined")};a.Mb.prototype.IV=function(a){this.ws||(this.hB.qa(a),this.eu.qa(a))};a.Mb.prototype.Hb=function(a){return this.oi[a]};a.Mb.prototype.mg=function(a){return this.wh[a]};a.Mb.prototype.zJ=function(){return this.yT};a.Mb.prototype.uNa=
function(){var a={};if(this.wh)for(var c in this.wh)a[c]=this.wh[c];return a};a.Mb.prototype.gya=function(){var a=[];if(this.wh)for(var c in this.wh)a.push(this.wh[c]);return a};a.Mb.prototype.HS=function(){return this.zT};a.Mb.prototype.wNa=function(){var a={};if(this.oi)for(var c in this.oi)a[c]=this.oi[c];return a};a.Mb.prototype.vNa=function(){var a=[];if(this.oi)for(var c in this.oi)a.push(this.oi[c]);return a};a.Mb.prototype.D7=function(){return this.eD};a.Mb.prototype.G7=function(){for(var a=
[],c=0;this.eD&&c<this.eD.length;c++){var e=this.oi[this.eD[c]];e&&a.push(e)}return a};a.Mb.prototype.Co=function(c){a.Mb.C.Co.call(this,c);switch(c.Dn){case a.vd.s8:if(this.mU){c=c.fU;var e=this.OA?this.OA:this.LS();this.Sda(e.x,e.y,e.b,e.i,c)}break;case a.vd.Vga:this.VS()||(e=this.OA?this.OA:this.LS(),c.tLa(e));break;case a.vd.KY:if(this.A().zoomRenderer&&c.Yna!==c.fU)for(e in this.oi)this.Hb(e).Z6a(c)}};a.Mb.prototype.jV=function(a){var c=[],e;for(e in this.wh){var h=this.mg(e),m=h.Ri(),f=h.zh();
m!=a&&f!=a||!h.Wy||c.push(h)}return c};a.Mb.prototype.vk=function(){return a.I.Ja(a.I.pa,"DIAGRAM")};a.Mb.prototype.wK=function(){if(this.J.selection&&this.Qk()){var a=[],c;for(c in this.oi)a.push(this.Hb(c));for(var e in this.wh)a.push(this.mg(e));this.Ue().Vr(this.J.selection,a)}};a.Mb.prototype.oU=function(c){c&&this.u.ln(this,!0);this.uD&&(this.aGa(!1,this.uD),this.uD=null);var e=this.J.highlightedCategories;if(e&&0!==e.length){var h="any"==this.J.highlightMatch;this.uD={};var f=[],m;for(m in this.oi){var z=
this.Hb(m),w=h?a.Y.Zs(z.rd(),e):a.Y.AR(z.rd(),e);w&&(this.uD[z.getId()]=z,f.push(z))}this.xYa(f);var f=[],p;for(p in this.wh)if(m=this.mg(p),w=h?a.Y.Zs(m.rd(),e):a.Y.AR(m.rd(),e))this.uD[m.getId()]=m,f.push(m);"linkAndNodes"==this.J.linkHighlightMode&&this.XEa(f);this.aGa(!0,this.uD);if(c){var d=this;setTimeout(function(){d.Nb().Lf(d)},0)}}else c&&this.u.Lf(this)};a.Mb.prototype.xYa=function(a){var c=this.J.nodeHighlightMode;if("node"!=c){for(var e="nodeAndIncomingLinks"==c||"nodeAndLinks"==c,c="nodeAndOutgoingLinks"==
c||"nodeAndLinks"==c,h=[],m=0;m<a.length;m++)for(var f=a[m],w=e&&f.ox?f.ox:[],w=c&&f.Cx?w.concat(f.Cx):w,f=0;f<w.length;f++){var p=w[f];this.uD[p]=this.mg(p);h.push(this.mg(p))}this.XEa(h)}};a.Mb.prototype.XEa=function(a){for(var c=0;c<a.length;c++){var e=a[c],h=e.Ri(),e=e.zh();this.uD[h]=this.Hb(h);this.uD[e]=this.Hb(e)}};a.Mb.prototype.aGa=function(a,c){var e;if(this.zT.length==this.eD.length){e=a?this.J.styleDefaults._highlightAlpha:1;this.hB.qa(e);this.eu.qa(e);for(var h in c)a?this.aKa(c[h]):
c[h]instanceof E?this.bKa(c[h]):c[h]instanceof D&&this.cKa(c[h])}else if(a){e=this.J.styleDefaults._highlightAlpha;var m={};for(h in c)c[h].qa(1),m[h]=!0;for(var f in this.oi)m[f]||this.Hb(f).qa(e);for(var w in this.wh)m[w]||this.mg(w).qa(e)}else{for(f in this.oi)this.Hb(f).qa(1);for(w in this.wh)this.mg(w).qa(1)}};a.Mb.prototype.Zd=function(c){this.J.highlightedCategories=a.cb.clone(c);this.oU()};a.Mb.prototype.select=function(c){this.J.selection=a.cb.clone(c);this.wK()};a.Mb.prototype.Bi=function(){this.Lc||
(this.Lc=new F(this));return this.Lc};a.Mb.prototype.Lfa=function(a){var c=this.A()._logger;if(c)switch(1){case 1:c.error&&c.error(a);break;case 2:c.warn&&c.warn(a);break;case 3:c.info&&c.info(a);break;default:c.log&&c.log(a)}};a.Mb.prototype.zy=function(a,c){var e=this.Hb(a);e&&e.zy(c)};a.Mb.prototype.OI=function(a,c){var e=this.Hb(a);e&&e.OI(c)};a.Mb.prototype.vC=function(a,c){var e=this.Hb(a);e&&e.vC(c)};a.Mb.prototype.tS=function(c){if(c.Sy){var e=this.Hb(c.getId());c.aS(a.Xh.yu(e.aR(!0)));c.bS(a.Xh.yu(e.qo(!0)));
c.$r(a.Xh.yu(e.Lg(!0)))}else this.EV(c,!0)};a.Mb.prototype.EKa=function(a){if(this.Hb(a.getId()).gd()){a=a.Of();for(var c=0;c<a.length;c++)this.EKa(a[c])}else this.EV(a,!1)};a.Mb.prototype.EV=function(c,e){if(!c.Sy){var h=this.Hb(c.getId());if(h.gd()){var f=this.p7();f.pwa(c.mt?c.mt.UA:null);this.pz&&this.pz.HLa(f);for(var m=c.Of(),z=0;z<m.length;z++){var w=m[z];this.EV(w,!1);f.Jaa(w)}for(z=0;z<m.length;z++)this.tS(m[z]);this.sda(f)}h.ia();(f=h.gd()?h.bi():null)&&c.ct(f.top,f.right,f.bottom,f.left);
c.aS(a.Xh.yu(h.aR(e)));c.bS(a.Xh.yu(h.qo(e)));c.$r(a.Xh.yu(h.Lg(e)));c.Sy=!0}};a.Mb.prototype.aaa=function(a,c){if(c)for(var e=h.DIa(this),f=0;f<c.length;f++){var m=h.HIa(this,c[f],e),z=D.newInstance(this,m),w=z.getId();a?(a.T_a(w),z.Dwa(a.getId())):this.eD.push(w);this.zT.push(w);m.nodes&&0<m.nodes.length&&(this.cna(w)?(z.Jn(!0),this.aaa(z,m.nodes)):this.ETa(z));z.bua()||(a&&a.aX()?a.aX().B(z):this.eu.B(z),this.oi[w]=z)}};a.Mb.prototype.dLa=function(c,e){var h=-1;this.$u&&(h=a.Y.$b(this.$u,c));(!e&&
-1<h||e&&0>h)&&this.dispatchEvent(new a.la.bd(e?"beforeExpand":"beforeCollapse",c))};a.Mb.prototype.expand=function(c){this.$u||(this.$u=[]);0>a.Y.$b(this.$u,c)&&(this.$u.push(c),this.ia(this.A(),this.Oa,this.bb),this.dispatchEvent(new a.la.bd("expand",c)))};a.Mb.prototype.collapse=function(c){var e=-1;this.$u&&(e=a.Y.$b(this.$u,c));-1<e&&(this.$u.splice(e,1),this.ia(this.A(),this.Oa,this.bb),this.dispatchEvent(new a.la.bd("collapse",c)))};a.Mb.prototype.gja=function(a,c,e,h){a.gd()&&(a=this.aCa(c,
e,a.jD,h),c.BL(a))};a.Mb.prototype.XTa=function(c,e,h,f,m){c.gd()&&(f=f.reduce(function(a,c){a.push(c.id);return a},[]),h=this.aCa(e,h,f,!0),f=e.Of()||[],h=a.Y.Sta(f,h,m),e.BL(h),e.Jn(!0),e.C8(a.Bb.xba(c.bi())),e.JJ())};a.Mb.prototype.aCa=function(a,c,e,h){for(var m=[],f=0;f<e.length;f++){var w=this.Hb(e[f]);if(w.Wy){var p=this.s7(w,null,h,c);p.KU(this.rP?this.rP.Hb(e[f]):null);c.rGa(p);p.iLa(a);m.push(p);this.gja(w,p,c,h)}}return m};a.Mb.prototype.cna=function(c){var e=this.$u?this.$u:this.A().expanded;
return e&&-1<a.Y.$b(e,c)||e&&-1<a.Y.$b(e,"all")};a.Mb.prototype.tXa=function(a){var c=this.Hb(a.startNode),e=this.Hb(a.endNode);if(c&&e||!this.HT)return!1;if("none"===this.A().promotedLinkBehavior)return!0;c=c?c.getId():this.ACa(a.startNode);e=e?e.getId():this.ACa(a.endNode);if(!c||!e||c===e)return!1;var h=E.oya(c,e);this.pH||(this.pH={});this.pH[h]?this.pH[h]._links.push(a):this.pH[h]={id:h,startNode:c,endNode:e,_links:[a]};this.qr||(this.qr={});this.qr[a.id]=h;return!0};a.Mb.prototype.ETa=function(a){this.HT||
(this.HT=[]);this.HT.push(a)};a.Mb.prototype.ACa=function(a){function c(a,e){if(a)for(var h=0;h<a.length;h++)if(a[h].id===e||c(a[h].nodes,e))return!0;return!1}for(var e=0;e<this.HT.length;e++){var h=this.HT[e];if(c(h.getData().nodes,a))return h.getId()}return null};a.Mb.prototype.FU=function(){var a=this.Nb().Fe(),c=!1;if(a){var e;a instanceof D?e=this.Hb(a.getId()):a instanceof E&&(e=this.mg(a.getId()));c=a.Ae();e&&c&&e.qh();this.Nb().Nu(e)}};a.Mb.prototype.J0a=function(){this.$u=null};a.Mb.prototype.wPa=
function(c){if(this.Nb().XS)if(c=this.a.nf(c.pageX,c.pageY),c=this.pc.$c.pf({x:c.x,y:c.y}),this.M0){var e=this.M0.Df();this.M0.Uh([e[0],e[1],c.x,c.y])}else{var f=this.Nb().vc.fo;if(f instanceof D){var e=this.Nb().vc.V9,e=this.pc.$c.pf({x:e.x,y:e.y}),p=this.A().styleDefaults.linkDefaults;h.nva(p);var m=this.A().dnd.drag.ports.linkStyle;m&&"function"===typeof m&&(m=m({dataContext:f.zj(),portElement:f.Z8}))&&(p.style=a.cb.ae(m.svgStyle,p.style),p.svgClassName=m.svgClassName||p.className);f={id:"linkFeedback",
startNode:f.getId(),endNode:f.getId()};f=a.cb.ae(f,p);f=E.newInstance(this,f,!1);this.eu.B(f);f.dd(!1);f.Uh([e.x,e.y,c.x,c.y]);this.M0=f}}};a.Mb.prototype.ZNa=function(){this.eu.removeChild(this.M0);this.M0=null};a.Mb.prototype.Gta=function(a,e){"none"!==h.MQ(this)&&(this.pz=new c(this,a,e));this.lD=this.pc.mL();if(this.mU){var f=this.pc;f.C6(null);f.A6(null);f.B6(null);f.z6(null)}var f=e.data.nodes,p=e.data.links,m,z;if("add"==a)(z=(m=e.parentId)?this.Hb(m):null)?(z.j0a(f,e.index),this.cna(m)&&(z.Jn(!0),
this.aaa(z,f))):this.aaa(null,f),this.Pva(p);else if("change"==a){if(f)for(m=h.DIa(this),z=0;z<f.length;z++){var w=this.Hb(f[z].id);if(w){var A=h.HIa(this,f[z],m);w.setData(A)}}p&&(this.Boa(p),this.Pva(p))}else"remove"==a&&((z=(m=e.parentId)?this.Hb(m):null)?(this.Doa(z,f),z.I6a(f),z.getData().nodes&&0!==z.getData().nodes.length||z.Jn(!1)):this.Doa(null,f),this.Boa(p));this.pz&&this.pz.h9a(a,e);this.x_a(a,e);if(f=0===this.HS().length)this.baa(f);else{this.Gs++;var f=this.qE(),d=this,g=this.Gs;f.then(function(){g===
d.Gs&&(d.OEa=!0,d.baa(!1),d.OEa=!1)},function(){g===d.Gs&&(d.removeChild(d.sK),d.sK=null,d.ws=!0,this.lD=null)})}};a.Mb.prototype.x_a=function(a,c){this.VG||(this.VG=this.p7());var e=this.VG;e.zwa({type:a,data:c});var h=c.data.nodes,m=c.data.links,f,w,p,d,g;c.parentId&&(d=e.Hb(c.parentId),g=this.Hb(c.parentId));if("add"==a){if(h)if(d&&g)d.dT(),this.XTa(g,d,e,h,c.index);else for(f=0;f<h.length;f++)p=h[f].id,this.Hb(p)&&(w=this.s7(this.Hb(p),null,!0,e),this.gja(this.Hb(p),w,e,!0),e.Jaa(w));if(m)for(f=
0;f<m.length;f++)h=m[f].id,(h=this.mg(h)||this.mg(this.qr[h]))&&!e.mg(h.getId())&&(w=h.getData().startNode,p=h.getData().endNode,e.Hb(w)&&e.Hb(p)&&e.Gaa(this.r7(h,w,p,null,e)))}else if("change"==a){if(h)for(f=0;f<h.length;f++)p=h[f].id,w=e.Hb(p),w.dT(),w.JJ();if(m){for(f=e.fC()-1;0<=f;f--)h=e.oI(f),this.wh[h.getId()]||e.Jca(h);for(f=0;f<m.length;f++)if(h=m[f].id,h=this.mg(h)||this.mg(this.qr[h]))e.Jca(e.mg(h.getId())),w=h.getData().startNode,p=h.getData().endNode,e.Hb(w)&&e.Hb(p)&&e.Gaa(this.r7(h,
w,p,null,e))}}else if("remove"==a){if(h){for(f=0;f<h.length;f++)p=h[f].id,w=e.Hb(p),e.removeNode(d,w);d&&g&&(d.dT(),d.JJ(),d.Jn(g.gd()))}for(f=e.fC()-1;0<=f;f--)h=e.oI(f),this.wh[h.getId()]||e.Jca(h)}};a.Mb.prototype.HWa=function(){if(!this.VG){for(var a=this.p7(),c=0;c<this.eD.length;c++){var e=this.eD[c];if(this.Hb(e)){var h=this.ws?!1:!0,m=this.Hb(e),f=this.s7(m,null,h,a);f.KU(this.rP?this.rP.Hb(e):null);this.gja(m,f,a,h);a.Jaa(f)}}for(var w in this.wh)if(c=this.mg(w))e=c.getData().startNode,h=
c.getData().endNode,a.Hb(e)&&a.Hb(h)&&(c=this.r7(c,e,h,null,a),c.KU(this.rP?this.rP.mg(w):null),a.Gaa(c));this.VG=a;this.rP=null}return this.VG};a.Mb.prototype.Doa=function(c,e){if(e&&(!c||c.gd())){for(var h=[],f=0;f<e.length;f++){var m=e[f].id,z=this.Hb(m);this.Doa(z,z.getData().nodes);for(var w in this.wh){var p=this.mg(w);p&&(p.Ri()!=m&&p.zh()!=m||h.push(p.getData()))}c?c.G6a(z):(a.Y.removeItem(this.eD,m),this.eu.removeChild(z));a.Y.removeItem(this.zT,m);this.oi[m]=null}this.Boa(h)}};a.Mb.prototype.Boa=
function(c){if(c&&0!=c.length)for(var e=0;e<c.length;e++){var h=c[e].id,f=this.mg(h);if(f){var m=f.getParent();m.removeChild(f);var m=this.Hb(f.Ri()),z=this.Hb(f.zh());m&&m.Iva(h);z&&z.Hva(h);a.Y.removeItem(this.yT,h);this.wh[h]=null}else if(this.qr[h]){var f=this.qr[h],w=this.wh[f];if((m=w?w.getData()._links:null)&&1==m.length&&m[0].id==h)m=w.getParent(),m.removeChild(w),m=this.Hb(w.Ri()),z=this.Hb(w.zh()),m&&m.Iva(f),z&&z.Hva(f),a.Y.removeItem(this.yT,w.getId()),this.wh[w.getId()]=null,this.pH[w.getId()]=
null,this.qr[h]=null;else if(m){for(e=0;e<m.length;e++)m[e].id==h&&m.splice(e,1);this.qr[h]=null}}}};a.I.ND(a.I.zW,{PROMOTED_LINK:"{0} link",PROMOTED_LINKS:"{0} links",PROMOTED_LINK_ARIA_DESC:"Indirect"});a.f.v(e,a.sd,"DvtDiagramCategoryRolloverHandler");e.oZ=100;e.prototype.lX=function(c){return a.f.Ni(this,function(){this.LY(!0);this.wa.Ef(c)})};e.prototype.kX=function(c){return a.f.Ni(this,function(){this.MY();this.wa.Ef(c)})};a.f.v(p,a.ka,"DvtDiagramDefaults");p.If={skin:a.j.Qg,emptyText:null,
selectionMode:"none",animationOnDataChange:"none",animationOnDisplay:"none",maxZoom:1,highlightMatch:"all",nodeHighlightMode:"node",linkHighlightMode:"link",panning:"none",touchResponse:"auto",zooming:"none",promotedLinkBehavior:"lazy",_statusMessageStyle:new a.j(a.ka.pj),dnd:{drag:{nodes:{},ports:{}},drop:{background:{},nodes:{},links:{},ports:{}}},styleDefaults:{animationDuration:500,hoverBehaviorDelay:200,_highlightAlpha:.1,nodeDefaults:{_containerStyle:new a.j("border-color:#abb3ba;background-color:#f9f9f9;border-width:.5px;border-radius:1px;padding-top:20px;padding-left:20px;padding-bottom:20px;padding-right:20px;"),
labelStyle:a.ka.KW+"color:#383A47",hoverInnerColor:"rgb(255,255,255)",hoverOuterColor:"rgba(0,0,0, .3)",selectionColor:"rgb(0,0,0)",icon:{width:10,height:10,fillPattern:"none",shape:"circle"}},linkDefaults:{startConnectorType:"none",endConnectorType:"none",width:1,_style:{_type:"solid"},hoverInnerColor:"rgb(255,255,255)",hoverOuterColor:"rgba(0,0,0, .3)",selectionColor:"rgb(0,0,0)",labelStyle:a.ka.KW+"color:#383A47",_hitDetectionOffset:10},promotedLink:{startConnectorType:"none",endConnectorType:"none",
width:1,_style:{_type:"dot",strokeDasharray:"2,3"},color:"#778999",hoverInnerColor:"rgb(255,255,255)",hoverOuterColor:"rgba(0,0,0, .3)",selectionColor:"rgb(0,0,0)",_hitDetectionOffset:10}}};p.prototype.bL=function(){return{data:!0}};p.Qg={};a.f.v(c,a.f,"DvtDiagramDataAnimationState");c.prototype.Init=function(a,c,e){this.wa=a;this.oi=[];this.i1=[];this.wh=[];this.J$=[];this.rz={};this.KOa=this.wa.pc.$c.La();this.DX=c&&e?!0:!1;this.xOa=this.wa.wNa();this.hOa=this.wa.uNa();this.a_a(c,e);this.$Za(c,
e)};c.prototype.getId=function(){return this.wa.getId()};c.prototype.A=function(){return this.wa.A()};c.prototype.h9a=function(a,c){if(c){var e=c.data.nodes,h=c.data.links,m;if("add"==a){for(m=0;e&&m<e.length;m++){var f=this.wa.Hb(e[m].id);f&&(!0===this.E_a&&this.i1.push(f),this.rz[f.getId()]=!0)}for(m=0;h&&m<h.length;m++)if(e=h[m].id,e=this.wa.mg(e)||this.wa.qr&&this.wa.mg(this.wa.qr[e]))this.J$.push(e),this.rz[e.getId()]=!0}else if("change"==a)for(m=0;h&&m<h.length;m++)if(e=h[m].id,e=this.wa.mg(e)||
this.wa.qr&&this.wa.mg(this.wa.qr[e]))this.J$.push(e),this.rz[e.getId()]=!0}};c.prototype.HLa=function(a){if(this.DX){a=a.UA;for(var c in a)this.rz[c]||this.rz[c]||(a=this.wa.Hb(c)||this.wa.mg(c),a instanceof D?(this.oi.push(a.UU()),this.i1.push(a),this.rz[c]=!0):a instanceof E&&(this.wh.push(a.UU()),this.J$.push(a),this.rz[c]=!0))}};c.prototype.a_a=function(a,c){if(this.DX){var e=c.data.nodes,h=c.parentId;if("add"==a)this.bja(h);else if("change"==a)for(h=0;e&&h<e.length;h++){var m=this.wa.Hb(e[h].id);
m&&(this.bja(m.lj()),this.oi.push(m.UU()),this.i1.push(m),this.rz[m.getId()]=!0)}else if("remove"==a&&(this.bja(h),e&&!h))for(h=0;h<e.length;h++)if(m=this.wa.Hb(e[h].id))this.oi.push(m),this.rz[m.getId()]=!0}else this.oi=this.wa.G7()};c.prototype.$Za=function(a,c){if(this.DX){var e=c.data.links;if(e){var h,m;if("change"==a)for(h=0;h<e.length;h++){if(m=e[h].id,m=this.wa.mg(m)||this.wa.qr&&this.wa.mg(this.wa.qr[m]))this.wh.push(m.UU()),this.rz[m.getId()]=!0}else if("remove"==a)for(h=0;h<e.length;h++)if(m=
e[h].id,m=this.wa.mg(m)||this.wa.qr&&this.wa.mg(this.wa.qr[m]))this.wh.push(m),this.rz[m.getId()]=!0}}else this.wh=this.wa.gya()};c.prototype.bja=function(a){var c=a?this.wa.Hb(a):null;for(this.E_a=c?c.gd():!0;c;){var e=c.UU(c.getId()===a);this.oi.push(e);this.i1.push(c);this.rz[c.getId()]=!0;c=c.lj()?this.wa.Hb(c.lj()):null}};a.f.v(f,a.Ql,"DvtDiagramDataAnimationHandler");f.VL=0;f.tj=1;f.dF=2;f.prototype.Init=function(a,c,e,h){f.C.Init.call(this,a,c);this.Vna=e;this.SXa=h};f.prototype.Kb=function(){return h.Kb(this.Vna)};
f.prototype.En=function(c,e){var h=!1;e&&0<e.length&&(h=e[0]instanceof E);if(h&&!this.a.LR()){var h=f.uCa(c),p=f.uCa(e),m,z,w={},A;for(A in h)if(m=h[A],z=p[A])if(!m.Kl()&&!z.Kl()||m.Kl()&&z.Kl()&&m.getId()==z.getId())z.Mf(this,m);else{var d=m.Kl()?m.getData()._links.length:1,g=z.Kl()?z.getData()._links.length:1;d>g&&!w[m.getId()]?this.NBa(m,p,w,!0):d<g&&!w[z.getId()]?this.NBa(z,h,w,!1):d==g&&z.Mf(this,m)}else-1==a.Y.$b(this.SXa.zJ(),m.getId())&&m.ai(this);for(A in p)m=h[A],z=p[A],m||this.Vna.hOa[z.getId()]||
z.mh(this)}else f.C.En.call(this,c,e)};f.prototype.NBa=function(c,e,h,f){for(var m=[],z=c.getData()._links,w=0;w<z.length;w++){var p=e[z[w].id];p&&-1===a.Y.$b(m,p)&&m.push(p)}0<m.length&&(f?c.i0a(this,m):c.h0a(this,m),h[c.getId()]=!0)};f.uCa=function(a){for(var c={},e=0;e<a.length;e++){var h=a[e];if(h)if(h.Kl())for(var m=h.getData()._links,f=0;f<m.length;f++)c[m[f].id]=h;else c[h.getId()]=h}return c};a.f.v(x,a.u,"DvtDiagramEventManager");x.prototype.vLa=function(a,c){this.vt(a,c)};x.prototype.vt=
function(a,c){this.wa.MJa()||x.C.vt.call(this,a,c)};x.prototype.Ij=function(c,e,h){c=this.wa.A();"dim"==c.hoverBehavior&&(e=e.rd?e.rd():[],c.highlightedCategories=h?e.slice():null,h=a.la.MI(c.highlightedCategories,h),e=a.$a.Aq(c.styleDefaults.hoverBehaviorDelay),this.pF.Ef(h,this.wa.vNa(),e,"any"==c.highlightMatch))};x.prototype.pW=function(a,c){return new e(a,c)};x.prototype.Vl=function(c){var e=!0,h=c.keyCode,f=this.Fe(),m=f instanceof D?f.ik:null;h!=a.KeyboardEvent.rg&&this.gD?(m.JQ(c),c.preventDefault()):
h==a.KeyboardEvent.rg&&m instanceof a.ec?!c.shiftKey&&f.Ae()?(f.mf(),m.JQ(c),c.preventDefault(),this.gD=!0):(c.shiftKey&&this.gD?(this.vt(c,f),c.preventDefault()):(this.gD&&f.qh(),e=x.C.Vl.call(this,c)),this.gD=!1):h==a.KeyboardEvent.Kj&&c.ctrlKey&&c.shiftKey?f&&f.Ry&&f.Ry(c):(h==a.KeyboardEvent.rg&&f&&this.wa.TD(c,f),e=x.C.Vl.call(this,c));return e};x.prototype.Oy=function(){var c=this.wa.A();return"none"!==c.panning||"none"!==c.zooming?a.u.UC:c.touchResponse===a.u.ns?a.u.ns:a.u.VY};x.prototype.cv=
function(c){return this.Xg(c,a.Dd.FW)};x.prototype.tA=function(c){return c==a.Dd.FW?!1:x.C.tA.call(this,c)};x.prototype.by=function(){return this.wa};x.prototype.mE=function(){return!0};x.prototype.rw=function(a){var c=this.vc.fo;if(c&&c.rT)return c.rT;if(c instanceof D){null===this.z$&&(this.z$=this.wa.A().dnd.drag.ports.selector);var e;this.z$&&(e=this.zDa(document.elementFromPoint(a.Mg().clientX,a.Mg().clientY),this.z$))&&(this.XS=!0,c.Z8=e);c.rT=e?"ports":"nodes";return c.rT}return null};x.prototype.VE=
function(){var c=this.vc.fo;if(this.wa.Qk()&&1<this.wa.Ue().wj.length){for(var c=this.wa.Ue().getSelection(),e=this.LDa(c),h=this.wa.pc.Wo(),f=[],m=0;m<c.length;m++)if(c[m]instanceof D){var z=c[m].zj(),w=c[m].V(this.a.Gc);z.nodeOffset=new a.P((w.x-e.x)/h,(w.y-e.y)/h);f.push(z)}return f}if(c instanceof D){if("ports"===c.rT&&c.Z8)return{dataContext:c.zj(),portElement:c.Z8};z=c.zj();z.nodeOffset=new a.P(0,0);return[z]}return[]};x.prototype.fX=function(c){var e;if(this.wa.Qk()&&1<this.wa.Ue().wj.length)e=
this.LDa(this.wa.Ue().getSelection());else{var h=this.vc.fo;h instanceof D&&(e=h.V(this.a.Gc))}return e?(c=this.a.nf(c.pageX,c.pageY),h=this.wa.pc.Wo(),new a.P((e.x-c.x)/h,(e.y-c.y)/h)):null};x.prototype.LDa=function(c){if(!c)return null;for(var e=Number.MAX_VALUE,h=Number.MAX_VALUE,f=0;f<c.length;f++)if(c[f]instanceof D)var m=c[f].V(this.a.Gc),e=m?Math.min(m.x,e):e,h=m?Math.min(m.y,h):h;return new a.P(e,h)};x.prototype.ZX=function(a){var c=this.vc.fo;c&&c.rT&&(c.rT=null,c.Z8=null);this.XS=!1;x.C.ZX.call(this,
a)};x.prototype.YX=function(a){x.C.YX.call(this,a);this.XS&&this.wa.wPa(a)};x.prototype.XX=function(a){x.C.XX.call(this,a);this.XS&&(this.wa.ZNa(),this.XS=!1);this.wa.pc.X5a();this.F2(!0)};x.prototype.F2=function(a){this.wa.mU&&this.wa.pc.RV(a)};x.prototype.U7=function(){if(!this.cEa){var a=this.wa.A();this.cEa=this.mE()&&(a.dnd.drag.nodes.dataTypes||a.dnd.drag.ports.dataTypes)}return this.cEa};x.prototype.Tl=function(a){var c=this.Za(this.Vd(a));this.U7()&&c instanceof D&&this.F2(!1);x.C.Tl.call(this,
a)};x.prototype.Ul=function(a){x.C.Ul.call(this,a);this.F2(!0)};x.prototype.$E=function(a){this.U7()&&1==a.targetTouches.length&&this.Za(this.Vd(a))instanceof D&&this.F2(!1)};x.prototype.NS=function(){this.U7()&&this.F2(!0)};x.prototype.sw=function(a){var c=this.Za(this.Vd(a));this.wa.Vb.Pf("dropTarget",c);if(null===c)return"background";if(c instanceof D){var e;null===this.A$&&(this.A$=this.wa.A().dnd.drop.ports.selector);this.A$&&(e=this.zDa(a.Mg().target,this.A$));return(c.IF=e)?"ports":"nodes"}return c instanceof
E?"links":null};x.prototype.IS=function(c){var e=c.Mg().dataTransfer,h=Number(e.getData(a.u.AW))||0,e=Number(e.getData(a.u.BW))||0,f=this.wa.pc.$c.pf(this.a.nf(c.pageX,c.pageY)),m=this.wa.rsa(),m={x:f.x-m.x+h,y:f.y-m.y+e};c=this.Za(this.Vd(c));c instanceof D?(c.IF?(m.dataContext=c.zj(),m.portElement=c.IF):m.nodeContext=c.zj(),c=(c=c.V(this.a.Gc))?this.wa.pc.$c.pf({x:c.x,y:c.y}):null,m.nodeX=c?f.x-c.x+h:null,m.nodeY=c?f.y-c.y+e:null):c instanceof E&&(m.linkContext=c.zj());return m};x.prototype.PC=
function(c){c=this.sw(c);var e=this.wa.Vb.Te("dropTarget");"background"===c?this.wa.pc.Uw.sc("oj-active-drop"):"nodes"===c||"links"===c?e&&e.PC&&e.PC():e&&"ports"===c&&e.IF&&a.l.m3(e.IF,"oj-active-drop")};x.prototype.QC=function(c){c=this.sw(c);var e=this.wa.Vb.Te("dropTarget");"background"===c?this.wa.pc.Uw.sc("oj-invalid-drop"):"nodes"===c||"links"===c?e&&e.QC&&e.QC():e&&"ports"===c&&e.IF&&a.l.m3(e.IF,"oj-invalid-drop")};x.prototype.My=function(){this.wa.pc.Uw.sc(null);var c=this.wa.Vb.Te("dropTarget");
c&&c.My&&c.My();c&&c.IF&&(a.l.UI(c.IF,"oj-active-drop"),a.l.UI(c.IF,"oj-invalid-drop"));this.wa.Vb.Pf("dropTarget",null)};x.prototype.zDa=function(a,c){return a&&a.closest?a.closest(c):null};a.f.v(v,a.yf,"DvtDiagramKeyboardHandler");v.prototype.Th=function(c){var e=!1;switch(c.keyCode){case a.KeyboardEvent.Uy:case a.KeyboardEvent.iw:e=!0;break;case a.KeyboardEvent.Ty:case a.KeyboardEvent.hw:e=c.altKey?!0:!1;break;default:e=v.C.Th.call(this,c)}return e};v.prototype.Rk=function(c){if(c.keyCode==a.KeyboardEvent.rg){var e=
this.Fc.Fe();if(e)return a.u.Ud(c),e;e=this.wa.G7();if(0<e.length)return a.u.Ud(c),e=this.kI(e),this.wa.TD(c,e),e}return v.C.Rk.call(this,c)};v.prototype.Py=function(a){return this.wa.Hb(a)};a.f.v(E,a.Ab,"DvtDiagramLink");E.m7="customStyle";E.newInstance=function(a,c,e){return new E(a.a,a,c,e)};E.prototype.Init=function(a,c,e,h){E.C.Init.call(this,a,e.id,c);this.sb=e;this.SV(h);this.wa.Qk()&&this.setCursor("pointer");this.Dwa(E.pWa(this,c))};E.prototype.getData=function(){return this.sb};E.prototype.setData=
function(a){this.sb=a};E.prototype.getId=function(){return this.getData().id};E.prototype.L3=function(){this.EZ||(this.EZ=this.getId()+Math.floor(1E9*Math.random()));return this.EZ};E.prototype.Ri=function(){return this.getData().startNode};E.prototype.zh=function(){return this.getData().endNode};E.prototype.Lg=function(){var a=null;this.yd&&(a=this.yd.V());return a};E.prototype.eV=function(){return this.getData().svgStyle||this.getData().style};E.prototype.zz=function(){return this.getData().width};
E.prototype.aL=function(){return this.getData().color};E.prototype.Qv=function(){return this.getData().startConnectorType};E.prototype.Ss=function(){return this.getData().endConnectorType};E.prototype.jL=function(){return this.Qv()?a.Ma.X4(this.Qv(),this.Ny(),this.Ny()):0};E.prototype.UK=function(){return this.Ss()?a.Ma.X4(this.Ss(),this.Ny(),this.Ny()):0};E.prototype.ia=function(){var a=this.wa,c=this.lj(),e=a.Hb(this.Ri()).lj(),h=a.Hb(this.zh()).lj();if(c){var m=a.Hb(c).aX();c==e&&c==h?m.Ad(this,
0):m.B(this)}else e||h?a.eu.B(this):a.hB.B(this);E.qZa(a,this.getData(),this);this.zg("img");this.qs();this.wa.Nb().Xb(this,this)};E.prototype.Uh=function(a){!this.Fx&&a&&E.rZa(this.getData(),this);E.C.Uh.call(this,a)};E.rZa=function(c,e){var h=e.Fx;h||(h=["M",0,0,"L",0,0]);var f=c.id,m=c.color,z=c.width,w=c.svgStyle||c.style;e.IO=e.t7("#000000",0,c._hitDetectionOffset);e.Ad(e.IO,0);m=new a.ma(m,1,z);m.We(!0);h=new a.Ib(e.a,h,f);f=c.svgClassName||c.className;h.Ia(null);h.sc(f);if(e.a.sp)h.Na(w);else if(w&&
w instanceof Object){f=a.Pa.Tk;w._type==E.m7?w.strokeDasharray&&(f=a.Pa.Xu,w.strokeDasharray=a.Qd.vKa(w.strokeDasharray)):f=a.Qd.qJ(w._type);m.vm(f,w.strokeDasharray,w.strokeDashoffset);var p=a.cb.clone(w);a.Y.forEach(["_type","strokeDasharray","strokeDashoffset"],function(a){delete p[a]});h.Na(p)}else f=a.Qd.qJ(w),m.vm(f,a.Qd.jM(f),a.Qd.kM(f));h.Ha(m);e.qLa(h);e.Ad(h,1)};E.qZa=function(c,e,h){var f=a.m.ea(c.a)?a.M.ii:a.M.Fj;e.label&&(c=E.lm(c.a,e.label,e.labelStyle,f,a.M.Oj),e=a.j.Xe((new a.j(e.labelStyle)).getWidth()),
0<e&&a.ga.Yc(c,e,Infinity,h)||h.B(c),h.yd=c)};E.lm=function(c,e,h,f,m){c=new a.M(c,e,0,0);c.ub(new a.j(h));c.Eq(f);c.Uz(m);return c};E.prototype.gc=function(a){E.C.gc.call(this,a);a?this.Jpa(this.yl,!0):this.VDa();this.qs()};E.prototype.gb=function(){return this.wa.Qk()&&"off"!=this.getData().selectable};E.prototype.Jpa=function(a,c){if(a){this.CB||(this.CB=this.yg().ve());var e=this.yg().ve().clone();e.Yp&&e.Yp(this.getData().hoverInnerColor);this.yg().Ha(e);this.QM(this.HD,e);this.QM(this.rD,e)}else this.CB&&
(this.yg().Ha(this.CB),this.QM(this.HD,this.CB),this.QM(this.rD,this.CB),this.CB=null);this.Rm||(this.Rm=this.bea("#000000",1,0,this.getData().svgStyle,this.getData().svgClassName),this.Ad(this.Rm,0));var e=c?this.getData().selectionColor:this.getData().hoverOuterColor,h=this.Rm.ve().clone();h.Yp(e);h.kb(2+this.Ny());this.b7(h,!0);this.Rm.Ha(h,2)};E.prototype.VDa=function(){this.CB&&(this.yg().Ha(this.CB),this.QM(this.HD,this.CB),this.QM(this.rD,this.CB),this.CB=null);this.Rm&&(this.removeChild(this.Rm),
this.Rm.Ec&&this.Rm.Ec(),this.Rm=null)};E.prototype.b7=function(c,e){if(!this.a.sp){var h=this.E7();if(h&&h instanceof Object)if(h._type==E.m7){var f=null!=h.strokeDashoffset?a.j.Xe(h.strokeDashoffset)+1:1;c.vm(a.Pa.Xu,a.Qd.MHa(h.strokeDasharray),f)}else h=a.Qd.qJ(h._type),c.vm(h,a.Qd.jM(h,e),a.Qd.kM(h,e));else E.C.b7.call(this,c,e)}};E.prototype.Rc=function(){this.yl||(this.yl=!0,this.Jpa(!0,this.hb()))};E.prototype.Cc=function(){this.hb()?this.Jpa(!1,!0):this.VDa();this.yl=!1};E.prototype.bf=function(){var a=
this.wa.A().tooltip;return(a=a?a.renderer:null)?this.wa.a.cf().Rs(a,this.zj()):this.Dh()};E.prototype.Dh=function(){return this.Kl()?1<this.getData()._links.length?a.I.Zc(this.wa.A(),"promotedLinks",a.I.zW,"PROMOTED_LINKS",this.getData()._links.length):a.I.Zc(this.wa.A(),"promotedLink",a.I.zW,"PROMOTED_LINK",this.getData()._links.length):this.getData().shortDesc};E.prototype.zj=function(){return{id:this.getId(),type:this.Kl()?"promotedLink":"link",label:this.getData().label,data:this.Kl()?this.getData()._links:
this.getData()._origData,component:this.wa.A()._widgetConstructor}};E.prototype.se=function(){var c=[];this.gb()&&c.push(a.I.Ja(a.I.pa,this.hb()?"STATE_SELECTED":"STATE_UNSELECTED"));this.Kl()&&c.push(a.I.Ja(a.I.zW,"PROMOTED_LINK_ARIA_DESC"));return a.R.mm(this.Dh(),c)};E.prototype.qs=function(){if(!a.m.Vj()){var c=this.se();c&&this.Od("label",c)}};E.prototype.Kd=function(c){if(c.keyCode==a.KeyboardEvent.Kj&&c.ctrlKey)return this;if(c.keyCode==a.KeyboardEvent.sg||c.keyCode==a.KeyboardEvent.kf){var e=
this.v$;e||(e=this.wa.Hb(this.Ri()));var h=this,f=this.wa.jV(e.getId()),m=this.wa.Nb().ya;m&&m.zsa&&(h=m.zsa(e,this,c,f));h.Kwa(e);this.wa.TD(c,h);return h}return c.keyCode==a.KeyboardEvent.Be||c.keyCode==a.KeyboardEvent.Ne?(e=this.RXa(c.keyCode)?this.Ri():this.zh(),e=this.wa.Hb(e),this.wa.TD(c,e),e):c.type==a.MouseEvent.He?this:null};E.prototype.RXa=function(c){var e=this.Dba(),h=this.Cba(),e=e.x<h.x?!0:!1;return c==a.KeyboardEvent.Be&&e||c==a.KeyboardEvent.Ne&&!e?!1:!0};E.prototype.qh=function(){this.Tc=
!0;this.Rc()};E.prototype.mf=function(){this.Tc=!1;this.Cc()};E.prototype.Ae=function(){return this.Tc};E.prototype.rd=function(){return this.getData().categories?this.getData().categories:[this.getId()]};E.prototype.bua=function(){var c=this.wa.A().hiddenCategories;return c&&a.Y.Zs(c,this.rd())||!this.wa.Hb(this.Ri())||!this.wa.Hb(this.zh())?!0:!1};E.prototype.Mf=function(c,e,h){var p=e.Df(),m=this.Df(),z=new a.td(this.a,null,c.Kb());a.Y.mc(p,m)||(this.Uh(p),p=a.L.J8,0<m.length&&isNaN(m[0])&&(p=
a.L.XC),z.da.aa(p,this,this.Df,this.Uh,m));e.yd&&this.yd&&(m=e.yd.La(),p=this.yd.La(),m.mc(p)||(this.yd.Xa(m),z.da.aa(a.L.ji,this.yd,this.yd.La,this.yd.Xa,p)));e.yg()&&this.yg()&&(e=e.yg().ve(),m=this.yg().ve(),e&&m&&e instanceof a.ma&&m instanceof a.ma&&(e.Zb()!=m.Zb()||e.getWidth()!=m.getWidth())&&(this.yg().Ha(e),z.da.aa(a.L.cZ,this.yg(),this.yg().ve,this.yg().Ha,m)));if(h){var w=this;a.yb.Le(z,function(){w.getParent().removeChild(w)})}c.add(z,f.tj)};E.prototype.ai=function(c){this.wa.hB.B(this);
var e=this,h=new a.Vg(this.a,this,c.Kb());a.yb.Le(h,function(){e.getParent().removeChild(e);e.Ec()});c.add(h,f.VL)};E.prototype.mh=function(c){this.qa(0);c.add(new a.dg(this.a,this,c.Kb()),f.dF)};E.prototype.h0a=function(c,e){if(e&&0!=e.length){var h=a.Y.copy(this.Df());this.Mf(c,e[0]);for(var f=1;f<e.length;f++){var m={id:"_fakeLink"+f+this.getId()},m=a.cb.ae(m,this.getData()),m=new E(this.wa.a,this.wa,m,!0);m.ia();m.Uh(h);m.Mf(c,e[f],!0)}}};E.prototype.i0a=function(a,c){if(c&&0!=c.length)for(var e=
0;e<c.length;e++)c[e].Mf(a,this)};E.prototype.jS=function(c,e){c&&(c==a.M.Fj?this.yd.Oh():c==a.M.Kh?this.yd.$f():c==a.M.ii&&this.yd.bh());e&&(e==a.M.Oj?this.yd.Mk():e==a.M.rf?this.yd.ug():e==a.M.Nh?this.yd.km():"baseline"==e&&this.yd.uz())};E.prototype.Dwa=function(a){this.nma=a};E.prototype.lj=function(){return this.nma};E.pWa=function(c,e){function h(a,c){for(var d=[],g=c.Hb(a)?c.Hb(a).lj():null;g;)d.push(g),g=c.Hb(g)?c.Hb(g).lj():null;return d}for(var f=h(c.Ri(),e),m=h(c.zh(),e),z=0;z<f.length;z++)if(-1<
a.Y.$b(m,f[z]))return f[z];return null};E.oya=function(a,c){return"_plL"+a+"_L"+c};E.prototype.PC=function(){this.bx||this.r_("oj-diagram-link oj-active-drop")};E.prototype.QC=function(){this.bx||this.r_("oj-diagram-link oj-invalid-drop")};E.prototype.My=function(){this.bx&&(this.removeChild(this.bx),this.bx=null)};E.prototype.r_=function(a){var c=this.getData()._hitDetectionOffset;this.bx=this.bea("#000000",0,c,null,a);this.bx.dd(!1);this.B(this.bx)};E.EMa=function(a){return{id:a.id,startNode:a.startNode,
endNode:a.endNode,label:a.label,selectable:a.selectable,shortDesc:a.shortDesc,categories:a.categories,_origData:a}};E.prototype.UU=function(){var a,c,e;this.yd&&(a={matrix:this.yd.La(),La:function(){return a.matrix}});this.yg()&&(c={stroke:this.yg().ve().clone(),ve:function(){return c.stroke}});var h=this.Kl()?this.getData()._links:null;return e={partialUpdate:!0,id:this.getId(),promoted:this.Kl(),includedLinks:h,points:this.Df(),shape:c,yd:a,getId:function(){return e.id},Kl:function(){return e.promoted},
getData:function(){return{_links:e.includedLinks}},Df:function(){return e.points},yg:function(){return e.shape}}};a.f.v(D,a.hc,"DvtDiagramNode");D.newInstance=function(a,c){return new D(a.a,a,c)};D.prototype.Init=function(a,c,e){D.C.Init.call(this,a,e.id,c);this.sb=e;this.wa.Qk()&&this.setCursor("pointer")};D.prototype.getData=function(){return this.sb};D.prototype.setData=function(a){this.sb=a};D.prototype.getId=function(){return this.sb.id};D.prototype.L3=function(){this.EZ||(this.EZ=this.getId()+
Math.floor(1E9*Math.random()));return this.EZ};D.prototype.qo=function(a){!this.bka&&a&&(this.bka=this.pUa());return this.bka};D.prototype.Lg=function(a){var c=null;this.yd&&a&&(c=this.yd.V());return c};D.prototype.gc=function(a){var c=this.em();D.C.gc.call(this,a);this.wa.A().selectionRenderer?this.LN(this.wa.A().selectionRenderer,this.em(),c):this.OI(a);this.qs()};D.prototype.OI=function(a){this.Ws()&&this.Ws().gc(a)};D.prototype.gb=function(){return this.wa.Qk()&&"off"!=this.getData().selectable};
D.prototype.Zea=function(){return this.X};D.prototype.ia=function(){this.B9();var a=this.getData();if(this.wa.A().renderer){if(this.LN(this.wa.A().renderer,this.em(),null),this.gd()){var c=this.ja().getBoundingClientRect(),e=this.PA?this.PA.ja().getBoundingClientRect():null;this.aj={left:e.left-c.left,right:c.right-e.right,top:e.top-c.top,bottom:c.bottom-e.bottom}}}else this.gd()?D.ZYa(this.wa,a,this):(D.p2(this.wa,a,this),D.Roa(this.wa,a,this)),D.xTa(this.Ws(),a);D.Toa(this.wa,a,this);this.YZa();
D.$Ya(this.wa,a,this);this.zg("img");this.qs();this.wa.Nb().Xb(this,this)};D.prototype.LN=function(c,e,h){var f=this.wa.A()._contextHandler;if(f){var m=this.getData()._origData,z=null;if(this.gd())var z=this.aX(),w=z.V(),z={element:z.ja(),w:w?w.b-w.x:null,h:w?w.i-w.y:null};e=f(this.ja(),this.ik,z,m,e,h);!(c=c(e))&&this.ik&&this.a.sp||(this.ik&&c!=this.ik&&(this.ik.namespaceURI===a.l.sF?this.ZB().removeChild(this.ik):this.removeChild(c),this.ik=null),c&&c.namespaceURI===a.l.sF?this.ik||(a.l.Dc(this.ZB(),
c),this.ik=c):c instanceof a.ec?this.ik||(this.B(c),this.ik=c):c&&this.wa.Lfa("dvt.Diagram: could not add custom node content for the node "+this.getId()+c))}else this.wa.Lfa("dvt.Diagram: could not add custom node content - context handler is undefined")};D.p2=function(c,e,h){if(!c.a.sp){var f=e.backgroundSvgStyle||e.backgroundStyle,m=a.cb.clone(f),z=[a.j.Yl,a.j.cq,a.j.fe,a.j.we,a.j.fi,a.j.ei],f=D.Tla(m,e._backgroundStyle,z);if(!f.EJa()){var w=a.j.Xe(f.N(a.j.Yl)),p=a.j.Xe(f.N(a.j.cq)),d=f.N(a.j.fe),
g=f.N(a.j.we),B=a.j.Xe(f.N(a.j.fi)),f=a.j.Xe(f.N(a.j.ei));c=new a.Rect(c.a,0,0,w,p);c.ab(d);f&&(c.hl(f),c.il(f));g&&c.Ha(new a.ma(g,1,B));m&&a.Y.forEach(z,function(d){delete m[a.j.RD(d)]});e=e.backgroundSvgClassName||e.backgroundClassName;c.Na(m).sc(e);h.B(c);h.GL(c);h.xb=c}}};D.Roa=function(c,e,h){var f=e.icon;if(f){var m=f.width,z=f.height,w=f.color,p=f.borderRadius;c=f.source?new a.xc(c.a,m/2,z/2,m,z,p,f.source,f.sourceSelected,f.sourceHover,f.sourceHoverSelected):new a.W(c.a,f.shape,a.j.Qg,m/
2,z/2,m,z,p);"none"!=f.fillPattern?c.Ia(new a.lb(f.fillPattern,w,w)):c.ab(w);null!=f.opacity&&c.qa(f.opacity);f.borderColor&&c.Ha(new a.ma(f.borderColor,1,f.borderWidth));w=f.svgClassName||f.className;c.Na(f.svgStyle||f.style).sc(w);h.B(c);h.X=c;D.ZZa(e,h);h.xb||h.GL(c)}};D.ZZa=function(c,e){if(e.xb){var h=c.icon,f=e.xb.getWidth(),m=e.xb.getHeight(),z=h.width,w=h.height,p=.5*(f-z),d=.5*(m-w);if(void 0!==h.positionX)p=parseFloat(h.positionX),a.m.ea(e.a)&&(p=f-p-z);else{var g=h.halign;"start"==g?g=
a.m.ea(e.a)?"right":"left":"end"==g&&(g=a.m.ea(e.a)?"left":"right");p="left"==g?0:"right"==g?f-z:p}void 0!==h.positionY?d=parseFloat(h.positionY):"top"==h.valign?d=0:"bottom"==h.valign&&(d=m-w);e.X.jb(p,d)}};D.Toa=function(c,e,h){var f=a.m.ea(c.a)?a.M.ii:a.M.Fj;e.label&&(c=D.lm(c.a,e.label,e.labelStyle,f,a.M.Oj),e=a.j.Xe((new a.j(e.labelStyle)).getWidth()),0<e&&a.ga.Yc(c,e,Infinity,h)||h.B(c),h.yd=c)};D.lm=function(c,e,h,f,m){c=new a.M(c,e,0,0);c.ub(new a.j(h));c.Eq(f);c.Uz(m);return c};D.xTa=function(c,
e){var h=e.hoverInnerColor,f=e.hoverOuterColor,m=e.selectionColor,z=new a.ma(h,1,4);z.We(!0);f=new a.ma(f,1,8);f.We(!0);var w=new a.ma(h,1,2);w.We(!0);var p=new a.ma(m,1,6);p.We(!0);h=new a.ma(h,1,4);h.We(!0);m=new a.ma(m,1,8);m.We(!0);c.ap(z,f).Fq(w,p).cs(h,m)};D.yTa=function(c,e){var h=e.hoverInnerColor,f=e.hoverOuterColor,m=e.selectionColor,z=new a.ma(h,1,2);z.We(!0);f=new a.ma(f,1,2);f.We(!0);var w=new a.ma(h,1,1);w.We(!0);var p=new a.ma(m,1,2);p.We(!0);h=new a.ma(h,1,2);h.We(!0);m=new a.ma(m,
1,2);m.We(!0);c.ap(z,f).Fq(w,p).cs(h,m)};D.prototype.GL=function(a){this.VP=a};D.prototype.Ws=function(){if(!this.VP){var c=this.qo(!0);c&&(c=new a.Rect(this.wa.a,c.x,c.y,c.b,c.i),c.Yb(),c.G6(a.Pa.UX),this.GL(c),this.Ad(c,0),D.yTa(c,this.getData()),this.VP=c)}return this.VP};D.prototype.Rc=function(){if(!this.yl){var a=this.em();this.yl=!0;this.wa.A().hoverRenderer?this.LN(this.wa.A().hoverRenderer,this.em(),a):this.zy(!0)}};D.prototype.Cc=function(){if(this.yl){var a=this.em();this.yl=!1;this.wa.A().hoverRenderer?
this.LN(this.wa.A().hoverRenderer,this.em(),a):this.zy(!1)}};D.prototype.zy=function(a){this.Ws()&&(a?this.Ws().Rc():this.Ws().Cc())};D.prototype.bf=function(){var a=this.wa.A().tooltip;return(a=a?a.renderer:null)?this.wa.a.cf().Rs(a,this.zj()):this.Dh()};D.prototype.Dh=function(){return this.getData().shortDesc};D.prototype.zj=function(){return{id:this.getId(),type:"node",label:this.getData().label,data:this.getData()._origData,component:this.wa.A()._widgetConstructor}};D.prototype.se=function(){var c=
[];this.gb()&&c.push(a.I.Ja(a.I.pa,this.hb()?"STATE_SELECTED":"STATE_UNSELECTED"));this.Vta()&&c.push(this.gd()?a.I.Ja(a.I.pa,"STATE_EXPANDED"):a.I.Ja(a.I.pa,"STATE_COLLAPSED"));return a.R.mm(this.Dh(),c)};D.prototype.qs=function(){if(!a.m.Vj()){var c=this.se();c&&this.Od("label",c)}};D.prototype.Kd=function(c){var e=null;if(c.keyCode==a.KeyboardEvent.Kj&&c.ctrlKey)e=this;else if((c.keyCode==a.KeyboardEvent.Ty||a.KeyboardEvent.hw)&&c.altKey){var h=this.wa.jV(this.getId()),f=this.wa.Nb().ya;f&&f.f4&&
(e=f.f4(this,c,h));e?e.Kwa(this):e=this}else c.keyCode==a.KeyboardEvent.Uy?e=this.gd()?this.Of()[0]:this:c.keyCode==a.KeyboardEvent.iw?e=(e=this.lj()?this.wa.Hb(this.lj()):null)?e:this:c.type==a.MouseEvent.He?e=this:(e=(e=this.lj()?this.wa.Hb(this.lj()):null)?e.Of():this.wa.G7(),e=a.ya.pI(this,c,e));c instanceof a.KeyboardEvent&&this.wa.TD(c,e);return e};D.prototype.Ry=function(c){c.keyCode==a.KeyboardEvent.Kj&&c.ctrlKey&&c.shiftKey&&this.Vta()&&this.wa.dLa(this.getId(),!this.gd())};D.prototype.Vta=
function(){return 0==this.wa.A().data.getChildCount(this.getData())?!1:!0};D.prototype.qh=function(){if(!this.Ae()){var a=this.em();this.Tc=!0;this.wa.A().focusRenderer?this.LN(this.wa.A().focusRenderer,this.em(),a):this.vC(!0)}};D.prototype.mf=function(){if(this.Ae()){var a=this.em();this.Tc=!1;this.wa.A().focusRenderer?this.LN(this.wa.A().focusRenderer,this.em(),a):this.vC(!1)}};D.prototype.vC=function(a){this.zy(a)};D.prototype.Ae=function(){return this.Tc};D.prototype.rd=function(){return this.getData().categories?
this.getData().categories:[this.getId()]};D.prototype.bua=function(){var c=this.wa.A().hiddenCategories;return c&&a.Y.Zs(c,this.rd())?!0:!1};D.prototype.pUa=function(){var c=null;if(this.ik){var e;this.ik instanceof a.ec?(e=this.ik.V())&&(c=new a.U(e.x,e.y,e.b,e.i)):(e=this.ik.getBBox())&&(c=new a.U(e.x,e.y,e.width,e.height))}else this.gd()?c=this.ov.qw(this):(c=this.xb?this.xb.qw(this):null)&&this.X?c=c.Hn(this.X.qw(this)):!c&&this.X&&(c=this.X.qw(this));return c};D.prototype.Mf=function(c,e){var h=
new a.td(this.a,null,c.Kb());if(this.gd()||e.gd())if(this.gd()&&e.gd())if(e.yd&&this.yd&&(p=e.yd.La(),m=this.yd.La(),p.mc(m)||(this.yd.Xa(p),h.da.aa(a.L.ji,this.yd,this.yd.La,this.yd.Xa,m))),this.wa.A().renderer)this.fBa(c,e);else{if(D.sja(h,e,this),D.RTa(h,e.ov,this.ov),a.m.ea(this.a)&&e.az&&this.az&&(p=e.az.ac(),m=this.az.ac(),p!=m&&(this.az.Va(p),h.da.aa(a.L.ta,this.az,this.az.ac,this.az.Va,m))),!e.partialUpdate){for(var p=[],m=[],z=this.jD,w=0;w<z.length;w++)p.push(this.wa.Hb(z[w]));for(var z=
e.jD,A=c.Vna.xOa,w=0;w<z.length;w++)m.push(A[z[w]]);c.En(m,p)}}else this.fBa(c,e);else{D.sja(h,e,this);e.X&&this.X&&(h.da.aa(a.L.GJ,this.X,this.X.Ps,this.X.xC,this.X.Ps()),this.X.xC(e.X.Ps()));if(e.yd&&this.yd){var p=e.yd.La(),m=this.yd.La();p.mc(m)||(this.yd.Xa(p),h.da.aa(a.L.ji,this.yd,this.yd.La,this.yd.Xa,m))}D.dD(h,e.xb,this.xb);D.dD(h,e.X,this.X)}c.add(h,f.tj)};D.prototype.fBa=function(c,e){var h=e.qo(),p=this.qo();if(h.mc(p)){var m=new a.td(this.a,null,c.Kb());D.sja(m,e,this);c.add(m,f.tj)}else{var z=
p.b/h.b,w=h.b/p.b,m=new a.td(this.a,null,c.Kb()),A=new a.P(e.ac()+.5*h.b,e.qc()+.5*h.i),d=this.ac(),g=this.qc();this.Va(A.x-p.b*w*.5);this.Eb(A.y-p.b*w*.5);m.da.aa(a.L.ta,this,this.ac,this.Va,d);m.da.aa(a.L.ta,this,this.qc,this.Eb,g);c.add(m,f.tj);this.Ol(w);this.mn(w);w=new a.$v(this.a,this,new a.P(1,1),c.Kb());c.add(w,f.tj);var B=e.partialUpdate?e.origContent:e;if(B){this.getParent().B(B);p=new a.P(this.ac()+.5*p.b,this.qc()+.5*p.i);m.da.aa(a.L.ta,B,e.ac,B.Va,p.x-h.b*z*.5);m.da.aa(a.L.ta,B,e.qc,
B.Eb,p.y-h.i*z*.5);h=new a.$v(this.a,B,new a.P(z,z),c.Kb());c.add(h,f.tj);h=new a.Vg(this.a,B,c.Kb());c.add(h,f.tj);var r=this;a.yb.Le(h,function(){r.getParent().removeChild(B)});this.qa(0);h=new a.dg(this.a,this,c.Kb());c.add(h,f.tj)}}};D.sja=function(c,e,h){if(h&&e){var f=e.ac();e=e.qc();var m=h.ac(),p=h.qc();f!=m&&(h.Va(f),c.da.aa(a.L.ta,h,h.ac,h.Va,m));e!=p&&(h.Eb(e),c.da.aa(a.L.ta,h,h.qc,h.Eb,p))}};D.RTa=function(c,e,h){h&&e&&(D.dD(c,e,h),c.da.aa(a.L.ta,h,h.getWidth,h.kb,h.getWidth()),h.kb(e.getWidth()),
c.da.aa(a.L.ta,h,h.getHeight,h.Lb,h.getHeight()),h.Lb(e.getHeight()))};D.dD=function(c,e,h){e&&h&&h.Hd()instanceof a.oc&&!h.Hd().mc(e.Hd())&&(c.da.aa(a.L.yt,h,h.Hd,h.Ia,h.Hd()),h.Ia(e.Hd()))};D.prototype.ai=function(c){this.wa.eu.B(this);var e=this,h=new a.Vg(this.a,this,c.Kb());a.yb.Le(h,function(){e.getParent().removeChild(e);e.Ec()});c.add(h,f.VL)};D.prototype.mh=function(c){this.qa(0);c.add(new a.dg(this.a,this,c.Kb()),f.dF)};D.prototype.em=function(a){return{hovered:this.yl,selected:this.hb(),
focused:this.Tc,zoom:a?a:this.wa.pc.Wo(),expanded:this.gd()}};D.prototype.Z6a=function(a){if(this.wa.A().zoomRenderer){var c=this.em(a.Yna);a=this.em(a.fU);this.LN(this.wa.A().zoomRenderer,a,c)}};D.prototype.jS=function(c,e){c&&(c==a.M.Fj?this.yd.Oh():c==a.M.Kh?this.yd.$f():c==a.M.ii&&this.yd.bh());e&&(e==a.M.Oj?this.yd.Mk():e==a.M.rf?this.yd.ug():e==a.M.Nh?this.yd.km():"baseline"==e&&this.yd.uz())};D.prototype.bi=function(){if(!this.aj&&this.wa.A().renderer){var a=this.ja().getBoundingClientRect(),
c=this.PA?this.PA.ja().getBoundingClientRect():null;this.aj={left:c.left-a.left,right:a.right-c.right,top:c.top-a.top,bottom:a.bottom-c.bottom}}else this.aj||(a=D.Tla(this.sb.containerSvgStyle||this.sb.containerStyle,this.sb._containerStyle,["padding-left","padding-right","padding-top","padding-bottom"]),this.aj={left:a.ky("padding-left"),right:a.ky("padding-right"),top:a.ky("padding-top"),bottom:a.ky("padding-bottom")});return this.aj};D.prototype.T_a=function(a){this.jD||(this.jD=[]);this.jD.push(a)};
D.prototype.H6a=function(c){this.jD&&a.Y.removeItem(this.jD,c)};D.prototype.G6a=function(a){a&&(this.H6a(a.getId()),this.PA.removeChild(a))};D.prototype.Of=function(){for(var a=[],c=this.jD?this.jD.length:-1,e=0;e<c;e++){var h=this.wa.Hb(this.jD[e]);h&&a.push(h)}return a};D.prototype.Dwa=function(a){this.nma=a};D.prototype.lj=function(){return this.nma};D.prototype.aX=function(){this.PA||(this.PA=new a.ca(this.a),this.B(this.PA));return this.PA};D.prototype.J4a=function(c){a.u.Ud(c);this.wa.dLa(this.getId(),
!this.gd())};D.ZYa=function(c,e,h){var f=a.cb.clone(c.a.sp?null:e.containerSvgStyle||e.containerStyle),m=[a.j.fe,a.j.we,a.j.fi,a.j.ei],p=D.Tla(f,e._containerStyle,m),w=p.N(a.j.fe),A=p.N(a.j.we),d=a.j.Xe(p.N(a.j.fi)),p=a.j.Xe(p.N(a.j.ei)),g=h.aX(),B=h.bi();g.jb(B.left,B.top);g=g.Lv();B=new a.Rect(c.a,0,0,g.b+B.left+B.right,g.i+B.top+B.bottom);B.ab(w);p&&(B.hl(p),B.il(p));A&&B.Ha(new a.ma(A,1,d));f&&a.Y.forEach(m,function(d){delete f[a.j.RD(d)]});c=c.a.sp?null:e.containerSvgClassName||e.containerClassName;
B.Na(f).sc(c);h.Ad(B,0);h.GL(B);h.ov=B};D.Tla=function(c,e,h){var f=new a.j;a.Y.forEach(h,function(m){var h=null,w=a.j.RD(m);c&&null!=c[w]?h=c[w]:e&&(h=e.N(m));f.Na(m,h)});return f};D.$Ya=function(c,e,h){if(h.Vta()&&"off"!=e.showDisclosure){var f,m,p=c.A();h.gd()?(e=p._resources.collapse_ena,f=p._resources.collapse_ovr,m=p._resources.collapse_dwn):(e=p._resources.expand_ena,f=p._resources.expand_ovr,m=p._resources.expand_dwn);p=new a.Image(c.a,e.src,0,0,e.width,e.height);f=new a.Image(c.a,f.src,0,
0,f.width,f.height);m=new a.Image(c.a,m.src,0,0,m.width,m.height);p=new a.ra(c.a,p,f,m,null,null,h.J4a,h);h.B(p);if(f=h.qo(!0))c=a.m.ea(c.a)?f.x+f.b-e.width:f.x,p.jb(c,f.y);h.az=p}};D.prototype.jn=function(){return!0};D.prototype.Fl=function(){return"off"===this.getData().draggable?null:[this.getId()]};D.prototype.Rp=function(){if(this.wa.Nb().XS)return null;if(this.wa.Qk()&&1<this.wa.Ue().wj.length){for(var a=this.wa.Ue().getSelection(),c=[],e=0;e<a.length;e++)c.push(a[e]);return c}return this};
D.prototype.PC=function(){this.bx||this.r_("oj-diagram-node oj-active-drop")};D.prototype.QC=function(){this.bx||this.r_("oj-diagram-node oj-invalid-drop")};D.prototype.My=function(){this.bx&&(this.removeChild(this.bx),this.bx=null)};D.prototype.r_=function(c){var e;if(this.ik||this.gd()||this.xb||this.X&&this.X instanceof a.xc){var h=this.qo(!0);h&&(e=new a.Rect(this.wa.a,h.x,h.y,h.b,h.i),h=this.ik?null:this.gd()?this.ov.Up():this.xb?this.xb.Up():null)&&(e.hl(h),e.il(h))}else this.X&&this.X instanceof
a.W&&(e=this.X.nh());e.Yb();e.sc(c);e.dd(!1);this.B(e);this.bx=e};D.prototype.YZa=function(){if(this.wa.Nb().U7()&&"off"!=this.getData().draggable){var c=this.ik?this:this.gd()?this.ov:this.xb?this.xb:this.X,c=c.ja()?c.ja():c;a.l.m3(c,"oj-diagram-node");a.l.m3(c,"oj-draggable")}};D.FMa=function(a){return{id:a.id,label:a.label,selectable:a.selectable,shortDesc:a.shortDesc,categories:a.categories,nodes:a.nodes,_origData:a}};D.prototype.B9=function(c){this.ov&&(this.removeChild(this.ov),c&&c.B(this.ov),
this.ov=null);this.xb&&(this.removeChild(this.xb),c&&c.B(this.xb),this.xb=null);this.X&&(this.removeChild(this.X),c&&c.B(this.X),this.X=null);this.yd&&(this.removeChild(this.yd),c&&c.B(this.yd),this.yd=null);this.az&&(this.removeChild(this.az),c&&c.B(this.az),this.az=null);this.ik&&(this.PA&&(this.PA.FL(null),this.B(this.PA)),this.ik.namespaceURI===a.l.sF?(this.ZB().removeChild(this.ik),c&&a.l.Dc(c.ZB(),this.ik)):this.ik instanceof a.ec&&(this.removeChild(this.ik),c&&c.B(this.ik)),this.ik=null);this.bka=
null};D.prototype.UU=function(c){var e,h,f,m,p,w=this.qo();this.X&&(e={centerDimensions:this.X.Ps(),fill:this.X.Hd(),Ps:function(){return e.centerDimensions},Hd:function(){return e.fill}});this.yd&&(h={matrix:this.yd.La(),La:function(){return h.matrix}});this.gd()&&this.ov&&(f={fill:this.ov.Hd(),width:this.ov.getWidth(),height:this.ov.getHeight(),Hd:function(){return f.fill},getWidth:function(){return f.width},getHeight:function(){return f.height}});if(c||this.gd()&&this.wa.A().renderer)p=new a.ca(this.a),
this.B9(p),p.jb(this.ac(),this.qc());return m={partialUpdate:!0,id:this.getId(),disclosed:this.gd(),tx:this.ac(),ty:this.qc(),contentBounds:w,origContent:p,X:e,yd:h,ov:f,getId:function(){return m.id},gd:function(){return m.disclosed},ac:function(){return m.tx},qc:function(){return m.ty},qo:function(){return m.contentBounds}}};D.prototype.j0a=function(c,e){this.sb.nodes instanceof Array||(this.sb.nodes=[]);this.sb.nodes=a.Y.Sta(this.sb.nodes,c,e)};D.prototype.I6a=function(a){if(this.sb.nodes instanceof
Array)for(var c=0;c<a.length;c++)for(var e=a[c].id,h=0;h<this.sb.nodes.length;h++)if(this.sb.nodes[h].id===e){this.sb.nodes.splice(h,1);break}};a.f.v(F,a.Lc,"DvtDiagramAutomation");F.prototype.Init=function(a){this.wa=a};F.prototype.Rl=function(a){return(a=this.wa.Nb().Za(a))&&a instanceof D?"node["+this.wa.HS().indexOf(a.getId())+"]":a&&a instanceof E?"link["+this.wa.zJ().indexOf(a.getId())+"]":null};F.prototype.Rh=function(c){if(c==a.Lc.Ew)return this.eA(this.wa);var e=this.poa(c);c=e.component;
var e=e.index,h=null;"node"==c?h=this.fK(e):"link"==c&&(h=this.mDa(e));return h?h.ja():null};F.prototype.poa=function(a){var c=a,e=-1,h=a.substring(0,a.indexOf("["));h&&(c="node"==h||"link"==h?h:null,e=parseInt(a.substring(a.indexOf("[")+1,a.indexOf("]"))));return{component:c,index:e}};F.prototype.Aj=function(){return this.wa.HS().length};F.prototype.fC=function(){return this.wa.zJ().length};F.prototype.Me=function(c){if(c=this.fK(c)){var e={};e.id=c.getId();e.selected=c.hb();e.tooltip=c.Dh();e.label=
c.getData().label;var h=c.getData().backgroundStyle;h&&h instanceof Object&&(h=a.j.MU(h));e.background=h;e.icon=this.f0(c.Zea());e.expanded=c.gd();return e}return null};F.prototype.h3a=function(c){if(c=this.mDa(c)){var e={};e.id=c.getId();e.selected=c.hb();e.tooltip=c.Dh();e.label=c.getData().label;e.color=c.aL();e.width=c.zz();e.style=this.nDa(c.eV());e.startNode=c.Ri();e.endNode=c.zh();e.startConnectorType=c.Qv();e.endConnectorType=c.Ss();e.promoted=c.Kl();c.Kl()&&(e.links=a.cb.clone(c.getData()._links));
return e}return null};F.prototype.E3a=function(a,c){var e=this.fK(a),h=this.fK(c);if(!e||!h)return null;e=E.oya(e.getId(),h.getId());return(e=this.wa.mg(e))?(h={},h.id=e.getId(),h.selected=e.hb(),h.tooltip=e.Dh(),h.color=e.aL(),h.width=e.zz(),h.style=this.nDa(e.eV()),h.startNode=e.Ri(),h.endNode=e.zh(),h.startConnectorType=e.Qv(),h.endConnectorType=e.Ss(),h.count=e.getData()._links.length,h):null};F.prototype.nDa=function(c){return this.wa.a.sp?a.j.MU(c):c&&c instanceof Object?c._type==E.m7?(c=a.cb.clone(c),
delete c._type,a.j.MU(c)):c._type:c};F.prototype.J2a=function(){return this.wa.$u};F.prototype.f0=function(c){if(c){var e={};e.shape=c instanceof a.W?c.Hc():"none";c.Hd()&&(e.color=c.Hd().Zb());return e}return null};F.prototype.fK=function(a){var c=this.wa.HS();return 0<=a&&a<c.length?this.wa.Hb(c[a]):null};F.prototype.mDa=function(a){var c=this.wa.zJ();return 0<=a&&a<c.length?this.wa.mg(c[a]):null};a.K(a,"Diagram",a.Mb);a.K(a.Mb,"newInstance",a.Mb.newInstance);a.K(a.Mb.prototype,"highlight",a.Mb.prototype.Zd);
a.K(a.Mb.prototype,"select",a.Mb.prototype.select);a.K(a.Mb.prototype,"getAutomation",a.Mb.prototype.Bi);a.K(a.Mb.prototype,"processDefaultHoverEffect",a.Mb.prototype.zy);a.K(a.Mb.prototype,"processDefaultSelectionEffect",a.Mb.prototype.OI);a.K(a.Mb.prototype,"processDefaultFocusEffect",a.Mb.prototype.vC);a.K(a.Mb.prototype,"clearDisclosedState",a.Mb.prototype.J0a);a.K(a.Mb.prototype,"expand",a.Mb.prototype.expand);a.K(a.Mb.prototype,"collapse",a.Mb.prototype.collapse);a.K(F.prototype,"getDomElementForSubId",
F.prototype.Rh);a.K(F.prototype,"getNodeCount",F.prototype.Aj);a.K(F.prototype,"getLinkCount",F.prototype.fC);a.K(F.prototype,"getNode",F.prototype.Me);a.K(F.prototype,"getLink",F.prototype.h3a);a.K(F.prototype,"getPromotedLink",F.prototype.E3a);a.K(F.prototype,"getExpanded",F.prototype.J2a)})(dvt);
  return dvt;
});
