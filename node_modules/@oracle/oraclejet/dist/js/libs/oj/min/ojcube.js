/**
 * Copyright (c) 2014, 2017, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","promise","ojs/ojdatasource-common"],function(a,g){a.gc=function(a,b){this.Init();this.Na=a;this.dg=b;this.mB()};o_("Cube",a.gc,a);a.f.ya(a.gc,a.f,"oj.Cube");a.gc.prototype.Init=function(){a.gc.O.Init.call(this)};a.gc.prototype.gu=function(){var a=this.Bia(),b=[];Array.prototype.push.apply(b,a?a.gu():this.vj);for(a=2;a<this.vj.length;a++)b.push(this.vj[a]);return b};a.f.j("Cube.prototype.getAxes",{gu:a.gc.prototype.gu});a.gc.prototype.R0=function(){return this.vj};a.gc.prototype.lu=
function(a){var b=this.Bia();a=b.NPa(a);for(a=b=b.Iqa(a,0,[]);Array.isArray(a)&&1===a.length;)if(a=a[0],!Array.isArray(a))return a;return b};a.f.j("Cube.prototype.getValues",{lu:a.gc.prototype.lu});a.gc.prototype.setPage=function(a){this.y3=a instanceof Array?a:[a]};a.gc.prototype.wva=function(c,b,d,e,f){var g=this.dg,k=this.Nga(c);if(!k)return!1;c=null;d<g.length?c=this.Nga(d):(c={axis:d,levels:[]},g.push(c));d=k.levels;g=c.levels;c=b<d.length?d[b]:null;if(!c)return!1;e>=g.length?(g.push(c),d.splice(b,
1)):f===a.gc.KW.SWAP?(d[b]=g[e],g[e]=c):(f===a.gc.KW.AFTER&&e++,g.splice(e,0,c),g===d&&e<b&&b++,d.splice(b,1));this.mB();return!0};a.f.j("Cube.prototype.pivot",{wva:a.gc.prototype.wva});a.gc.prototype.Nga=function(a){for(var b=0;b<this.dg.length;b++)if(this.dg[b].axis===a)return this.dg[b];return null};a.gc.prototype.WT=function(){return this.dg};a.f.j("Cube.prototype.getLayout",{WT:a.gc.prototype.WT});a.gc.KW={BEFORE:"before",AFTER:"after",SWAP:"swap"};o_("Cube.PivotType",a.gc.KW,a);a.gc.prototype.Iqa=
function(a,b,d){var e=[];if(0===a.length)return b=d.slice(0),this.At(b);var f=a.slice(1),g=a[0].start;a=a[0].count;for(d[b]=g;d[b]<g+a;d[b]++)e.push(this.Iqa(f,b+1,d));return e};a.gc.prototype.NPa=function(a){var b=[];if(!a)return b;for(var d=Math.min(a.length,this.vj.length),e=0;e<d;e++){var f=a[e];f instanceof Object&&(f.hasOwnProperty("start")||f.hasOwnProperty("count"))?f.hasOwnProperty("start")?f.hasOwnProperty("count")?b.push(this.DP(f.start,f.count,e)):b.push(this.DP(f.start,1,e)):b.push(this.DP(0,
f.count,e)):b.push(this.DP(f,1,e))}return b};a.gc.prototype.DP=function(a,b,d){d=this.gu()[d].getExtent();if(a>=d||0>a)a=0;b=Math.min(b,d-a);return{start:a,index:a,count:b}};a.gc.prototype.At=function(c){var b=this.KFa(c);return b&&(b=b.Ux(),0<b.length&&(b=this.p[b[0].key]))?new a.jk(b.value,c,b.fT,b.rows,b.Dx):new a.jk(null,c,void 0,[])};a.gc.prototype.zxa=function(){var a=this.OJa();this.y3=[];for(var b=0;b<a.length;b++)this.rt(a[b].axis,a[b].levels),this.y3.push({axis:a[b].axis,index:0});if(0===
a.length)for(a=this.R0(),b=0;b<a.length;b++)this.rt(a[b].axis,a[b].levels)};a.gc.prototype.OJa=function(){for(var a=[],b=0;b<this.dg.length;b++)1<this.dg[b].axis&&a.push(this.dg[b]);return a};a.gc.prototype.R0=function(){for(var a=[],b=0;b<this.dg.length;b++)2>this.dg[b].axis&&a.push(this.dg[b]);return a};a.gc.prototype.mB=function(){this.vj=[];this.p=[];this.i_=[];this.zxa();if(null!==this.Na)for(var c=0;c<this.Na.length;c++){for(var b=new a.Eo,d=2;d<this.vj.length;d++)b=this.vj[d].P$(this.Na[c],
b);for(var b=b.Ux(),e=0;e<b.length;e++){var d=b[e].key,f=this.i_[d];f||(f=this.i_[d]=this.kW(this.R0()));for(var g=new a.Eo,k=f.vj.length,d=0;d<k;d++)g=f.vj[d].P$(this.Na[c],g);g=d=g.Ux();if(void 0!==b[e].Gra)for(g=[],k=0;k<d.length;k++)g.push(b[e]);f.nUa(d,g,this.Na[c])}}};a.gc.prototype.nUa=function(a,b,d){for(var e=0;e<a.length;e++)this.p[a[e].key]=this.xDa(b[e],this.p[a[e].key],d)};a.gc.prototype.Bia=function(){return this.i_[this.kJa(this.y3)]};a.gc.prototype.kJa=function(c){var b=new a.Eo;if(c&&
0<c.length){c.sort(function(a,b){return a.axis-b.axis});for(var d=this.vj,e=0;e<c.length;e++)b=d[c[e].axis].OM(c[e].index,b)}return b.Ux()[0].key};a.gc.yla=function(a){return a?void 0!==a.value&&null!==a.value:!1};a.gc.prototype.Se=function(a,b,d,e,f){d.push(e);e={};for(var g in f)f.hasOwnProperty(g)&&(e[g]=f[g]);e.value=a;e.fT=b;e.rows=d;return e};a.gc.di=function(c){return a.Xa.Bd(c.value)?!1:!isNaN(c.value)};a.gc.prototype.xDa=function(c,b,d){var e=this.mW(c.Gra),f=e.sE,g=a.gc.yla(b),k=a.gc.yla(c),
l=g&&a.gc.di(b),m=k&&a.gc.di(c);switch(f){case a.ik.SUM:return g&&k?l&&m?this.Se(b.value+c.value,f,b.rows,d,{}):this.Se(NaN,f,b.rows,d,{}):k&&!g?m?this.Se(c.value,f,[],d,{}):this.Se(NaN,f,[],d,{}):b;case a.ik.AVERAGE:return g&&k?l&&m?this.Se((b.EF+c.value)/(b.rows.length+1),f,b.rows,d,{EF:b.EF+c.value}):this.Se(NaN,f,b.rows,d,{EF:b.EF}):k&&!g?m?this.Se(c.value,f,[],d,{EF:c.value}):this.Se(NaN,f,[],d,{EF:NaN}):b;case a.ik.VARIANCE:case a.ik.STDDEV:return g&&k?l&&m?(g=b.value+(c.value-b.value)/(b.rows.length+
1),this.Se(g,f,b.rows,d,{Dx:b.Dx+(c.value-b.value)*(c.value-g)})):this.Se(NaN,f,b.rows,d,{Dx:NaN}):k&&!g?m?this.Se(c.value,f,[],d,{Dx:0}):this.Se(NaN,f,[],d,{Dx:NaN}):b;case a.ik.NONE:return this.Se(null,f,g?b.rows:[],d,{});case a.ik.FIRST:return g?this.Se(b.value,f,b.rows,d,{}):k?this.Se(c.value,f,[],d,{}):b;case a.ik.MIN:return g&&k?l&&m?this.Se(Math.min(b.value,c.value),f,b.rows,d,{}):this.Se(NaN,f,b.rows,d,{}):k&&!g?m?this.Se(c.value,f,[],d,{}):this.Se(NaN,f,[],d,{}):b;case a.ik.MAX:return g&&
k?l&&m?this.Se(Math.max(b.value,c.value),f,b.rows,d,{}):this.Se(NaN,f,b.rows,d,{}):k&&!g?m?this.Se(c.value,f,[],d,{}):this.Se(NaN,f,[],d,{}):b;case a.ik.COUNT:return g&&k?this.Se(b.value+1,f,b.rows,d,{}):k&&!g?this.Se(1,f,[],d,{}):b;case a.ik.CUSTOM:return c=e.cd.call(this,g?b.value:void 0,k?c.value:void 0),this.Se(c,f,g?b.rows:[],d,{})}};a.gc.prototype.rt=function(c,b){c>=this.vj.length&&Array.prototype.push.apply(this.vj,Array(c-this.vj.length+1));this.vj[c]||(this.vj[c]=new a.ij(b,c,this));return this.vj[c]};
a.gc.prototype.KFa=function(c){for(var b=this.gu(),d=new a.Eo,e=0;e<c.length;e++)d=b[e].OM(c[e],d);return d};a.gc.prototype.CB=function(){a.C.Ze()};a.gc.prototype.kW=function(){a.C.Ze()};a.gc.prototype.lW=function(){a.C.Ze()};a.gc.prototype.mW=function(){a.C.Ze();return{}};a.ik={SUM:"sum",AVERAGE:"avg",STDDEV:"stddev",VARIANCE:"variance",NONE:"none",FIRST:"first",MIN:"min",MAX:"max",COUNT:"count",CUSTOM:"custom"};o_("CubeAggType",a.ik,a);a.Td=function(a,b,d,e){this.Init();this.vg=[];this.Fz=e;this.zGa=
d;this.p={};this.p.value=a;this.p.label=b};o_("CubeAxisValue",a.Td,a);a.f.ya(a.Td,a.f,"oj.CubeAxisValue");a.Td.prototype.Init=function(){a.Td.O.Init.call(this)};a.Td.prototype.xA=function(){return this.zGa};a.f.j("CubeAxisValue.prototype.getLevel",{xA:a.Td.prototype.xA});a.Td.prototype.getDepth=function(){return 1};a.f.j("CubeAxisValue.prototype.getDepth",{getDepth:a.Td.prototype.getDepth});a.Td.prototype.Osa=function(){for(var a=[],b=this.Fz;b&&b.Fz;)a.unshift(b),b=b.Fz;return a};a.f.j("CubeAxisValue.prototype.getParents",
{Osa:a.Td.prototype.Osa});a.Td.prototype.getChildren=function(){return this.vg};a.f.j("CubeAxisValue.prototype.getChildren",{getChildren:a.Td.prototype.getChildren});a.Td.prototype.getExtent=function(){if(-1<this.JC)return this.JC;if(this.vg&&0!==this.vg.length)for(var a=this.JC=0;a<this.getChildren().length;a++)this.JC+=this.getChildren()[a].getExtent();else this.JC=1;return this.JC};a.f.j("CubeAxisValue.prototype.getExtent",{getExtent:a.Td.prototype.getExtent});a.Td.prototype.getStart=function(){if(-1<
this.Il)return this.Il;if(!this.Fz)return 0;for(var a=this.Fz.getStart(),b=this.Fz.Fia(this);b;)a+=b.getExtent(),b=this.Fz.Fia(b);return this.Il=a};a.f.j("CubeAxisValue.prototype.getStart",{getStart:a.Td.prototype.getStart});a.Td.prototype.jg=function(){return this.p.value};a.f.j("CubeAxisValue.prototype.getValue",{jg:a.Td.prototype.jg});a.Td.prototype.b7=function(){return this.p.label?this.p.label:this.jg()};a.f.j("CubeAxisValue.prototype.getLabel",{b7:a.Td.prototype.b7});a.Td.prototype.Axa=function(a){var b=
this.FIa();if(null===b)return null;if(b.aF())return this.TIa(a);if(a=a[b.attribute])for(b=0;b<this.vg.length;b++)if(this.vg[b].jg()===a)return this.vg[b];return null};a.Td.prototype.TIa=function(a){for(var b=0;b<this.vg.length;b++){var d=this.vg[b].jg();if(a.hasOwnProperty(d)&&a[d]===d)return this.vg[b]}return null};a.Td.prototype.FIa=function(){return this.vg&&0<this.vg.length?this.vg[0].xA():null};a.Td.prototype.Bxa=function(a){return this.O_(a,0,this.vg.length-1)};a.Td.prototype.O_=function(a,
b,d){if(b>d)return null;var e=Math.floor((b+d)/2),f=this.vg[e],g=f.getStart();return g>a?this.O_(a,b,e-1):g+f.getExtent()-1<a?this.O_(a,e+1,d):f};a.Td.prototype.TV=function(c,b,d){for(var e=0;e<this.vg.length;e++)if(this.vg[e].jg()===c)return this.vg[e];c=new a.Td(c,b,d,this);this.vg.push(c);return c};a.Td.prototype.Cxa=function(){var a={};a[this.xA().attribute]=this.jg();return a};a.Td.prototype.Fia=function(a){for(var b=0;b<this.vg.length;b++)if(this.vg[b]===a){if(0<b)return this.vg[b-1];break}return null};
a.ij=function(c,b,d){this.Init();this.axis=b;this.Hla=[];for(b=0;b<c.length;b++)this.Hla.push(d.lW(c[b],this));this.GH=d;this.gg=new a.Td(null,null,null,null)};o_("CubeAxis",a.ij,a);a.f.ya(a.ij,a.f,"oj.CubeAxis");a.ij.prototype.Init=function(){a.ij.O.Init.call(this)};a.ij.prototype.Qr=function(){return this.Hla};a.f.j("CubeAxis.prototype.getLevels",{Qr:a.ij.prototype.Qr});a.ij.prototype.getExtent=function(){return this.gg.getExtent()};a.f.j("CubeAxis.prototype.getExtent",{getExtent:a.ij.prototype.getExtent});
a.ij.prototype.lu=function(a){for(var b=[],d=this.gg;d;)(d=d.Bxa(a))&&b.push(d);return b};a.f.j("CubeAxis.prototype.getValues",{lu:a.ij.prototype.lu});a.ij.prototype.dn=function(a){a=a?JSON.parse(a):{};for(var b=this.gg,d=null;b;)d=b,b=b.Axa(a);return d?d.getStart():-1};a.f.j("CubeAxis.prototype.getIndex",{dn:a.ij.prototype.dn});a.ij.prototype.OM=function(a,b){return this.m$(a,this.Qr().length-1,b)};a.ij.prototype.m$=function(a,b,d){a=this.lu(a);b=this.Qr()[b];for(var e=0;e<a.length;e++){var f=a[e];
f.xA().aF()?d.SV(f.jg()):d.WW(f);if(f.xA()===b)break}return d};a.ij.prototype.P$=function(a,b){return this.GH.CB(this,0,this.gg,a,b,!0)};a.jk=function(a,b,d,e,f){this.Init();this.p={};this.p.value=a;this.p.CZa=b;this.p.fT=d;this.p.rows=e;this.p.Dx=f};o_("CubeDataValue",a.jk,a);a.f.ya(a.jk,a.f,"oj.CubeDataValue");a.jk.prototype.Init=function(){a.jk.O.Init.call(this)};a.jk.prototype.jg=function(){switch(this.p.fT){case a.ik.STDDEV:return Math.sqrt(this.mja());case a.ik.VARIANCE:return this.mja();default:return this.p.value}};
a.f.j("CubeDataValue.prototype.getValue",{jg:a.jk.prototype.jg});a.jk.prototype.Asa=function(){return this.p.CZa};a.f.j("CubeDataValue.prototype.getIndices",{Asa:a.jk.prototype.Asa});a.jk.prototype.Tsa=function(){return this.p.rows};a.f.j("CubeDataValue.prototype.getRows",{Tsa:a.jk.prototype.Tsa});a.jk.prototype.bsa=function(){return this.p.fT};a.f.j("CubeDataValue.prototype.getAggregation",{bsa:a.jk.prototype.bsa});a.jk.prototype.mja=function(){if(isNaN(this.p.Dx))return NaN;var a=this.p.rows.length;
return 1<a?this.p.Dx/(a-1):0};a.im=function(c,b){var d=b.row?b.row.start:0,e=b.row?b.row.count:0,f=b.column?b.column.start:0,g=b.column?b.column.count:0;a.C.Wt(d,null);a.C.Wt(e,null);a.C.Wt(f,null);a.C.Wt(g,null);this.GH=c;this.c5={row:d,column:f};this.gg=this.GH.lu([{start:f,count:g},{start:d,count:e}]);g=(d=Array.isArray(this.gg))?this.gg.length:1;0<g&&(e=d?this.gg[0].length:1);this.FFa={row:e,column:g}};o_("CubeCellSet",a.im,a);a.im.prototype.getData=function(a){var b=a.row;a=a.column;return(b=
Array.isArray(this.gg)?this.gg[a-this.c5.column][b-this.c5.row]:this.gg)?b.jg():null};a.f.j("CubeCellSet.prototype.getData",{getData:a.im.prototype.getData});a.im.prototype.getMetadata=function(a){var b={keys:{}};b.keys.row=this.fha(a,"row",2);b.keys.column=this.fha(a,"column",1);return b};a.f.j("CubeCellSet.prototype.getMetadata",{getMetadata:a.im.prototype.getMetadata});a.im.prototype.fha=function(c,b,d){var e=this.GH.gu();return void 0!==c[b]&&e.length>=d?(d=new a.Eo,d=e[a.qd.dfa(b)].OM(c[b],d),
d.Ux()[0].key):null};a.im.prototype.getStart=function(a){return this.c5[a]};a.f.j("CubeCellSet.prototype.getStart",{getStart:a.im.prototype.getStart});a.im.prototype.getCount=function(a){return this.FFa[a]};a.f.j("CubeCellSet.prototype.getCount",{getCount:a.im.prototype.getCount});a.im.prototype.getExtent=function(){return{row:{extent:1,more:{before:!1,after:!1}},column:{extent:1,more:{before:!1,after:!1}}}};a.f.j("CubeCellSet.prototype.getExtent",{getExtent:a.im.prototype.getExtent});a.nk=function(c,
b,d){this.Init();this.wv=d;this.eZ();a.nk.O.constructor.call(this,c,b)};o_("DataValueAttributeCube",a.nk,a);a.f.ya(a.nk,a.gc,"oj.DataValueAttributeCube");a.nk.prototype.Na=null;a.nk.prototype.Init=function(){a.nk.O.Init.call(this)};a.nk.prototype.mB=function(){a.nk.O.mB.call(this)};a.nk.prototype.mW=function(a){return this.vC[a]};a.nk.prototype.lW=function(c,b){return c.dataValue?new a.bl(null,b,!0):new a.bl(c.attribute,b,!1)};a.nk.prototype.kW=function(c){return new a.nk(null,c,this.wv)};a.nk.prototype.CB=
function(a,b,d,e,f,g){if(b>=a.Qr().length)return f;var k=a.Qr()[b];if(k.aF())return this.wQa(a,d,e,b,f);d=d.TV(e[k.attribute],null,k);g&&f.WW(d);return this.CB(a,b+1,d,e,f,g)};a.nk.prototype.wQa=function(a,b,d,e,f){for(var g=!0,k=0;k<this.wv.length;k++){var l=this.wv[k].attribute,m=this.wv[k].label;d.hasOwnProperty(l)&&(m=b.TV(l,m,a.Qr()[e]),f.SV(l,d[l]),this.CB(a,e+1,m,d,f,g),g=!1)}return f};a.nk.prototype.eZ=function(){this.vC=[];for(var c=0;c<this.wv.length;c++){var b=this.wv[c];this.vC[b.attribute]=
b.aggregation?{sE:b.aggregation,cd:b.callback}:{sE:a.ik.SUM,cd:b.callback}}};a.Eo=function(){this.J2=[];this.p=[]};a.Eo.prototype.WW=function(a){this.J2.push(a)};a.Eo.prototype.SV=function(a,b){this.p.push({name:a,value:b})};a.Eo.prototype.Ux=function(){var a=[],b=this.fEa();if(0===this.p.length)a.push({key:JSON.stringify(b)});else for(var d=0;d<this.p.length;d++){var e=g.extend(!0,{},b);e[this.p[d].name]=this.p[d].name;a.push({key:JSON.stringify(e),Gra:this.p[d].name,value:this.p[d].value})}return a};
a.Eo.prototype.fEa=function(){for(var a={},b=0;b<this.J2.length;b++){var d=this.J2[b].Cxa(),e;for(e in d)d.hasOwnProperty(e)&&(a[e]=d[e])}return a};a.zi=function(a,b,d,e){this.GH=b;this.jH=a;this.Il=void 0===d?0:d;this.DFa=void 0===e?this.jH.getExtent():Math.min(e,this.jH.getExtent()-d);this.yga=d+e-1};o_("CubeHeaderSet",a.zi,a);a.zi.prototype.getData=function(a,b){var d=this.At(a,b);return d?d.b7():null};a.f.j("CubeHeaderSet.prototype.getData",{getData:a.zi.prototype.getData});a.zi.prototype.getMetadata=
function(c,b){var d=new a.Eo,d=this.jH.m$(c,b,d);return(d=d.Ux())&&0<d.length?{key:d[0].key}:null};a.f.j("CubeHeaderSet.prototype.getMetadata",{getMetadata:a.zi.prototype.getMetadata});a.zi.prototype.getLevelCount=function(){return this.jH.Qr().length};a.f.j("CubeHeaderSet.prototype.getLevelCount",{getLevelCount:a.zi.prototype.getLevelCount});a.zi.prototype.getExtent=function(a,b){var d=this.At(a,b),e=d.getExtent(),d=d.getStart(),f=d+e-1,g=a<d+e-1;d<this.Il&&(e-=this.Il-d);f>this.yga&&(e-=f-this.yga);
return{extent:e,more:{before:a>d,after:g}}};a.f.j("CubeHeaderSet.prototype.getExtent",{getExtent:a.zi.prototype.getExtent});a.zi.prototype.getDepth=function(a,b){return this.At(a,b).getDepth()};a.f.j("CubeHeaderSet.prototype.getDepth",{getDepth:a.zi.prototype.getDepth});a.zi.prototype.getCount=function(){return this.DFa};a.f.j("CubeHeaderSet.prototype.getCount",{getCount:a.zi.prototype.getCount});a.zi.prototype.getStart=function(){return this.Il};a.f.j("CubeHeaderSet.prototype.getStart",{getStart:a.zi.prototype.getStart});
a.zi.prototype.At=function(a,b){void 0===b&&(b=0);var d=this.jH.lu(a);return d&&d.length>b?d[b]:null};a.qd=function(c){a.qd.O.constructor.call(this,c)};o_("CubeDataGridDataSource",a.qd,a);a.f.ya(a.qd,a.Lu,"oj.CubeDataGridDataSource");a.qd.prototype.ewa=function(a){this.data=a;this.Sga()};a.f.j("CubeDataGridDataSource.prototype.setCube",{ewa:a.qd.prototype.ewa});a.qd.prototype.setPage=function(a){this.data.setPage(a);this.Sga()};a.f.j("CubeDataGridDataSource.prototype.setPage",{setPage:a.qd.prototype.setPage});
a.qd.prototype.Sga=function(){this.handleEvent("change",{source:this,operation:"refresh"})};a.qd.prototype.getCount=function(a){return(a=this.rt(a))?a.getExtent():0};a.f.j("CubeDataGridDataSource.prototype.getCount",{getCount:a.qd.prototype.getCount});a.qd.prototype.getCountPrecision=function(){return"exact"};a.f.j("CubeDataGridDataSource.prototype.getCountPrecision",{getCountPrecision:a.qd.prototype.getCountPrecision});a.qd.prototype.fetchHeaders=function(c,b,d){var e=new a.zi(this.rt(c.axis),this.data,
c.start,c.count);b.success.call(d?d.success:void 0,e,c)};a.f.j("CubeDataGridDataSource.prototype.fetchHeaders",{fetchHeaders:a.qd.prototype.fetchHeaders});a.qd.prototype.fetchCells=function(c,b,d){for(var e={},f=0;f<c.length;f++){var g=void 0===c[f].start?0:c[f].start;if("row"===c[f].axis){var k=void 0===c[f].count?this.data.gu()[1].getExtent():c[f].count;e.row={start:g,count:k}}"column"===c[f].axis&&(k=void 0===c[f].count?this.data.gu()[0].getExtent():c[f].count,e.column={start:g,count:k})}e=new a.im(this.data,
e);b.success.call(d?d.success:void 0,e,c)};a.f.j("CubeDataGridDataSource.prototype.fetchCells",{fetchCells:a.qd.prototype.fetchCells});a.qd.prototype.keys=function(a){var b={},b=this.rb(a,"row",b),b=this.rb(a,"column",b);return Promise.resolve(b)};a.f.j("CubeDataGridDataSource.prototype.keys",{keys:a.qd.prototype.keys});a.qd.prototype.rb=function(c,b,d){var e=this.rt(b);c=c[b];var f=new a.Eo,f=e?e.OM(c,f):"";d[b]=f.Ux()[0].key;return d};a.qd.prototype.indexes=function(a){var b={},b=this.Fd(a,"row",
b),b=this.Fd(a,"column",b);return Promise.resolve(b)};a.f.j("CubeDataGridDataSource.prototype.indexes",{indexes:a.qd.prototype.indexes});a.qd.prototype.Fd=function(a,b,d){d[b]=this.rt(b).dn(a[b]);return d};a.qd.prototype.sort=function(){a.C.Ze()};a.f.j("CubeDataGridDataSource.prototype.sort",{sort:a.qd.prototype.sort});a.qd.prototype.move=function(){a.C.Ze()};a.f.j("CubeDataGridDataSource.prototype.move",{move:a.qd.prototype.move});a.qd.prototype.moveOK=function(){return"invalid"};a.f.j("CubeDataGridDataSource.prototype.moveOK",
{moveOK:a.qd.prototype.moveOK});a.qd.prototype.getCapability=function(a){switch(a){case "sort":return"none";case "move":return"none"}return null};a.f.j("CubeDataGridDataSource.prototype.getCapability",{getCapability:a.qd.prototype.getCapability});a.qd.dfa=function(a){return"row"===a?1:0};a.qd.prototype.rt=function(c){c=a.qd.dfa(c);var b=this.data.gu();return b.length>c?b[c]:null};a.mk=function(c,b,d){this.Init();this.wv=d;this.yVa=d.valueAttr;this.KOa=d.labelAttr;var e=d.defaultAggregation;this.Kfa=
e?a.mk.UIa(e):{sE:a.ik.SUM};this.MY=d.aggregation;this.eZ();a.mk.O.constructor.call(this,c,b)};o_("DataColumnCube",a.mk,a);a.f.ya(a.mk,a.gc,"oj.DataColumnCube");a.mk.prototype.Init=function(){a.mk.O.Init.call(this)};a.mk.prototype.mB=function(){a.mk.O.mB.call(this)};a.mk.prototype.mW=function(a){return this.vC[a]?this.vC[a]:this.Kfa};a.mk.prototype.kW=function(c){return new a.mk(null,c,this.wv)};a.mk.prototype.lW=function(c,b){return c.attribute===this.KOa?new a.bl(c.attribute,b,!0):new a.bl(c.attribute,
b,!1)};a.mk.prototype.CB=function(a,b,d,e,f,g){if(b>=a.Qr().length)return f;var k=a.Qr()[b],l=e[k.attribute];d=d.TV(l,null,k);k.aF()?f.SV(l,e[this.yVa]):f.WW(d);return this.CB(a,b+1,d,e,f,g)};a.mk.UIa=function(c){return a.Xa.Bd(c)?{sE:c}:{sE:c.aggregation,cd:c.callback}};a.mk.prototype.eZ=function(){this.vC=[];if(this.MY)for(var a=0;a<this.MY.length;a++){var b=this.MY[a],d=b.aggregation;this.vC[b.value]=d?{sE:d,cd:b.callback}:this.Kfa}};a.bl=function(a,b,d){this.Init();this.attribute=a;this.Kda=b;
this.axis=b.axis;this.Gfa=d};o_("CubeLevel",a.bl,a);a.f.ya(a.bl,a.f,"oj.CubeLevel");a.bl.prototype.Init=function(){a.bl.O.Init.call(this)};a.bl.prototype.jg=function(a){if(a=this.Kda.lu(a))for(var b=0;b<a.length;b++)if(a[b].xA()===this)return a[b];return null};a.f.j("CubeLevel.prototype.getValue",{jg:a.bl.prototype.jg});a.bl.prototype.aF=function(){return this.Gfa};a.f.j("CubeLevel.prototype.isDataValue",{aF:a.bl.prototype.aF});a.bl.prototype.Gfa=!1;a.bl.prototype.Kda=null});