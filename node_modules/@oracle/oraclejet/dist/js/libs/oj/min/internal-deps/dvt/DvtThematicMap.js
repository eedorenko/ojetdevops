/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(['./DvtToolkit', './DvtPanZoomCanvas'], function(dvt) {
  // Internal use only.  All APIs and functionality are subject to change at any time.

var ga;function ka(a,F){0==a.indexOf("dvt.")&&(a=a.substring(4));var D=a.split("."),E=eval("dvt");D[0]in E||!E.execScript||E.execScript("var "+D[0]);for(var v;D.length&&(v=D.shift());)D.length||void 0===F?E=E[v]?E[v]:E[v]={}:E[v]=F}Math.floor(2147483648*Math.random()).toString(36);
(function(a){function F(a){this.Init(a)}function D(a,c,d){this.Init(a,c,d)}function E(a,c){this.Init(a,c)}function v(a,c,d,e,f){this.Init(a,c,d,e,f)}function x(a,c,d,e,f){this.Init(a,c,d,e,f)}function f(a,c,d){this.Init(a,c,d)}function c(a,c,d,e,f,h){this.Init(a,c,d,e,f,h)}function p(a,c,d,e,f,h,m){this.Init(a,c,d,e,f,h,m)}function e(a,c,d,e,f){this.Init(a,c,d,e,f)}function h(a,c,d,e,f,h){this.Init(a,c,d,e,f,h)}function t(a,c,d,e,f,h){this.Init(a,c,d,e,f,h)}function u(a,c){this.Init(a,c)}function H(a,
c,d){this.Init(a,c,d)}function y(a,c){this.Init(a,c)}function m(a){this.Ua=a}function z(){this.Init({fusion:z.DEFAULT,alta:z.Qg})}a.kc=function(a,c,d){this.Init(a,c,d)};a.f.v(a.kc,a.Ed);a.kc.Pxa=6;a.kc.prototype.Init=function(c,d,e){a.kc.C.Init.call(this,c,d,e);this.zn=[];this.$Ba();this.Aja=this.ws=!1;this.Ff=new z;this.X$=this.Daa=this.Pma=!1;this.RZa={};this.r9=!1;this.XBa();this.u.Xb(this,this)};a.kc.prototype.$Ba=function(){this.mBa=new a.ca(this.a);this.L9=new a.ca(this.a);this.WJ=new a.ca(this.a);
this.SG=new a.ca(this.a);this.YT=new a.ca(this.a)};a.kc.newInstance=function(c,d,e){return new a.kc(c,d,e)};a.kc.prototype.me=function(c){a.kc.C.me.call(this,c);a.m.Il()||(this.J.animationOnDisplay="none",this.J.animationOnMapChange="none");(new F(this)).parse(this.J)};a.kc.prototype.z8a=function(a){this.P2=a};a.kc.prototype.rIa=function(){var c=this.J.maxZoom;return this.Daa?isNaN(c)?a.kc.Pxa:Math.max(c,1):1};a.kc.prototype.rL=function(){return"fixed"==this.J.markerZoomBehavior};a.kc.prototype.qGa=
function(a){this.zn.push(a)};a.kc.prototype.psa=function(a){for(var c=0;c<this.zn.length;c++)if(this.zn[c].AM==a)return this.zn[c]};a.kc.prototype.c8a=function(a){this.Aja=this.nz&&this.nz!=a;this.nz=a};a.kc.prototype.JV=function(a){this.Pw=parseFloat(a)};a.kc.prototype.Kb=function(){return this.Pw};a.kc.prototype.Xra=function(){var a=this.J.tooltipDisplay;switch(a){case "shortDesc":return"shortDescOnly";case "none":return a;default:return"auto"}};a.kc.prototype.V7a=function(a){this.Pma=a};a.kc.prototype.c8=
function(){a.kc.C.c8.call(this);!this.kz&&this.DYa&&(this.FEa=this.J.mapProvider,this.zn=[],this.X$=this.Daa=!0,this.hU=this.ke,this.$Ba(),this.u.ln(this),this.XBa(),this.r9=!1,this.u.ed(),this.u.Xb(this,this))};a.kc.prototype.XBa=function(){this.u=new D(this.a,this.dispatchEvent,this);this.u.Lf(this);a.m.eb()?this.xv=null:(this.xv=new E(this,this.u),this.u.Zr(this.xv))};a.kc.prototype.Gm=function(){a.kc.C.Gm.call(this);var c=new a.ca(this.a),d=new a.ca(this.a);this.ke=this.pc;this.ke.B(c);this.ke.$c.B(d);
this.iaa(c,d);if(this.Rw){this.Vq(!0);d=new a.U(0,0,this.getWidth(),this.getHeight());if(null==this.nz){var e=this.J.mapProvider;this.FEa!==e&&(this.Aja=!0,this.FEa=e)}if(this.ws||this.hU)this.Aja&&!this.kz&&(e=this.J.animationOnMapChange,e="auto"===e?"alphaFade":null)&&(this.Cb=a.Sa.QK(this.a,e,this.hU,this.ke,d,this.Pw),this.B(this.hU));else if(e=this.J.animationOnDisplay,e="auto"===e?"alphaFade":null)this.Cb=a.Sa.YD(this.a,e,this.ke,d,this.Pw);this.Cb?(this.u.ed(),this.u.ln(this),this.r9=!0,this.Cb.pg(this.uw,
this),this.Cb.play()):this.uw();this.DYa=c;this.a.DL([this]);this.ws=!0}};a.kc.prototype.qUa=function(){var a=this.ke.TH,c=this.Rw.v4(),d=this.ke.ue();return Math.min((d.b-2*a)/c.b,(d.i-2*a)/c.i)};a.kc.prototype.iaa=function(a,c){c.B(this.mBa);c.B(this.L9);this.rL()?a.B(this.WJ):c.B(this.WJ);a.B(this.SG);a.B(this.YT);var d=this.ke.$c.La();this.yja=!1;for(var e=0;e<this.zn.length;e++){var f=this.zn[e];if(!this.yja&&f instanceof x||!(f instanceof x))f.ia(d),!this.yja&&f instanceof x&&(this.yja=!0,this.Rw=
f)}this.Rw&&(d=this.Rw.YO,this.YO!=d&&(this.YO=d),this.KFa(),this.ke.Tz(null),this.ke.Sz(null),this.ke.J6(!0),this.ke.RV(!0),this.ke.mJ(null,this.Rw.v4()),this.gGa(),this.ke.J6(this.Daa),this.ke.RV(this.X$))};a.kc.prototype.KFa=function(){if(this.xv){var a=this.E4();0==a.length&&(a=this.dR());0==a.length&&(a=this.F4());this.u.S7a(a[0])}};a.kc.prototype.c9a=function(a,c,d){this.ws=!1;this.Vq(!0);(new F(this)).b8([a],this.psa(c),this.Rw.AM,d);this.ws=!0;this.KFa();this.a.DL([this]);this.gGa()};a.kc.prototype.lFa=
function(){this.Bj||this.nl();this.Cb=null;this.Bj=!1};a.kc.prototype.gGa=function(){var a=this.qUa();this.ke.Tz(a);this.ke.Sz(a*this.rIa())};a.kc.prototype.Pya=function(){this.Rw.YO&&this.ke.mJ(null,this.Rw.v4());this.Pma&&this.kGa();this.lFa()};a.kc.prototype.ZFa=function(c){var d=new a.Da;d.translate(c.zc,c.tc);this.rL()&&this.WJ.Xa(d);this.SG.Xa(d);this.YT.Xa(d)};a.kc.prototype.HUa=function(c){var d=this.ke.TH,e=this.ke.ue(),d=new a.U(d,d,e.b-2*d,e.i-2*d),f=this.Rw.v4(),h=f.x*c,e=f.y*c,m=f.b*
c;c*=f.i;m>d.b?(this.ke.B6(d.x+d.sab-(h+m)),this.ke.z6(d.x-h)):(h=(d.x+d.b)/2-(h+m/2),this.ke.B6(h),this.ke.z6(h));c>d.i?(this.ke.C6(d.y+d.i-(e+c)),this.ke.A6(d.y-e)):(c=(d.y+d.i)/2-(e+c/2),this.ke.C6(c),this.ke.A6(c))};a.kc.prototype.bGa=function(c,d){var e=c.da;if(e){var f=this.ke.$c,h=e.Y3(f,f.La);d&&(this.hCa=f.La(),e.aa(a.L.ji,this,this.jWa,this.WZa,h));f=new a.Da(1,0,0,1,h.zc,h.tc);this.rL()&&e.aa(a.L.ji,this.WJ,this.WJ.La,this.WJ.Xa,f);e.aa(a.L.ji,this.SG,this.SG.La,this.SG.Xa,f);e.aa(a.L.ji,
this.YT,this.YT.La,this.YT.Xa,f)}};a.kc.prototype.Co=function(c){switch(c.Dn){case a.vd.s8:this.X$&&this.HUa(c.fU);break;case a.vd.Tga:case a.vd.VM:this.bGa(c,!0);break;case a.vd.KY:var d=c.fU;if(null!=d){var e=this.ke.$c.La();c.da=null;this.dispatchEvent(a.la.Bca(e.zc,e.tc,d));this.ZFa(e);for(d=0;d<this.zn.length;d++)this.zn[d].Co(c,e)}break;case a.vd.Uga:this.kHa();break;case a.vd.Wga:this.dispatchEvent(a.la.Bca())}};a.kc.prototype.PS=function(c){var d=c.Dn;if(d==a.Fi.VM||d==a.Fi.Oga)this.bGa(c,
!1);else if(d==a.Fi.Nga&&null!=c.CEa)for(d=this.ke.$c.La(),c.da=null,this.dispatchEvent(a.la.Bca(d.zc,d.tc,this.ke.Wo())),this.ZFa(d),c=0;c<this.zn.length;c++)this.zn[c].PS(d)};a.kc.prototype.iya=function(){return a.Ed.Gxa};a.kc.prototype.hya=function(){return null};a.kc.prototype.H8a=function(a){this.Daa=a};a.kc.prototype.n8a=function(a){this.X$=a};a.kc.prototype.kGa=function(){var c=this.L9.V(),d=this.WJ.V();if(this.rL()){var e=this.ke.$c.La();d.b/=e.kd;d.i/=e.je;d.x/=e.kd;d.y/=e.je}c=c.Hn(d);this.Vq(!0);
var f;this.ke.KA||(f=this.ke.iy(),this.ke.Sz(f*a.kc.Pxa));var h;a.m.Il()&&(h=new a.L(this.a,.3));0<c.b&&0<c.i?this.ke.mJ(h,c):this.ke.mJ(h,this.Rw.v4());h&&h.play();f&&this.ke.Sz(f)};a.kc.prototype.rQ=function(c){var d=new a.L(this.a,.3);this.ke.mJ(d,c);d.play()};a.kc.prototype.t1a=function(a){a||(a=this.lGa);a||(a=this.l_);this.rQ(a.V())};a.kc.prototype.kHa=function(){if(this.k_){var a=this.psa(this.Vja).ro(this.k_);if(a&&(a=a.Fd)){for(var a=a.getSelection(),c=0;c<a.length;c++)a[c]=a[c].Ga();if(0<
a.length){for(var c=a[0].V(),d=1;d<a.length;d++)c=c.Hn(a[d].V());this.rQ(c)}}}};a.kc.prototype.E4=function(){var a=[];if(this.Rw){var c=this.Rw.Kq,d;for(d in c)a=a.concat(c[d].s3a())}return a};a.kc.prototype.dR=function(){for(var a=[],c=0;c<this.zn.length;c++){var d=this.zn[c].Kq,e;for(e in d)a=a.concat(d[e].gP)}return a};a.kc.prototype.F4=function(){for(var a=[],c=0;c<this.zn.length;c++){var d=this.zn[c].Kq,e;for(e in d)a=a.concat(d[e].fP)}return a};a.kc.prototype.WZa=function(a){this.hCa=a;if(this.rL()){for(var c=
this.dR(),d=0;d<c.length;d++)c[d].Co(a);c=this.SG.Vc();for(d=0;d<c;d++)for(var e=this.SG.dc(d),f=e.Vc(),h=0;h<f;h++){var m=e.dc(h);m instanceof t&&m.update(a)}}};a.kc.prototype.jWa=function(){return this.hCa};a.kc.prototype.z7a=function(a,c,d){this.Vja=c;this.k_=a;this.l_=d};a.kc.prototype.dispatchEvent=function(c){"selection"==c.type&&this.jXa(c);a.kc.C.dispatchEvent.call(this,c)};a.kc.prototype.jXa=function(c){this.k_?(this.SZa=c.selection,this.RZa[this.Vja]=this.psa(this.Vja).ro(this.k_).Q3a(this.SZa),
c.clientId=this.k_,!this.l_||this.l_ instanceof a.W||this.l_ instanceof a.xc||(this.lGa=this.l_)):this.lGa=null};a.kc.prototype.Ec=function(){for(var c=this.zn,d=0;d<c.length;d++)c[d].Ec();a.kc.C.Ec.call(this)};a.kc.prototype.uw=function(){this.hU&&(this.removeChild(this.hU),this.hU=null);this.lFa();this.Pma&&this.kGa();this.J.highlightedCategories&&0<this.J.highlightedCategories.length&&this.Zd(this.J.highlightedCategories);this.r9&&(this.u.Lf(this),this.r9=!1)};a.kc.prototype.Bi=function(){this.Lc||
(this.Lc=new m(this));return this.Lc};a.kc.prototype.vk=function(){return a.I.Ja(a.I.pa,"THEMATIC_MAP")};a.kc.prototype.Zd=function(c){this.J.highlightedCategories=a.cb.clone(c);a.sd.Zd(c,this.E4().concat(this.dR()).concat(this.F4()),"any"==this.J.highlightMatch)};a.kc.prototype.zy=function(a,c){var d=this.Cla(a);d&&d.zy(c)};a.kc.prototype.OI=function(a,c){var d=this.Cla(a);d&&d.OI(c)};a.kc.prototype.vC=function(a,c){var d=this.Cla(a);d&&d.vC(c)};a.kc.prototype.Cla=function(a){for(var c=0;c<this.zn.length;c++){var d=
this.zn[c].Kq,e;for(e in d)for(var f=d[e].gP,h=0;h<f.length;h++)if(f[h].getId()===a)return f[h]}return null};a.f.v(z,a.ka);z.DEFAULT={animationDuration:500,animationOnDisplay:"none",animationOnMapChange:"none",highlightMatch:"all",hoverBehavior:"none",initialZooming:"none",markerZoomBehavior:"fixed",panning:"none",tooltipDisplay:"auto",touchResponse:"auto",visualEffects:"none",zooming:"none",styleDefaults:{skin:"alta",_areaStyle:{backgroundColor:"#B8CDEC",borderColor:"#FFFFFF"},hoverBehaviorDelay:200,
dataAreaDefaults:{borderColor:"#FFFFFF",hoverColor:"#FFFFFF",opacity:1,selectedInnerColor:"#FFFFFF",selectedOuterColor:"#000000"},dataMarkerDefaults:{borderColor:"#FFFFFF",borderStyle:"solid",borderWidth:.5,color:"#000000",height:8,labelStyle:"font-family:Tahoma;font-size:13pt;color:#000000",opacity:.4,scaleX:1,scaleY:1,shape:"circle",width:8},linkDefaults:{color:"#9bb2c7",_hoverColor:"#FFFFFF",_selectedColor:"#000000",width:2},labelStyle:"font-family:Tahoma;font-size:11pt;"},resources:{images:{},
translations:{}}};z.Qg={styleDefaults:{_areaStyle:{backgroundColor:"#DDDDDD",borderColor:"#FFFFFF"},dataMarkerDefaults:{color:"rgb(51,51,51)",labelStyle:a.ka.ep+"color:#333333",opacity:1},labelStyle:a.ka.ep}};z.JMa={animationOnLayerChange:"none",labelDisplay:"auto",labelType:"short"};z.LMa={animationOnDataChange:"none",selectionMode:"none"};z.prototype.v0a=function(c,d){var e=z.JMa;d&&(e=a.cb.ae({labelDisplay:"off"},e));return a.cb.ae(c,e)};z.prototype.y0a=function(c){return a.cb.ae(c,z.LMa)};z.Ah=
function(a,c){return Math.ceil(c*a.Y$a())};z.prototype.bL=function(){return{mapProvider:!0,areaLayers:{areaDataLayer:{areas:!0,markers:!0,links:!0}},pointDataLayers:{markers:!0,links:!0},areas:!0,markers:!0,links:!0}};a.kc.prototype.b$=function(){for(var a=0;a<this.zn.length;a++){var c=this.zn[a].Kq,d;for(d in c){var e=c[d].Ho;if(e&&e.qv)return e}}return null};a.kc.prototype.jn=function(a,c,d){return(a=this.b$())?a.jn(d):!1};a.kc.prototype.Fl=function(a,c){var d=this.b$();return d?d.Fl(a,c):null};
a.kc.prototype.ey=function(a,c){var d=this.b$();return d?d.ey(a,c):null};a.kc.prototype.aC=function(a,c){var d=this.b$();return d?d.aC(a,c):null};a.f.v(function(a){this.Rw=a},a.bM);a.f.v(m,a.Lc);m.prototype.Rl=function(a){return(a=this.Ua.Nb().Za(a))&&(a instanceof e||a instanceof h)?this.ZWa(a):null};m.prototype.Rh=function(c){if(c==a.Lc.Ew)return this.eA(this.Ua);var d=c.indexOf(":"),e=c.indexOf("[");return 0<d&&0<e?this.wWa(c.substring(0,d),c.substring(d+1,e),parseInt(c.substring(e+1,c.length-
1))):null};m.prototype.getData=function(a,c,d){return(a=this.YCa(a,c,d))?(c={},c.color=a.pi(),c.tooltip=a.Dh(),d=a.ag(),c.label=d?d.Wc():null,c.selected=a.hb(),c):null};m.prototype.wWa=function(a,c,d){return(a=this.YCa(a,c,d))?a.Ga().ja():null};m.prototype.ZWa=function(c){for(var d=c.Ga(),e=this.Ua.zn,f=0;f<e.length;f++){var h=e[f].Kq,m;for(m in h)if(d instanceof a.Ib){for(var p=h[m].Gt,t=0;t<p.length;t++)if(p[t]===c)return this.c$(m)+":area["+t+"]";p=h[m].fP;for(t=0;t<p.length;t++)if(p[t]===c)return this.c$(m)+
":link["+t+"]"}else if(d instanceof a.W||d instanceof a.xc)for(p=h[m].gP,t=0;t<p.length;t++)if(p[t]===c)return this.c$(m)+":marker["+t+"]"}return null};m.prototype.YCa=function(a,c,d){for(var e=this.Ua.zn,f=0;f<e.length;f++){var h=e[f].Kq,m;for(m in h)if(this.c$(m)==a){if("area"==c)return h[m].K9[d];if("marker"==c)return h[m].R9[d];if("link"==c)return h[m].P9[d]}}return null};m.prototype.c$=function(a){var c=a.lastIndexOf(":");return 0<c?a.substring(c+1):a};a.f.v(y,a.Ib);y.oM=2;y.g8=1;y.h8=4;y.f8=
6;y.prototype.Init=function(a,c){y.C.Init.call(this,a);this.Zoom=1;this.bo=c};y.prototype.gc=function(a){this.fk!=a&&(a&&(this.ge?(this.sJ(),this.ol=this.PF(this.ol,y.oM),this.yk=this.PF(this.yk,y.f8)):(this.jp=this.PF(this.jp,y.g8),this.un=this.PF(this.un,y.h8))),y.C.gc.call(this,a))};y.prototype.Rc=function(){this.hb()?(this.sJ(),this.ol=this.PF(this.ol,y.oM),this.yk=this.PF(this.yk,y.f8)):this.eq=this.PF(this.eq,y.oM);y.C.Rc.call(this)};y.prototype.sJ=function(){this.ol||(this.ol=this.eq.clone(),
this.ol.kb(y.oM),this.bo&&this.ol.We(!0));this.yk||(this.yk=this.un.clone(),this.yk.kb(y.f8),this.bo&&this.yk.We(!0))};y.prototype.Cc=function(){this.hb()&&(this.jp=this.PF(this.jp,y.g8),this.un=this.PF(this.un,y.h8));y.C.Cc.call(this)};y.prototype.ap=function(a,c){y.C.ap.call(this,a,c);this.bo&&(this.eq&&this.eq.We(!0),this.fA&&this.fA.We(!0));return this};y.prototype.Fq=function(a,c){y.C.Fq.call(this,a,c);this.bo&&(this.jp&&this.jp.We(!0),this.un&&this.un.We(!0));return this};y.prototype.cs=function(a,
c){y.C.cs.call(this,a,c);this.bo&&(this.ol&&this.ol.We(!0),this.yk&&this.yk.We(!0));return this};y.prototype.GU=function(a,c){if(!this.bo){var d=a.ve();d&&(d=d.clone(),d.kb(c/this.Zoom),a.Ha(d))}};y.prototype.PF=function(a,c){if(!this.bo){var d=a.clone();d.kb(c/this.Zoom);return d}return a};y.prototype.L4a=function(a){this.Zoom=a.kd;this.hb()?this.ge?(this.GU(this.Qf,y.oM),this.GU(this,y.f8)):(this.GU(this.Qf,y.g8),this.GU(this,y.h8)):this.ge?this.GU(this.Qf,y.oM):this.GU(this,1)};a.f.v(H,a.ca);H.prototype.Init=
function(c,d,e){H.C.Init.call(this,c);this.oD=d;d instanceof a.ec?(this.Ya=d.getWidth(),this.nb=d.getHeight(),this.B(d)):(this.ja().appendChild(d),d=a.uk.lI(c,this),this.Ya=d.b,this.nb=d.i);this.Zy=new a.Rect(c,0,0,this.Ya,this.nb);this.Zy.Yb();c=new a.ma(e.selectedInnerColor,1,2);d=new a.ma("rgb(235, 236, 237)",1,2);var f=new a.ma(e.selectedInnerColor,1,1),h=new a.ma(e.selectedOuterColor,1,2),m=new a.ma(e.selectedInnerColor,1,2);e=new a.ma(e.selectedOuterColor,1,2);this.Zy.ap(c,d).Fq(f,h).cs(m,e);
this.Zy.G6(a.Pa.UX);this.Ad(this.Zy,0)};H.prototype.Od=function(c,d){a.m.eb()?this.Zy.Od(c,d):H.C.Od.call(this,c,d)};H.prototype.zg=function(c){a.m.eb()?this.Zy.zg(c):H.C.zg.call(this,c)};H.prototype.getWidth=function(){return this.Ya};H.prototype.getHeight=function(){return this.nb};H.prototype.Kn=function(a){this.Zy.Kn(a)};H.prototype.gb=function(){return this.Zy.gb()};H.prototype.hb=function(){return this.Zy.hb()};H.prototype.gc=function(a){this.Zy.gc(a)};H.prototype.Rc=function(){this.Zy.Rc()};
H.prototype.Cc=function(){this.Zy.Cc()};H.prototype.f9a=function(c){this.oD!==c&&(this.oD&&(this.oD instanceof a.ec?this.removeChild(this.oD):this.ja().removeChild(this.oD)),c instanceof a.ec?this.B(c):this.ja().appendChild(c),this.oD=c)};H.prototype.JQ=function(c){this.oD instanceof a.ec&&this.oD.JQ(c)};var w;this?this.DvtBaseMapManager?w=this.DvtBaseMapManager:(this.DvtBaseMapManager=w={},w._UNPROCESSED_MAPS=[[],[],[]],w._UNPROCESSED_PARENT_UPDATES=[[]]):window.DvtBaseMapManager?w=window.DvtBaseMapManager:
(w={},window.DvtBaseMapManager=w,w._UNPROCESSED_MAPS=[[],[],[]],w._UNPROCESSED_PARENT_UPDATES=[[]]);a.f.v(w,a.f,"DvtBaseMapManager");w.kN=0;w.XC=1;w.Cza=2;w.qha=3;w.bZ=4;w.sN="__index";w.ts={};w.O1a=function(c,d){w.BD();var e=w.ts[c][d];return e&&(e=e[w.bZ])?new a.U(e[0],e[1],e[2],e[3]):null};w.F1a=function(a,c){w.BD();var d=w.ts[a][c];return d?d[w.qha]:null};w.E1a=function(a,c){var d=[],e=w.qHa(a,c),f;for(f in e)d.push(f);return d};w.G1a=function(a,c){w.BD();var d=w.ts[a][c];return d?d[w.kN]:null};
w.$$a=function(a,c,d){w.BD();a=w.ts[a][c];var e;a&&(e=a[w.kN]);return e&&e[d]?e[d][1]:null};w.c2a=function(c,d){w.BD();var e=w.ts[c];return e&&(e=e.cities)&&(e=e[w.XC][d])?new a.P(e[0],e[1]):null};w.d2a=function(a,c){w.BD();var d=w.ts[a];return d&&(d=d.cities)&&(d=d[w.kN][c])?d[1]:null};w.C1a=function(c,d,e){w.BD();return(c=w.ts[c])&&(d=c[d])&&(d=d[w.qha])&&d[e]?a.U.create(d[e][0]).Yd():null};w.qHa=function(a,c,d,e,f){w.BD();c=w.ts[a][c];a=c[w.XC];return(c=c[w.bZ])?w.g_a(a,c[2],c[3],d,e,f):a};w.OIa=
function(a,c,d){w.BD();return(a=w.ts[a][c])?a[w.XC][d]:null};w.B6a=function(a,c,d,e,f,h,m,p){var t=w.ts[a];t||(t={},t[w.sN]=[],w.ts[a]=t);a=t[c];a||(a={},t[c]=a,null!=m&&(t[w.sN][m]=c));a[w.kN]=d;a[w.XC]=e;a[w.Cza]=f;a[w.qha]=h;a[w.bZ]=p;a[w.sN]=m};w.E6a=function(a,c,d){var e=w.ts[a];e||(e={},w.ts[a]=e);a=e[c];a||(a={},e[c]=a);(a=e[c])&&(a[w.kN]=d)};w.e9a=function(a,c,d){if(a=w.ts[a])if(c=a[c])for(var e in d)c[w.kN][e]=d[e]};w.BD=function(){var a,c,d=w._UNPROCESSED_MAPS;if(d){for(a=0;a<d[0].length;a++)c=
d[0][a],w.B6a(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7]);for(a=0;a<d[1].length;a++)c=d[1][a],w.E6a(c[0],c[1],c[2]);for(a=0;a<d[2].length;a++)c=d[2][a],w.e9a(c[0],c[1],c[2]);w._UNPROCESSED_MAPS=[[],[],[]]}if(d=w._UNPROCESSED_PARENT_UPDATES){for(a=0;a<d[0].length;a++){c=d[0][a];var e=c[1],f=c[2],h=w.ts[c[0]],m;if(h){if(e=h[e])for(e[w.Cza]=c[3],m=e[w.bZ],a=e[w.sN],e=h[w.sN],e.splice(a,0,f),h[f][w.sN]=a,a+=1;a<e.length;a++)(f=h[e[a]])&&f[w.sN]++;(e=h[c[2]])&&(e[w.bZ]=m)}}w._UNPROCESSED_PARENT_UPDATES=[[]]}};
w.g_a=function(c,d,e,f,h,m){if(0<m){d=1/(Math.min(f/d,h/e)*m);if(1>=d)return c;e=[];if(c)for(var p in c)f=c[p],isNaN(f)&&(f=a.G.GK(c[p])),e[p]=a.G.wLa(f,d);return e}return c};w.e3a=function(a,c){w.BD();var d=w.ts[a][c],e={};if(d){var d=d[w.kN],f;for(f in d)e[f]=d[f][1];if("cities"!==c&&!d)for(f=w.E1a(a,c),d=0;d<f.length;d++)e[f[d]]=null}return e};a.f.v(u,a.f);u.prototype.Init=function(a,c){this.af=a;this.cO=c};u.prototype.rd=function(){return this.cO};u.prototype.Xd=function(){return[this.af]};a.f.v(t,
a.M);t.prototype.Init=function(c,d,e,f,h,m){t.C.Init.call(this,c,d,0,0);this.bo=m;this.iD=[];this.dd(!1);this.$f();this.ug();this.sl=null;this.qx=f;this.wP=h;if(e&&(this.iD.push(a.U.create(e[0])),1<e.length))for(this.zna=[],d=1;d<e.length;d++)f=e[d],this.iD.push(a.U.create(f[0])),f=new a.Do(c,f[1]),f.Xc(!0),h=new a.ma("#000000"),this.bo&&h.We(!0),f.Ha(h),this.zna.push(f)};t.prototype.Q_a=function(a){this.iD.push(a)};t.prototype.N4a=function(){return 0<this.iD.length};t.prototype.update=function(c){c=
c.kd;for(var d=-1,e=this.V(),f=!1,h=0;h<this.iD.length;h++){var m=this.iD[h].b*c;if(e.i<=this.iD[h].i*c)if(e.b<=m){d=h;break}else if(this.getParent()||(f=!0,this.wP.B(this)),this.V().b<=m){d=h;break}}-1==d&&"on"==this.qx&&(d=this.iD.length-1);this.uka!=d?(-1==d?this.reset():(this.getParent()||this.wP.B(this),e=this.iD[d].Yd(),this.Wr(e),this.zna&&(this.wP.removeChild(this.lz),this.lz=null,0<d?(this.lz=this.zna[d-1],this.wP.B(this.lz),f=this.Bd(),f.Na(a.j.od,"#000000"),this.ub(f),f=this.iD[d],h=this.lz.Df(),
m=h.length,f.x>h[m-2]?(this.Oh(),this.ug(),this.Wr(new a.P(f.x,e.y))):f.y>h[m-1]?(this.Mk(),this.$f(),this.Wr(new a.P(e.x,f.y))):f.x+f.b<h[m-2]?(this.bh(),this.ug(),this.Wr(new a.P(f.x+f.b,e.y))):f.y+f.i<h[m-1]&&(this.km(),this.$f(),this.Wr(new a.P(e.x,f.y+f.i)))):(this.$f(),this.ug(),f=this.Bd(),f.Na(a.j.od,this.jEa),this.ub(f)))),this.uka=d):-1==d&&f&&this.wP.removeChild(this);-1!=this.uka&&(d=new a.Da,d.translate(c*this.sl.x-this.sl.x,c*this.sl.y-this.sl.y),this.Xa(d),this.lz&&(this.lz.Xa(new a.Da(c,
0,0,c)),this.bo||(d=this.lz.ve().clone(),d.kb(1/c),this.lz.Ha(d))))};t.prototype.Wr=function(a){this.sl=a;this.na(a.x);this.Qa(a.y)};t.prototype.Yd=function(){return this.sl};t.prototype.ub=function(c){t.C.ub.call(this,c);this.jEa||(this.jEa=c.N(a.j.od))};t.prototype.reset=function(){this.wP.removeChild(this);this.uka=-1;this.lz&&(this.wP.removeChild(this.lz),this.lz=null)};a.f.v(h,a.f,"DvtMapObjPeer");h.ida=0;h.Z6=1;h.jda=2;h.prototype.Init=function(a,c,d,e,f,h){this.sb=a;this.fr=c;this.R=d;this.Tc=
this.yl=this.wi=!1;this.R.cS&&this.R.cS(a.color);this.Md=e;this.sl=f;this.Zoom=1;this.Fa=c.Ua;this.KXa=h;this.sb.categories||this.Md&&(this.sb.categories=[this.Md.Wc()]);"auto"==this.Fa.Xra()&&h&&(this.sb.shortDesc=a.shortDesc?h+": "+a.shortDesc:h);this.R&&(c=a.svgClassName||a.className,this.R.Na(a.svgStyle||a.style).sc(c),this.R.zg("img"));this.qs();this.Kn(this.gb())};h.prototype.getId=function(){return this.sb.id};h.prototype.aE=function(){return this.sb.location};h.prototype.Yd=function(){return this.sl};
h.prototype.IFa=function(a){this.sl=a;this.DZ()};h.prototype.Ga=function(){return this.R};h.prototype.ag=function(){return this.Md};h.prototype.ro=function(){return this.fr};h.prototype.oh=function(){return this.sb.action};h.prototype.Ci=function(a){this.R.Ci(a);this.Md&&this.Md.Ci(a)};h.prototype.Dh=function(){return this.sb.shortDesc};h.prototype.L6a=function(){this.Md=null};h.prototype.ue=function(){return this.R.getWidth?this.R.getWidth()*this.R.getHeight():0};h.prototype.rd=function(){var a=
this.sb.categories;return a?a:[]};h.prototype.bf=function(){if("none"!=this.Fa.Xra()){var a=this.Fa.A()._tooltip;return a?this.Fa.a.cf().Rs(a.renderer,this.zj()):this.Dh()}return null};h.prototype.zj=function(){return{color:this.pi(),component:this.Fa.A()._widgetConstructor,data:this.sb,id:this.getId(),label:this.Md?this.Md.Wc():null,location:this.aE(),locationName:this.KXa,tooltip:this.Dh(),x:this.sb.x,y:this.sb.y}};h.prototype.pi=function(){return this.sb.color?this.sb.color:"#000000"};h.prototype.se=
function(){var c=[];this.gb()&&c.push(a.I.Ja(a.I.pa,this.hb()?"STATE_SELECTED":"STATE_UNSELECTED"));return a.R.mm(this.Dh(),c)};h.prototype.Xd=function(){return[this.Ga()]};h.prototype.qs=function(){if(!a.m.Vj()){var c=this.se();c&&this.R.Od("label",c)}};h.prototype.Kn=function(a){var c=this.ag();this.R.Kn&&(this.R.Kn(a),c&&a&&c.setCursor("pointer"))};h.prototype.gb=function(){return this.R.gb?"off"!==this.sb.selectable?this.fr.gb():!1:!1};h.prototype.hb=function(){return this.wi};h.prototype.gc=
function(a){if(this.gb()){var c=this.em();this.wi=a;this.fr.A().selectionRenderer?this.e_(this.fr.A().selectionRenderer,this.em(),c):this.OI(a);this.qs()}};h.prototype.Rc=function(){var a=this.em();this.yl=!0;this.fr.A().hoverRenderer?this.e_(this.fr.A().hoverRenderer,this.em(),a):this.zy(!0)};h.prototype.Cc=function(){var a=this.em();this.yl=!1;this.fr.A().hoverRenderer?this.e_(this.fr.A().hoverRenderer,this.em(),a):this.zy(!1)};h.prototype.pk=function(){return this.Lp};h.prototype.jn=function(a){for(var c=
this.fr.GT,d=0;d<a.length&&a[d]!=c;d++);return c};h.prototype.Fl=function(){return this.fr.tT(this)};h.prototype.Rp=function(){return this.fr.sT()};h.prototype.Kd=function(c){var d;if(c.type==a.MouseEvent.He||c.keyCode==a.KeyboardEvent.Kj&&c.ctrlKey)return this;(c.keyCode==a.KeyboardEvent.Ty||a.KeyboardEvent.hw)&&c.altKey?(d=this.ro().jV(this.getId()),d=E.f4(this,c,d)):d=a.ya.pI(this,c,this.F7());this.ro().Ua.TD(c,d);return d};h.prototype.F7=function(){return this.ro().Ua.dR()};h.prototype.md=function(c){return this.R.getParent()?
this.R.V(c?c:this.R.a.Gc):new a.U(0,0,0,0)};h.prototype.$j=function(){return this.R.ja()};h.prototype.qh=function(){var a=this.em();this.Tc=!0;this.fr.A().focusRenderer?this.e_(this.fr.A().focusRenderer,this.em(),a):this.vC(!0)};h.prototype.mf=function(){if(this.Ae()){var a=this.em();this.Tc=!1;this.fr.A().focusRenderer?this.e_(this.fr.A().focusRenderer,this.em(),a):this.vC(!1)}};h.prototype.Ae=function(){return this.Tc};h.prototype.Co=function(a){this.R.getParent()&&(this.Zoom=a.kd,this.DZ())};h.prototype.Eca=
function(){if(this.Md){this.Md.$f();var c=this.R.Jg()*this.Zoom,d=this.R.Kg()*this.Zoom,e=this.R.getHeight(),f=this.R instanceof a.W?this.R.Hc():"image",h=this.sb.labelPosition;"top"==h?(d=d-e/2-4,this.Md.km()):"bottom"==h?(d+=e/2,this.Md.Mk()):(d=f==a.W.WC?d+e/6:f==a.W.VC?d-e/6:d,this.Md.ug());this.Md.na(c).Qa(d)}};h.prototype.DZ=function(){var c=this.R.getWidth(),d=this.R.getHeight();if(null!=c&&null!=d&&this.R.getParent()){var e=0,f=this.sl.x,e=this.sl.y;this.R.qR&&(e=this.R.qR(),f=this.sl.x*Math.cos(e)-
this.sl.y*Math.sin(e),e=this.sl.x*Math.sin(e)+this.sl.y*Math.cos(e));f=this.sl.x*this.Zoom-f;e=this.sl.y*this.Zoom-e;this.R instanceof H&&(f+=this.sl.x-c/2,e+=this.sl.y-d/2);this.R.jb(f,e);a.m.eda(this.R);this.Eca()}};h.prototype.Mf=function(c,d){var e=new a.td(this.Fa.a,this.R,this.ro().Kb()),f=d.Ga();if(this.R.Hd){var m=f.Hd(),p=this.R.Hd();p instanceof a.oc&&!p.mc(m)&&(this.R.Ia(m),d.ag()&&this.Md&&(m=this.Md.Hd(),this.Md.Ia(d.ag().Hd().clone()),m.mc(this.Md.Hd())||e.da.aa(a.L.yt,this.Md,this.Md.Hd,
this.Md.Ia,m)),e.da.aa(a.L.yt,this.R,this.R.Hd,this.R.Ia,p))}this.R.Ps&&(p=d.Ga().Ps(),m=this.R.Ps(),p.x!=m.x||p.y!=m.y||p.b!=m.b||p.i!=m.i)&&(this.R.xC(p),e.da.aa(a.L.GJ,this.R,this.R.Ps,this.R.xC,m));p=f.qR();m=this.R.qR();if(p!=m){var t=p-m;t>Math.PI?p-=2*Math.PI:t<-Math.PI&&(p+=2*Math.PI);this.R.sE(p);e.da.aa(a.L.ta,this.R,this.R.qR,this.R.sE,m)}var t=d.Yd(),u=this.Yd();t&&u&&(t.x!=u.x||t.y!=u.y||p!=m)&&(this.IFa(new a.P(t.x,t.y)),e.da.aa(a.L.I8,this,this.Yd,this.IFa,new a.P(u.x,u.y)));this.Md&&
d.ag()?(p=d.ag().rb(),m=this.Md.rb(),p!=m&&(this.Md.na(p),e.da.aa(a.L.ta,this.Md,this.Md.rb,this.Md.na,m)),p=d.ag().vb(),m=this.Md.vb(),p!=m&&(this.Md.Qa(p),e.da.aa(a.L.ta,this.Md,this.Md.vb,this.Md.Qa,m)),d.ag().qa(0)):d.ag()&&d.ag().qa(0);f.qa(0);c.add(e,h.Z6)};h.prototype.ai=function(c){var d=[this.R],e=this.ag();e&&d.push(e);d=new a.Vg(this.Fa.a,d,this.ro().Kb());c.add(d,h.ida)};h.prototype.mh=function(c){var d=[this.R];this.R.qa(0);var e=this.ag();e&&(e.qa(0),d.push(e));d=new a.dg(this.Fa.a,
d,this.ro().Kb());c.add(d,h.jda)};h.prototype.OI=function(a){this.R.gc&&this.R.gc(a)};h.prototype.vC=function(a){this.zy(a)};h.prototype.zy=function(a){a?this.R.Rc&&this.R.Rc():this.R.Cc&&!this.Ae()&&this.R.Cc()};h.prototype.e_=function(a,c,d){if(this.R instanceof H){var e=this.Fa.A()._contextHandler;if(e){var f=this.R.oD;c=e(this.R.ja(),f,this.sb,c,d);a=a(c);!a&&f&&this.Fa.a.sp||this.R.f9a(a)}}};h.prototype.em=function(){return{hovered:this.yl,selected:this.hb(),focused:this.Ae()}};a.f.v(e,h,"DvtMapAreaPeer");
e.prototype.Init=function(a,c,d,f,h){e.C.Init.call(this,a,c,d,f,null,h)};e.prototype.q7a=function(a){this.nD=a};e.prototype.gc=function(a){this.gb()&&(a&&!this.yl&&this.nD.B(this.R),e.C.gc.call(this,a))};e.prototype.Rc=function(){this.nD.B(this.R);e.C.Rc.call(this)};e.prototype.Cc=function(){this.hb()?this.nD.B(this.R):this.nD.Ad(this.R,0);e.C.Cc.call(this)};e.prototype.Co=function(a){e.C.Co.call(this,a);this.R.getParent()&&(this.R.L4a(a),this.Eca(a))};e.prototype.Eca=function(a){this.ag()&&this.ag().update(a)};
e.prototype.F7=function(){return this.ro().Ua.E4()};e.prototype.Mf=function(a,c){e.C.Mf.call(this,a,c);this.ro().L1.Rca(this.aE(),!1)};e.prototype.DZ=function(){};a.f.v(p,h,"DvtMapLinkPeer");p.prototype.Init=function(a,c,d,e,f,h,m){p.C.Init.call(this,a,c,d);this.BK=e;this.ZJ=f;this.vaa=h;this.Yka=m};p.prototype.Kd=function(c){var d=this.fr.Ua.u.ya;if(c.type==a.MouseEvent.He||c.keyCode==a.KeyboardEvent.Kj&&c.ctrlKey)return this;if(d.B$===E.Fya)if(c.keyCode===a.KeyboardEvent.sg){var d=d.pEa.getId(),
d=this.ro().jV(d),e=d.indexOf(this);e++;e===d.length&&(e=0);d=d[e]}else if(c.keyCode===a.KeyboardEvent.kf)d=d.pEa.getId(),d=this.ro().jV(d),e=d.indexOf(this),e--,-1===e&&(e=d.length-1),d=d[e];else if(c.keyCode===a.KeyboardEvent.Ne)d=this.BK.x<=this.ZJ.x?this.vaa:this.Yka;else if(c.keyCode===a.KeyboardEvent.Be)d=this.BK.x>=this.ZJ.x?this.vaa:this.Yka;else return this;else d=a.ya.pI(this,c,this.F7());this.ro().Ua.TD(c,d);return d};p.prototype.F7=function(){return this.ro().Ua.F4()};p.prototype.DZ=function(){if(this.R.getParent()){var c=
new a.P(this.BK.x*this.Zoom,this.BK.y*this.Zoom),d=new a.P(this.ZJ.x*this.Zoom,this.ZJ.y*this.Zoom),c=F.zGa(this.fr,this.BK,this.ZJ,c,d);this.R.Ug(c);a.m.eda(this.R)}};p.prototype.Mf=function(c,d){var e=new a.td(this.Fa.a,this.R,this.ro().Kb()),f=d.Ga(),m=f.ve(),p=this.R.ve();p.Zb()!=m.Zb()&&(this.R.Ha(m),e.da.aa(a.L.cZ,this.R,this.R.ve,this.R.Ha,p));var m=d.ZJ,p=this.ZJ,t=!0;d.BK.mc(this.BK)&&m.mc(p)||(t=!1,this.R.qa(0),e.da.aa(a.L.ta,this.R,this.R.Jb,this.R.qa,1),e.da.aa(a.L.ta,f,f.Jb,f.qa,0));
t&&f.qa(0);c.add(e,h.Z6)};a.f.v(c,a.ca);c.m$a=1;c.prototype.Init=function(a,d,e,f,h,m){c.C.Init.call(this,a);this.aUa=f;this.bUa=h;this.X=e;this.B(this.X);this.Fa=d;this.bo=m;if(a=e.ve())this.nBa=a.getWidth()};c.prototype.bf=function(){if("none"!=this.Fa.Xra()){var a=this.Fa.A()._tooltip;return a?this.Fa.a.cf().Rs(a.renderer,this.zj()):this.Ks}return null};c.prototype.mwa=function(a){this.Ks=a};c.prototype.zj=function(){return{color:null,component:this.Fa.A()._widgetConstructor,data:null,id:null,
label:null,location:this.aUa,locationName:this.bUa,tooltip:this.Ks,x:null,y:null}};c.prototype.ve=function(){return this.X instanceof a.Db?this.X.ve():null};c.prototype.Ha=function(c){this.X instanceof a.Db&&this.X.Ha(c)};c.prototype.Ia=function(c){this.X instanceof a.Db&&this.X.Ia(c)};c.prototype.Hd=function(){return this.X instanceof a.Db?this.X.Hd():null};c.prototype.OK=function(){return this.X instanceof a.Ib?this.X.OK():null};c.prototype.Ug=function(c){this.X instanceof a.Ib&&this.X.Ug(c)};c.prototype.pS=
function(c){this.X instanceof a.Image&&this.X.pS(c)};c.prototype.contains=function(a,c){var d=this.V();return a>=d.x&&a<=d.x+d.b&&c>=d.y&&c<=d.y+d.i};c.prototype.Co=function(a){if(!this.bo&&this.X&&this.nBa){var c=this.X.ve().clone();c.kb(this.nBa/a.kd);this.X.Ha(c)}};a.f.v(f,a.f);f.prototype.Init=function(c,d,e){this.Ua=c;this.AM=d;this.Gea=e;this.Kq={};this.Aw=new a.Da};f.prototype.oGa=function(a){this.Kq[a.GT]=a};f.prototype.Xya=function(){};f.prototype.oga=function(){};f.prototype.pxa=function(c,
d){this.Ft&&this.Ft.stop(!0);this.Aw=d;this.qP=this.ro(c.GT);this.oGa(c);c.ia(this.Aw);c.Co(new a.vd(a.vd.KY),this.Aw);if(this.qP){var e=c.vz(),f=c.Kb();if("auto"==e){var h=new a.Ql(this.Ua.a);h.En(this.qP.bba(),c.bba());this.Ft=h.vz()}else if(a.Sa.isSupported(e)){this.fFa=!0;for(var m=new a.U(0,0,this.Ua.getWidth(),this.Ua.getHeight()),p=this.qP.Bsa(),h=0;h<p.length;h++){var t=new a.Rect(this.Ua.a,0,0,this.Ua.getWidth(),this.Ua.getHeight());t.Ia(null);p[h].B(t)}for(var u=c.Bsa(),h=0;h<u.length;h++)t=
new a.Rect(this.Ua.a,0,0,this.Ua.getWidth(),this.Ua.getHeight()),t.Ia(null),u[h].B(t);m=a.Sa.QK(this.Ua.a,e,p,u,m,f);p=new a.U(0,0,this.Ua.getWidth()/this.Aw.kd,this.Ua.getHeight()/this.Aw.kd);u=this.qP.Usa();for(h=0;h<u.length;h++)t=new a.Rect(this.Ua.a,0,0,this.Ua.getWidth()/this.Aw.kd,this.Ua.getHeight()/this.Aw.kd),t.Ia(null),u[h].B(t);for(var w=c.Usa(),h=0;h<w.length;h++)t=new a.Rect(this.Ua.a,0,0,this.Ua.getWidth()/this.Aw.kd,this.Ua.getHeight()/this.Aw.kd),t.Ia(null),w[h].B(t);h=a.Sa.QK(this.Ua.a,
e,u,w,p,f);this.Ft=new a.$d(this.Ua.a,[m,h])}else for(e=this.qP.JHa(),h=0;h<e.length;h++)e[h].getParent().removeChild(e[h]);this.Xya();if(this.Ft){this.Gea.ln(this.Ba);var z=this;this.Ft.pg(function(){z.uw(c)},this);this.Ft.play()}}else this.oga(),this.Ua.Pya()};f.prototype.ro=function(a){return this.Kq?this.Kq[a]:null};f.prototype.ia=function(a){this.Aw=a;for(var c in this.Kq)this.Kq[c].ia(a)};f.prototype.Co=function(a,c){this.Aw=c;for(var d in this.Kq)this.Kq[d].Co(a,c)};f.prototype.PS=function(a){this.Aw=
a;for(var c in this.Kq)this.Kq[c].PS(a)};f.prototype.uw=function(a){if(this.qP)for(var c=this.qP.JHa(),d=0;d<c.length;d++){var e=c[d].getParent();e&&e.removeChild(c[d])}if(this.fFa){this.fFa=!1;c=a.Bsa();for(d=0;d<c.length;d++)c[d].Nz(c[d].Vc()-1);a=a.Usa();for(d=0;d<a.length;d++)a[d].Nz(a[d].Vc()-1)}this.oga();this.Ua.Pya();this.Ft=null;this.Gea.Lf(this.Ba)};f.prototype.Ec=function(){var a=this.Kq,c;for(c in a)a[c].Ec()};a.f.v(x,f);x.FAa=0;x.zia=1;x.prototype.Init=function(c,d,e,f,h){x.C.Init.call(this,
c,d,h);this.qx=e;this.kEa=f;this.OZ={};this.wS={};this.KL={};this.UT=this.Vu=null;this.xK={};this.sH={};this.naa={};this.c7=new a.ca(this.Ua.a);this.NX=new a.ca(this.Ua.a);this.Ua.mBa.Ad(this.c7,0);this.Ua.SG.Ad(this.NX,0)};x.prototype.r7a=function(a){this.KL=a;for(var c in a)this.Rca(c,!0)};x.prototype.p7a=function(a){this.Vu=a;for(var c in a)this.OV(c,!0)};x.prototype.W3a=function(a){return this.Vu&&this.Vu[a]?this.Vu[a][x.FAa]:null};x.prototype.hIa=function(a){return this.Vu&&this.Vu[a]?this.Vu[a][x.zia]:
null};x.prototype.o7a=function(a){this.UT=a};x.prototype.ZHa=function(a){return this.UT?this.UT[a]:null};x.prototype.N3=function(a){return this.KL[a]};x.prototype.Y7a=function(a){this.yna=a};x.prototype.d3a=function(){return new a.j(this.yna)};x.prototype.Rca=function(a,c){this.xK[a]=c};x.prototype.OV=function(a,c){this.sH[a]=c};x.prototype.W7a=function(a){this.YO=a;this.WT=null;for(var c in this.KL)c!=a&&(this.xK[c]=!1)};x.prototype.v4=function(){if(!this.WT){var c=this.Ua.nz;this.YO?this.WT=c?a.G.V(a.G.GK(w.OIa(this.Ua.nz,
this.AM,this.YO))):a.uk.lI(this.Ua.a,this.N3(this.YO)):(c&&"world"!=c&&"worldRegions"!=c&&(this.WT=w.O1a(this.Ua.nz,this.AM)),this.WT||(c=this.c7.V().Hn(this.Ua.L9.V()),0<c.b&&0<c.i&&(this.WT=c)))}return this.WT};x.prototype.gka=function(d){var e=this.KL[d];if(e){if(!this.wS[d]){var f=this.Vu&&this.Vu[d]?this.Vu[d][x.zia]:null,h=new c(this.Ua.a,this.Ua,e,d,f,this.Ua.bo);this.wS[d]=h;this.Gea.Xb(e,h);h.mwa(f)}this.sH[d]&&(f=this.OZ[d],!f&&"off"!=this.qx&&this.Vu&&(f="short"==this.kEa?this.Vu[d][x.FAa]:
this.Vu[d][x.zia]))&&(this.UT&&this.UT[d]?f=new t(this.Ua.a,f,this.UT[d],this.qx,this.NX,this.Ua.bo):(e=a.uk.lI(this.Ua.a,e),f=new t(this.Ua.a,f,[[e.x,e.y,e.b,e.i]],this.qx,this.NX,this.Ua.bo)),this.OZ[d]=f,this.yna&&f.ub(this.yna))}};x.prototype.cja=function(a){if(this.KL[a]){this.c7.B(this.wS[a]);var c=this.OZ[a];c&&(this.sH[a]?c.update(this.Aw):c.reset(),this.naa[a]=this.sH[a])}};x.prototype.a7a=function(){for(var a in this.Vu)this.Rca(a,!0),this.OV(a,!0)};x.prototype.pxa=function(a,c,d){x.C.pxa.call(this,
a,c,d);if(d==this.AM)for(var e in this.KL)this.gka(e),this.xK[e]&&this.cja(e)};x.prototype.ia=function(a){for(var c in this.KL)this.gka(c),this.xK[c]&&this.cja(c);x.C.ia.call(this,a)};x.prototype.Xya=function(){for(var a in this.xK)this.xK[a]||(this.gka(a),this.cja(a))};x.prototype.oga=function(){for(var a in this.xK)if(!this.xK[a]){this.c7.removeChild(this.wS[a]);var c=this.OZ[a];c&&(this.naa[a]=!1,this.NX.removeChild(c),(c=c.lz)&&this.NX.removeChild(c))}};x.prototype.Co=function(a,c){x.C.Co.call(this,
a,c);if(!this.Ua.bo)for(var d in this.wS)this.wS[d].Co(c);for(d in this.naa)if(this.naa[d]){var e=this.OZ[d];e&&e.update(c)}};a.f.v(v,a.f);v.prototype.Init=function(c,d,e,f,h){this.Ua=c;this.GT=e;this.Vf=h;this.Gt=[];this.gP=[];this.fP=[];this.K9=[];this.R9=[];this.P9=[];this.hz=f;this.N0={};this.Ho=new a.vc(c.a);this.hz.eS(this.Ho);this.nD=new a.ca(this.Ua.a);this.z_=new a.ca(this.Ua.a);this.N9=new a.ca(this.Ua.a);this.Q9=new a.ca(this.Ua.a);this.Ua.L9.Ad(this.nD,0);this.Ua.WJ.Ad(this.z_,0);this.Ua.SG.Ad(this.N9,
0);this.Ua.YT.Ad(this.Q9,0);this.L1=d};v.prototype.A=function(){return this.Vf};v.prototype.JHa=function(){return[this.nD,this.z_,this.N9,this.Q9]};v.prototype.Usa=function(){return[this.nD]};v.prototype.Bsa=function(){var a=[this.N9,this.Q9];this.Ua.rL()&&a.push(this.z_);return a};v.prototype.bba=function(){return this.gP.concat(this.Gt).concat(this.fP)};v.prototype.s3a=function(){for(var a=[],c=0;c<this.Gt.length;c++)a.push(this.Gt[c]);return a};v.prototype.Iaa=function(a){this.R9.push(a);if(a){this.gP.push(a);
this.hz.Xb(a.Ga(),a);var c=a.ag();c&&this.hz.Xb(c,a)}};v.prototype.gqa=function(a){this.K9.push(a);a&&(this.Gt.push(a),this.hz.Xb(a.Ga(),a),a.q7a(this.nD))};v.prototype.Z_a=function(a){this.P9.push(a);a&&(this.fP.push(a),this.hz.Xb(a.Ga(),a))};v.prototype.V8a=function(a,c){var d=v.JWa(a,c);this.N0[d]?this.N0[d]++:this.N0[d]=1;return this.N0[d]};v.JWa=function(a,c){return a.x<c.x?a.x.toString()+a.y.toString()+c.x.toString()+c.y.toString():c.x.toString()+c.y.toString()+a.x.toString()+a.y.toString()};
v.prototype.GYa=function(a){a=this.Gt.indexOf(a);-1!==a&&this.Gt.splice(a,1)};v.prototype.n7a=function(a){this.PTa=a};v.prototype.vz=function(){return this.PTa};v.prototype.JV=function(a){this.OTa=a};v.prototype.Kb=function(){return this.OTa};v.prototype.oS=function(c){if(this.Jp=c)this.Fd=new a.Gb(this.Jp),this.hz.Fy(this.GT,this.Fd)};v.prototype.gb=function(){return null!=this.Jp};v.prototype.v_a=function(a){var c=a.Ga(),d=this.L1.N3(a.aE());if(d)return c.Ug(d.OK()),!0;this.GYa(a);return!1};v.prototype.JYa=
function(a){if(this.v_a(this.Gt[a])){var c=this.Gt[a].Ga();this.nD.B(c);if(a=this.Gt[a].ag())a.N4a()||(c=c.V(),a.Q_a(c)),a.update(this.woa);return!0}return!1};v.prototype.ia=function(c){this.woa=c;c={};var d=this.gP.slice();d.sort(function(a,c){return a.ue()<c.ue()?1:a.ue()>c.ue()?-1:0});for(var e=0;e<d.length;e++){var f=d[e],h=f.Ga(),m=f.ag();if(m){var p=new a.ca(h.a);this.z_.B(p);p.B(h);p.B(m);f.Eca()}else this.z_.B(h);(f=f.aE())&&(c[f]=!0)}for(e=0;e<this.Gt.length;e++)c[this.Gt[e].aE()]&&this.Gt[e].L6a(),
this.JYa(e)||e--;for(e=0;e<this.fP.length;e++)this.Q9.B(this.fP[e].Ga());this.Lma&&this.wK()};v.prototype.Co=function(a,c){this.woa=c;for(var d=this.Gt,e=0;e<d.length;e++)d[e].Co(c);if(this.Ua.rL())for(d=this.gP,e=0;e<d.length;e++)d[e].Co(c);this.N0={};d=this.fP;for(e=0;e<d.length;e++)d[e].Co(c)};v.prototype.PS=function(a){this.woa=a};v.prototype.U7a=function(a){this.Lma=a};v.prototype.wK=function(){this.Fd&&(this.Fd.Vr(this.Lma,this.bba()),this.Lma=null)};v.prototype.tT=function(a){if(this.Fd){a.hb()||
(this.Fd.kn(a,!1),this.hz.Bu(a));a=[];for(var c=this.Fd.getSelection(),d=0;d<c.length;d++)a.push(c[d].getId());return a}return null};v.prototype.sT=function(){for(var a=[],c=this.Fd.getSelection(),d=0;d<c.length;d++)a.push(c[d].Ga());return a};v.prototype.Q3a=function(a){for(var c=[],d=this.Gt,e=0;e<a.length;e++)for(var f=0;f<d.length;f++)if(d[f].getId()==a[e]){c.push(d[f].aE());break}return c};v.prototype.Ec=function(){for(var a=this.bba(),c=0;c<a.length;c++){var d=a[c].Ga();d instanceof H&&(d=d.oD,
d.Ec&&d.Ec())}this.hz=null};v.prototype.jV=function(a){for(var c=[],d=0;d<this.P9.length;d++){var e=this.P9[d],f=e.vaa,h=e.Yka;f&&f.getId()===a?c.push(e):h&&h.getId()===a&&c.push(e)}return c};a.f.v(E,a.EJ);E.Fya="linkNode";E.Kfa="link";E.prototype.Init=function(a,c){E.C.Init.call(this,a,c);this.Ua=a;this.B$=E.Kfa};E.prototype.Iz=function(a){return this.Th(a)&&!a.ctrlKey};E.prototype.Rk=function(c){var d=c.keyCode,f=this.Fc.Fe();if(d==a.KeyboardEvent.iw){this.B$=E.Kfa;d=[];f instanceof e&&(d=this.Ua.dR());
if("DvtMapObjPeer"===f.getTypeName()||0===d.length)d=this.Ua.F4();0<d.length&&(f=a.ya.pI(f,c,d),this.Ua.TD(c,f));this.Fc.XM(f)}else if(d==a.KeyboardEvent.Uy){this.B$=E.Kfa;d=[];f instanceof p&&(d=this.Ua.dR());if("DvtMapObjPeer"===f.getTypeName()||0===d.length)d=this.Ua.E4();0<d.length&&(f=a.ya.pI(f,c,d),this.Ua.TD(c,f));this.Fc.XM(f)}else(c.keyCode==a.KeyboardEvent.Ty||a.KeyboardEvent.hw)&&c.altKey&&(this.pEa=f,this.B$=E.Fya),f=E.C.Rk.call(this,c),this.Th(c)&&!c.ctrlKey&&this.Fc.XM(f);return f};
E.prototype.yo=function(c){return c.keyCode==a.KeyboardEvent.Kj&&c.ctrlKey};E.prototype.Th=function(c){var d=E.C.Th.call(this,c);switch(c.keyCode){case a.KeyboardEvent.Uy:case a.KeyboardEvent.iw:d=!0;break;case a.KeyboardEvent.Ty:case a.KeyboardEvent.hw:d=c.altKey?!0:!1;break;default:d=E.C.Th.call(this,c)}return d};E.f4=function(c,d,e){d=d.keyCode;if(!e||1>e.length||!c)return null;for(var f=c.Yd(),h=0;h<e.length;h++){var m=e[h],p;p=c.getId()===m.vaa.getId()?m.ZJ:m.BK;if(d==a.KeyboardEvent.Ty&&p.x<=
f.x||d==a.KeyboardEvent.hw&&p.x>=f.x)break}return m};a.f.v(D,a.u);D.prototype.Init=function(a,c,d){D.C.Init.call(this,a,c,d);this.UP={};this.Ua=d;this.gD=!1};D.prototype.Ue=function(a){if(a&&a.ro)return this.UP[a.ro().GT]};D.prototype.Fy=function(a,c){this.UP[a]=c};D.prototype.S7a=function(a){a&&D.C.Nu.call(this,a)};D.prototype.rj=function(c){var d=this.Za(c.target);this.XM(d);if(!(d&&d.gb&&d.gb()))for(var e in this.UP)this.UP[e].kn(null,c.ctrlKey)&&(d=a.la.vL([]),d.clientId=e,this.Sb.call(this.Ba,
d));D.C.rj.call(this,c)};D.prototype.XM=function(a){var d=null,e=null,f=null;a&&(a instanceof h?f=a.Ga():a instanceof c&&(f=a),a.ro&&(a=a.ro(),d=a.GT,e=a.L1.AM));this.Ua.z7a(d,e,f)};D.prototype.Vl=function(c){var d=!0,e=c.keyCode,f=this.Fe(),h=f.Ga();e!=a.KeyboardEvent.rg&&this.gD?(h.JQ(c),c.preventDefault()):e==a.KeyboardEvent.Kj&&c.ctrlKey?(this.XM(f),this.NC(f,!0),c.preventDefault()):e!=a.KeyboardEvent.ZERO&&e!=a.KeyboardEvent.Vfa||!c.ctrlKey?e==a.KeyboardEvent.rg&&h instanceof H?!c.shiftKey&&
f.Ae()?(f.mf(),h.JQ(c),c.preventDefault(),this.gD=!0):(c.shiftKey&&this.gD?(this.vt(c,f),c.preventDefault()):(this.gD&&f.qh(),d=D.C.Vl.call(this,c)),this.gD=!1):(e==a.KeyboardEvent.rg&&f&&this.Ua.TD(c,f),d=D.C.Vl.call(this,c)):(c.altKey?this.Ua.t1a(h):this.Ua.kHa(),c.preventDefault());return d};D.prototype.CJ=function(c){if(!this.Xg(c,a.Dd.FW)){var d=this.Za(c.target);this.XM(d);if(d instanceof a.kc)for(var e in this.UP)if(this.UP[e].kn(null,c.ctrlKey)){for(var d=this.UP[e].getSelection(),f=[],h=
0;h<d.length;h++)f.push(d[h].getId());d=a.la.vL(f);this.Sb.call(this.Ba,d)}D.C.CJ.call(this,c)}};D.prototype.tM=function(a,c){var d=this.Za(a.target);this.XM(d);D.C.tM.call(this,a,c)};D.prototype.Ij=function(c,d,e){c=this.Ua.A();"dim"==c.hoverBehavior&&(d=d.rd?d.rd():[],c.highlightedCategories=e?d.slice():null,e=a.la.MI(c.highlightedCategories,e),d=a.$a.Aq(c.styleDefaults.hoverBehaviorDelay),this.pF.Ef(e,this.Ua.E4().concat(this.Ua.dR()).concat(this.Ua.F4()),d,"any"==c.highlightMatch))};D.prototype.Oy=
function(){var c=this.Ua.A();return"none"!==c.panning||"none"!==c.zooming?a.u.UC:c.touchResponse===a.u.ns?a.u.ns:a.u.VY};D.prototype.tA=function(c){return c==a.Dd.FW?!1:D.C.tA.call(this,c)};D.prototype.vLa=function(a,c){this.vt(a,c)};D.prototype.vt=function(a,c){this.Ua.MJa()||D.C.vt.call(this,a,c)};a.f.v(F,a.f);F.SRa=6;F.JRa=.5;F.eSa=20;F.prototype.Init=function(a){this.Ua=a;this.PZ=this.PN=null};F.prototype.parse=function(a){this.vD=a.mapProvider;this.bYa(a);this.cYa(a.styleDefaults);this.aYa(a.areaLayers);
this.b8(a.pointDataLayers,null,null,!1)};F.prototype.bYa=function(a){var c=a.animationDuration;"string"==typeof c?"ms"==c.slice(-2)?c=parseInt(c.slice(0,-2))/1E3:"s"==c.slice(-1)&&(c=parseFloat(c.slice(0,-1))):c/=1E3;this.Ua.JV(c);this.vD||this.Ua.c8a(a.basemap);this.Ua.V7a("auto"==a.initialZooming);this.Ua.n8a("auto"==a.panning);this.Ua.H8a("auto"==a.zooming)};F.prototype.aYa=function(c){var e=this.Ua.a;c=this.Ua.Ff.v0a(c[0],e.sp);var f=c.layer;if(f||this.vD){var h;if(h=c.areaSvgStyle||c.areaStyle){h instanceof
Object||(h=a.j.HK(h));var m=F.MCa(h);this.PZ=a.cb.ae(h,this.PZ);this.PN.ae(m)}c.labelStyle&&this.PN.gl(c.labelStyle);h=new x(this.Ua,f,c.labelDisplay,c.labelType,this.Ua.Nb());var m=this.Ua.nz,p,t;this.vD?(f=d.Z5a(e,this.vD),e=f.areas,p=f.labels):(e=w.qHa(m,f,this.Ua.getWidth(),this.Ua.getHeight(),this.Ua.rIa()),p=w.G1a(m,f),t=w.F1a(m,f));h.r7a(this.dVa(e));h.p7a(p);h.o7a(t);h.Y7a(this.PN);this.Ua.qGa(h);c.areaDataLayer&&this.b8([c.areaDataLayer],h,null,!0);c.pointDataLayers&&this.b8(c.pointDataLayers,
h,null,!1)}};F.prototype.b8=function(c,d,e,h){if(c)for(var m=0;m<c.length;m++){var p=this.Ua.Ff.y0a(c[m]);d?d instanceof x&&h&&d.a7a():(d=new f(this.Ua,p.id,this.Ua.Nb()),this.Ua.qGa(d));var t=new v(this.Ua,d,p.id,this.Ua.Nb(),p);h=p.selectionMode;"single"==h?t.oS(a.Gb.hv):"multiple"==h&&t.oS(a.Gb.os);t.n7a(p.animationOnDataChange);t.JV(this.Ua.Kb());var u=null;d instanceof x&&(u=p.isolatedItem);var w;h=d instanceof x;var z=this.Ua.A().hiddenCategories,A=p.areas;if(A)for(var y=0;y<A.length;y++)if(z&&
a.Y.Zs(z,A[y].categories))t.gqa(null);else{var D=A[y].location;if(u)if(u!=A[y].id)continue;else w=D;(D=this.NUa(d,t,A[y]))&&t.gqa(D)}var A=p.renderer,E=p.markers;if(E&&!A)for(F.nUa(this.Ua,E),y=0;y<E.length;y++)if(z&&a.Y.Zs(z,E[y].categories))t.Iaa(null);else{D=E[y].location;if(u)if(u!=E[y].id)continue;else w=D;(D=this.dz(d,t,E[y],h))&&t.Iaa(D)}var H=p.images;if(H)for(y=0;y<H.length;y++){D=H[y].location;if(u)if(u!=H[y].id)continue;else w=D;(D=this.lka(d,t,H[y],h))&&t.Iaa(D)}if(H=p.links)for(y=0;y<
H.length;y++)z&&a.Y.Zs(z,H[y].categories)?t.gqa(null):(D=this.cVa(t,H[y]))&&t.Z_a(D);if(A&&E)for(y=0;y<E.length;y++){D=E[y].location;if(u)if(u!=E[y].id)continue;else w=D;z=this.Ua.A()._contextHandler(this.Ua.ja(),null,E[y],{hovered:!1,selected:!1,focused:!1},null);z=A(z);(D=this.RUa(d,t,E[y],z,h))&&t.Iaa(D)}w&&d.W7a(w);(p=p.selection)&&0<p.length&&t.U7a(p);e?d.pxa(t,this.Ua.pc.$c.La(),e):d.oGa(t)}};F.prototype.cYa=function(c){this.Ua.lKa(c);var d=c.areaSvgStyle||c.areaStyle;!d||d instanceof Object||
(d=a.j.HK(d));d=a.cb.ae(d,c._areaStyle);this.PN=F.MCa(d);this.PZ=d;this.PN.gl(c.labelStyle);new a.j(c.dropTargetStyle);this.Ua.z8a(c)};F.MCa=function(c){var d=new a.j;a.Y.forEach([a.j.we,a.j.fe],function(e){var f=null,h=a.j.RD(e);c&&null!=c[h]&&(f=c[h],delete c[h]);d.Na(e,f)});return d};F.prototype.dVa=function(c){var d={},e=this.Ua.a,f;for(f in c){var h=new a.Ib(e);h.Ug(c[f]);var m=this.PN.N(a.j.we);m&&"transparent"!=m&&(m=new a.ma(m),this.Ua.bo&&m.We(!0),h.Ha(m));m=this.PN.N(a.j.fe);"transparent"!=
m?h.ab(m):h.Ia(null);this.PZ&&h.Na(this.PZ);d[f]=h}return d};F.prototype.NUa=function(c,d,f){var h=f.location;if(c.N3(h)){c.Rca(h,!1);h=new y(this.Ua.a,this.Ua.bo);f=a.cb.ae(f,this.Ua.P2.dataAreaDefaults);f.labelStyle||(f.labelStyle=this.Ua.P2.labelStyle);var m=new a.ma(f.hoverColor,1,y.oM),p=new a.ma(f.selectedInnerColor,1,y.g8),t=new a.ma(f.selectedOuterColor,1,y.h8);h.ap(m,null).Fq(p,t);c.OV(f.location,!1);this.TFa(f,h);c=this.gO(c,d,f,h,!0);m=F.i$(this.Ua.nz,d,f);return new e(f,d,h,c,m)}return null};
F.prototype.dz=function(c,d,e,f){var m=e._size,p;p=this.vD&&null!=this.vD.geo&&!e.location?new a.P(e.x,-e.y):F.Yd(d,e.location,e.x,e.y);if(!p||0===m)return null;var t=this.Ua.P2.dataMarkerDefaults,u=new a.j(t.labelStyle);u.gl(e.labelStyle);e=a.cb.ae(e,t);e.labelStyle=u.toString();if(null!=m)t=m;else{t=e.scaleX;null==t&&(t=1);m=e.scaleY;null==m&&(m=1);var w=e.width;null==w&&(w=this.Ua.A().styleDefaults.dataMarkerDefaults.width);u=e.height;null==u&&(u=this.Ua.A().styleDefaults.dataMarkerDefaults.height);
t*=w;m*=u}u=e.borderRadius;e.source?t=new a.xc(this.Ua.a,p.x,p.y,t,m,u,e.source,e.sourceSelected,e.sourceHover,e.sourceHoverSelected):(w=e.shape?e.shape:this.Ua.A().styleDefaults.dataMarkerDefaults.shape,t=new a.W(this.Ua.a,w,this.Ua.taa,p.x,p.y,t,m,u));(m=e.rotation)&&t.sE(m*Math.PI/180);f&&c.OV(e.location,!1);this.TFa(e,t);c=this.gO(c,d,e,t,f);f=F.i$(this.Ua.nz,d,e);return new h(e,d,t,c,p,f)};F.prototype.lka=function(c,d,e,f){var m=F.Yd(d,e.location,e.x,e.y);if(!m)return null;var p=new a.Image(this.Ua.a,
e.url),t=e.width,u=e.height;null!=t&&null!=u&&(p.na(m.x-t/2),p.Qa(m.y-u/2),p.kb(t),p.Lb(u));f&&c.OV(e.location,!1);c=F.i$(this.Ua.nz,d,e);var w=new h(e,d,p,null,m,c);t&&u||a.gA.Kz(this.Ua.a,e.url,function(a){a&&a.width&&a.height&&(p.kb(a.width),p.Lb(a.height),p.na(m.x-a.width/2),p.Qa(m.y-a.height/2),w.DZ())});return w};F.prototype.RUa=function(c,d,e,f,m){var p;p=this.vD&&null!=this.vD.geo&&!e.location?new a.P(e.x,-e.y):F.Yd(d,e.location,e.x,e.y);if(!p)return null;m&&c.OV(e.location,!1);c=new H(this.Ua.a,
f,this.Ua.P2.dataAreaDefaults);f=F.i$(this.Ua.nz,d,e);return new h(e,d,c,null,p,f)};F.prototype.cVa=function(c,d){var e=d.startLocation,f=d.endLocation,h,m;if(e.id){for(var t=c.R9,u=0;u<t.length;u++){var w=t[u];if(w&&w.getId()==e.id){m=w;h=w.Yd();break}}if(!m)for(t=c.K9,u=0;u<t.length;u++)if((w=t[u])&&w.getId()==e.id){m=w;h=this.j$(c,{location:w.aE()});break}}else h=this.j$(c,e);var z,v;if(f.id){t=c.R9;for(u=0;u<t.length;u++)if((w=t[u])&&w.getId()==f.id){v=w;z=w.Yd();break}if(!v)for(t=c.K9,u=0;u<
t.length;u++)if((w=t[u])&&w.getId()==f.id){v=w;z=this.j$(c,{location:w.aE()});break}}else z=this.j$(c,f);if(!z||!h)return null;e=new a.Ib(this.Ua.a,F.zGa(c,h,z,h,z));e.Ia(null);var u=this.Ua.P2.linkDefaults,A=d.color;A||(A=u.color);(f=d.width)||(f=u.width);t=new a.ma(A,1,f);t.We(!0);e.Ha(t);var w=u._hoverColor,y=u._selectedColor,u=new a.ma(w,1,f),t=new a.ma(A,1,f+2),A=new a.ma(A,1,f),x=new a.ma(y,1,f+2),w=new a.ma(w,1,f),f=new a.ma(y,1,f+2);e.ap(u,t).Fq(A,x).cs(w,f);return new p(d,c,e,h,z,m,v)};F.prototype.j$=
function(c,d){return this.vD&&null!=this.vD.geo?new a.P(d.x,-d.y):F.Yd(c,d.location,d.x,d.y)};F.prototype.gO=function(c,d,e,f,h){var m=e.location,p=e.label,u=p?"on":"off";h&&(u=c.qx);f=f instanceof a.Ib;!p&&h&&(f&&"off"!=u||!f&&"on"==u)&&(p="long"==c.kEa?c.hIa(m):c.W3a(m));if(p){var w=this.Ua.a,w=f?new t(w,p,c.ZHa?c.ZHa(m):null,u,d.N9,this.Ua.bo):new a.M(w,p,0,0);d=new a.j;f&&d.ae(c.d3a());e.labelStyle&&d.gl(e.labelStyle);c=d.N(a.j.od);d.Na(a.j.od,null);w.ub(d);e.color&&w instanceof t&&(a.m.GI()||
!c)&&(c=a.D.Ok(e.color));c&&w.ab(c)}return w};F.prototype.TFa=function(c,d){var e=c.color,f=a.m.eb()||this.Ua.taa==a.j.Qg?"none":c.visualEffects;if(d instanceof a.W){if("none"!=c.borderStyle){var h=c.borderWidth;"string"==typeof h&&(h="px"==h.slice(-2)?parseFloat(c.borderWidth.slice(0,-2)):parseFloat(c.borderWidth));var m=new a.ma(c.borderColor,1,h);this.Ua.rL()||m.We(!0);m.vm(a.Pa.UB(c.borderStyle));d.Ha(m)}h=c.opacity;"none"!=f?d.Ia(new a.aT.QGa(e,d,h)):e&&d.ab(e,h)}else if(d instanceof a.Ib){if(f=
c.borderColor)m=new a.ma(f),this.Ua.bo&&m.We(!0),d.Ha(m);d.ab(e,h)}};F.Yd=function(c,d,e,f){var h=c.Ua,m=h.nz;c=c.L1;var p=c.AM;if(d){if((e=w.c2a(m,d))||(e=w.C1a(m,p,d)))return e;if(!m&&c.N3){d=c.N3(d);if(!d)return null;h=a.uk.lI(h.a,d)}else{h=w.OIa(m,p,d);if(!h)return null;h=a.G.GK(h);h=a.G.V(h)}return h.Yd()}return A.y6a(e,f,m)};F.nUa=function(c,d){for(var e=-Infinity,f=Infinity,h=0;h<d.length;h++){var m=d[h].value;null==m||0>=m||(e=Math.max(e,m),f=Math.min(f,m))}if(Infinity!==f){var m=2*F.eSa,
h=c.getWidth()-m,m=c.getHeight()-m,p=h/m;1.3>p?m=2*h/3:1.7<p&&(h=1.5*m);p=F.JRa*Math.min(h,m);for(h=0;h<d.length;h++)m=d[h].value,d[h]._size=null==m||0>=m?0:a.qj.Cra(m,f,e,F.SRa,p)}};F.zGa=function(c,d,e,f,h){var m=f.x,p=f.y;f=h.x;h=h.y;var t=c.Ua,u=a.G.moveTo(m,p);d=c.V8a(d,e);e=Math.min(t.getWidth(),t.getHeight())/35;if(0===f-m||0===h-p){var w;1<d?(e*=d-1,0===f-m?(t=.3*Math.abs(p-h),c=m+e,d=p>h?p-t:p+t,w=c,m=h>p?h-t:h+t):(t=.3*Math.abs(m-f),c=m>f?m-t:m+t,d=p-e,w=f>m?f-t:f+t,m=d),u+=a.G.era(c,d,
w,m,f,h)):u+=a.G.lineTo(f,h)}else{t=Math.sqrt(Math.pow(f-m,2),Math.pow(h-p,2));c=t/4;1<d&&(c+=(d-1)*e);d=(h-p)/(f-m);e=-1/d;0<e&&(c*=-1);w=.3*t/Math.sqrt(1+Math.pow(d,2));var z=0<f-m,t=m+(z?1:-1)*w,z=f+(z?-1:1)*w;w=c/Math.sqrt(1+Math.pow(e,2));c=t+w;w=z+w;u+=a.G.era(c,e*(c-t)+(d*(t-m)+p),w,e*(w-z)+(d*(z-f)+h),f,h)}return u};F.i$=function(a,c,d){return(d=d.location)?(c=c.L1,c instanceof x?c.hIa(d):w.d2a(a,d)):null};var A={};a.f.v(A,a.f);A.Mw=new a.U(0,0,800,500);A.zN=6378206.4;A.Eia=new a.U(500,200,
200,200);A.Dia=new a.U(163,-49,17,17);A.Mza=new a.U(-17.379205428479874,-37.201510854305546,68.66391442808313,77.50071544582713);A.Pza=new a.U(-.8436866097568272,-.7626456732012923,1.8336308036296942,1.5748427214611724);A.Rza=new a.U(113.29667079927977,-52.89550592498755,65.25257389065216,42.123114617504626);A.fAa=new a.U(-.47944476148667076,-.0014669405958800579,.7364925893845453,.6293972741802124);A.yAa=new a.U(-.6154469465354344,-.24589767758847714,1.2448236795108683,1.2631535127174947);A.GAa=
new a.U(-80.60817722658722,-60.796273249672765,46.608687602908056,66.96595767361796);A.Oza=new a.U(68.20516856593524,-52.89892708045518,111.65739821771903,116.55460214469134);A.eAa=new a.U(-24.543831069368586,-37.202500659225905,204.54283106936856,164.9634493690208);A.tAa=new a.U(-117.12451221229134,-54.95921623126266,82.33223251442891,87.67786623127876);A.LAa=new a.U(-.6154656300926513,.0507209798775865,1.0153104799231851,.966537441082997);A.MAa=new a.U(-171.9,-62.6,349.8,150.8);A.RPa=new a.U(172,
51,8,3);A.SPa=new a.U(-180,51,51,21);A.rRa=new a.U(-178.5,18.9,35,11);A.PSa=new a.U(-124.8,24.4,58,25.5);A.Nza=new a.U(-187.5517578125,59.82610321044922,57.562225341796875,43.83738708496094);A.nAa=new a.U(-160.23606872558594,18.91549301147461,5.4374847412109375,3.3189010620117188);A.KAa=new a.U(-2386803.25,-1183550.5,4514111,2908402);A.qia=new a.U(165,400,100,100);A.xha=new a.U(-75,350,240,150);A.us=[[1,0],[.9986,.0314],[.9954,.0629],[.99,.0943],[.9822,.1258],[.973,.1572],[.96,.1887],[.9427,.2201],
[.9216,.2515],[.8962,.2826],[.8679,.3132],[.835,.3433],[.7986,.3726],[.7597,.4008],[.6732,.4532],[.6213,.4765],[.5722,.4951],[.5322,.5072]];A.y6a=function(c,d,e){var f;switch(e){case "africa":f=A.sG(A.Mza,A.g0(c,d));break;case "asia":f=A.sG(A.Pza,A.X9(40,95,20,60,c,d),A.wm(5));break;case "australia":f=A.eWa(c,d);break;case "europe":f=A.sG(A.fAa,A.X9(35,25,40,65,c,d),A.wm(10));break;case "northAmerica":f=A.sG(A.yAa,A.X9(23,-96,20,60,c,d));break;case "southAmerica":f=A.sG(A.GAa,new a.P(c,d),A.wm(5));
break;case "apac":f=A.sG(A.Oza,A.g0(c,d));break;case "emea":f=A.sG(A.eAa,A.g0(c,d));break;case "latinAmerica":f=A.sG(A.tAa,new a.P(c,d));break;case "usaAndCanada":f=A.sG(A.LAa,A.X9(23,-96,20,60,c,d));break;case "worldRegions":f=A.MDa(c,d);break;case "usa":f=A.$Wa(c,d);break;case "world":f=A.MDa(c,d)}return f?new a.P(10*f.x,10*f.y):null};A.$Wa=function(c,d){var e;A.RPa.hf(c,d)||A.SPa.hf(c,d)?(e=A.vv(A.Nza,A.xha),e=A.MZ(e,A.g0(c,d))):A.rRa.hf(c,d)?(e=A.vv(A.nAa,A.qia),e=A.MZ(e,new a.P(c,d))):A.PSa.hf(c,
d)&&(e=A.vv(A.KAa,A.Mw),e=A.MZ(e,A.NWa(new a.P(-95,36),c,d)));return A.Y9(A.Mw,e)};A.MDa=function(a,c){var d=A.vv(A.MAa,A.Mw),d=A.MZ(d,A.UWa(a,c));return A.Y9(A.Mw,d)};A.eWa=function(a,c){var d;d=A.Dia.hf(a,c)?A.vv(A.Dia,A.Eia):A.vv(A.Rza,A.Mw);d=A.MZ(d,A.g0(a,c));return A.Y9(A.Mw,d)};A.sG=function(c,d,e){c=A.vv(c,A.Mw);if(e){var f=new a.Da;f.rotate(e);c=A.MBa(c,f)}d=c.xm(d);return A.Y9(A.Mw,d)};A.Y9=function(a,c){return c&&a.hf(c.x,c.y)?c:null};A.X9=function(c,d,e,f,h,m){d=A.wm(d);c=A.wm(c);e=A.wm(e);
f=A.wm(f);f=.5*(Math.sin(e)+Math.sin(f));e=Math.pow(Math.cos(e),2)+2*f*Math.sin(e);c=e-2*f*Math.sin(c);c=Math.sqrt(c)/f;h=f*(A.wm(h)-d);m=e-2*f*Math.sin(A.wm(m));m=Math.sqrt(m)/f;return new a.P(m*Math.sin(h),c-m*Math.cos(h))};A.g0=function(c,d){return new a.P(c,A.XV(Math.log(Math.tan(.25*Math.PI+.5*A.wm(d)))))};A.NWa=function(c,d,e){d=A.wm(d);e=A.wm(e);var f=A.wm(c.x);c=A.wm(c.y);return new a.P(Math.cos(e)*Math.sin(d-f)*A.zN,(Math.cos(c)*Math.sin(e)-Math.sin(c)*Math.cos(e)*Math.cos(d-f))*A.zN)};A.UWa=
function(c,d){var e=Math.floor(Math.abs(d)/5);e>=A.us.length-1&&(e=A.us.length-2);var f=(Math.abs(d)-5*e)/5,h=c*(A.us[e][0]+f*(A.us[e+1][0]-A.us[e][0])),e=A.us[e][1]+f*(A.us[e+1][1]-A.us[e][1]);0>d&&(e*=-1);return new a.P(h,180*e)};A.MZ=function(c,d){return new a.P(d.x*c.kd+c.zc,d.y*c.je+c.tc)};A.MBa=function(c,d){var e=c.kd,f=c.je;return new a.Da(d.kd*e,d.$e*e,d.xe*f,d.je*f,c.zc+d.zc*e,c.tc+d.tc*f)};A.vv=function(c,d){var e=d.x,f=d.y,h=c.b,m=c.i,p=0,p=d.b/h,t=d.i/m,p=p<=t?p:t,e=e-c.x*p,f=f+c.y*p,
e=e+(d.b-h*p)/2,f=f+(d.i-(d.i-m*p)/2);return new a.Da(p,0,0,-p,e,f)};A.wm=function(a){return Math.PI/180*a};A.XV=function(a){return 180/Math.PI*a};A.fab=function(c,d,e){var f;c/=10;d/=10;switch(e){case "africa":f=A.vG(A.Mza,new a.P(c,d));f=A.d0(f.x,f.y);break;case "asia":f=A.vG(A.Pza,new a.P(c,d),A.wm(5));f=A.h$(40,95,20,60,f.x,f.y);break;case "australia":f=A.CWa(c,d);break;case "europe":f=A.vG(A.fAa,new a.P(c,d),A.wm(10));f=A.h$(35,25,40,65,f.x,f.y);break;case "northAmerica":f=A.vG(A.yAa,new a.P(c,
d));f=A.h$(23,-96,20,60,f.x,f.y);break;case "southAmerica":f=A.vG(A.GAa,new a.P(c,d),A.wm(5));break;case "apac":f=A.vG(A.Oza,new a.P(c,d));f=A.d0(f.x,f.y);break;case "emea":f=A.vG(A.eAa,new a.P(c,d));f=A.d0(f.x,f.y);break;case "latinAmerica":f=A.vG(A.tAa,new a.P(c,d));break;case "usaAndCanada":f=A.vG(A.LAa,new a.P(c,d));f=A.h$(23,-96,20,60,f.x,f.y);break;case "worldRegions":f=A.gDa(c,d);break;case "usa":f=A.FWa(c,d);break;case "world":f=A.gDa(c,d)}return f?f:new a.P(c,d)};A.FWa=function(c,d){var e;
return A.xha.hf(c,d)?(e=A.vv(A.Nza,A.xha),e.mC(),e=e.xm(new a.P(c,d)),A.d0(e.x,e.y)):A.qia.hf(c,d)?(e=A.vv(A.nAa,A.qia),e.mC(),e.xm(new a.P(c,d))):A.Mw.hf(c,d)?(e=A.vv(A.KAa,A.Mw),e.mC(),e=e.xm(new a.P(c,d)),A.DWa(new a.P(-95,36),e.x,e.y)):new a.P(c,d)};A.gDa=function(c,d){var e=A.vv(A.MAa,A.Mw);e.mC();e=e.xm(new a.P(c,d));return A.EWa(e.x,e.y)};A.CWa=function(c,d){var e;e=A.Eia.hf(c,d)?A.vv(A.Dia,A.Eia):A.vv(A.Rza,A.Mw);e.mC();e=e.xm(new a.P(c,d));return A.d0(e.x,e.y)};A.vG=function(c,d,e){c=A.vv(c,
A.Mw);if(e){var f=new a.Da;f.rotate(e);c=A.MBa(c,f)}c.mC();return c.xm(d)};A.h$=function(c,d,e,f,h,m){d=A.wm(d);c=A.wm(c);e=A.wm(e);f=A.wm(f);f=.5*(Math.sin(e)+Math.sin(f));e=Math.pow(Math.cos(e),2)+2*f*Math.sin(e);c=e-2*f*Math.sin(c);c=Math.sqrt(c)/f;var p=Math.sqrt(h*h+(c-m)*(c-m));return new a.P(A.XV(d+Math.atan(h/(c-m))/f),A.XV(Math.asin((e-p*p*f*f)/(2*f))))};A.d0=function(c,d){return new a.P(c,A.XV(2*Math.atan(Math.exp(A.wm(d)))-.5*Math.PI))};A.DWa=function(c,d,e){d/=A.zN;e/=A.zN;var f=A.wm(c.y),
h=Math.sqrt(d*d+e*e),m=Math.asin(h);return new a.P(A.XV(A.wm(c.x)+Math.atan(d*Math.sin(m)/(h*Math.cos(f)*Math.cos(m)-e*Math.sin(f)*Math.sin(m)))),A.XV(Math.asin(Math.cos(m)*Math.sin(f)+e*Math.sin(m)*Math.cos(f)/h)))};A.EWa=function(c,d){var e=Math.floor(Math.abs(d)/5);e>=A.us.length-1&&(e=A.us.length-2);var f=(Math.abs(d/180)-A.us[e][1])/(A.us[e+1][1]-A.us[e][1]),h=5*f+5*e,e=c/(A.us[e][0]+f*(A.us[e+1][0]-A.us[e][0]));0>d&&(h*=-1);return new a.P(e,h)};a.K(w,"getLayerIds",w.e3a);a.K(a,"ThematicMap",
a.kc);a.K(a.kc,"newInstance",a.kc.newInstance);a.K(a.kc.prototype,"updateLayer",a.kc.prototype.c9a);a.K(a.kc.prototype,"destroy",a.kc.prototype.Ec);a.K(a.kc.prototype,"getAutomation",a.kc.prototype.Bi);a.K(a.kc.prototype,"highlight",a.kc.prototype.Zd);a.K(a.kc.prototype,"processDefaultHoverEffect",a.kc.prototype.zy);a.K(a.kc.prototype,"processDefaultSelectionEffect",a.kc.prototype.OI);a.K(a.kc.prototype,"processDefaultFocusEffect",a.kc.prototype.vC);a.K(m.prototype,"getDomElementForSubId",m.prototype.Rh);
a.K(m.prototype,"getData",m.prototype.getData);var d={q$a:"DvtBaseMapManager",A$a:"_UNPROCESSED_MAPS",Y8:"type",qRa:"geometry",CQa:"coordinates",pRa:"features",dSa:"properties",NSa:"FeatureCollection",z$a:"GeometryCollection",MSa:"Feature",JAa:"Polygon",IAa:"MultiPolygon",oAa:"id",xSa:"shortLabel",DRa:"longLabel",Z5a:function(a,c){var e={},f={},h=c.geo,m=c.propertiesKeys||{};if(!m[d.oAa])throw Error("Missing required mapProvider.propertyKeys.id property.");var p=h[d.Y8];if(p===d.NSa)for(h=h[d.pRa],
p=0;p<h.length;p++)d.NEa(a,h[p],m,f,e);else if(p===d.MSa)d.NEa(h,m,f,e);else throw Error("GeoJSON type of "+p+" is not supported. Only Feature and FeatureCollection types are supported.");if(0===Object.keys(f).length)throw Error("No valid Features found in GeoJSON.");return{labels:e,areas:f}},NEa:function(a,c,e,f,h){var m=c[d.dSa];c=c[d.qRa];if(d.vXa(c)){var p=m[e[d.oAa]];if(p){a=m[e[d.xSa]];e=m[e[d.DRa]];if(a||e)h[p]=[a,e];f[p]=d.$Va(c)}else a.oj.Logger.warn("No 'id' value found in the mapProvider.propertiesKey object. A Feature's 'properties' object must have an id in the field specified by the mapProvider.propertiesKey.id value.")}else a.oj.Logger.warn("A geometry of type "+
c[d.Y8]+" is not supported and will be skipped.")},vXa:function(a){a=a[d.Y8];return a===d.JAa||a===d.IAa?!0:!1},$Va:function(a){var c="",e=a[d.Y8];a=a[d.CQa];if(e===d.JAa)c=d.PEa(a);else if(e===d.IAa)for(e=0;e<a.length;e++)c+=d.PEa(a[e]);return c},PEa:function(a){for(var c="",e=0;e<a.length;e++)c+=d.GXa(a[e]);return c},GXa:function(a){var c,d,e,f="M";if(a)for(var h=0;h<a.length;h++){var m=a[h],p=m[0],m=-m[1];if("M"===f)d=p,e=m,f="x",c="M"+p+" "+m;else{var t=p-d,u=m-e;if("l"==f){if(d==p){f="v";e=m;
c=c+f+u;continue}else if(e==m){f="h";d=p;c=c+f+t;continue}c=c+" "+t+" "+u}else f="l",c=c+"l"+t+" "+u;d=p;e=m}}return c+"Z"},eK:function(a,c){for(var d=c;d<a.length;d++){var e=a[d];if("-"!==e&&(isNaN(e)||" "===e)){var f=null;" "!==e&&(f=e);return{ZH:parseInt(a.substring(c,d)),AJa:d,Oaa:f}}}return{}},G$a:function(a){var c=[],e=0,f=0,h=a[0];if(a)for(var m=[],p=1;p<a.length;p++){var t=d.eK(a,p),u=null,p=t.AJa;"v"!==h&&"h"!==h?(u=d.eK(a,++p),p=u.AJa,e+=t.ZH,f+=u.ZH):"v"===h?f+=t.ZH:"h"===h&&(e+=t.ZH);
m.push([e,-f]);u?null!=u.Oaa&&(h=u.Oaa):null!=t.Oaa&&(h=t.Oaa);"Z"===h&&(c.push(m),m=[],h=a[++p])}return c}}})(dvt);
// To avoid changing the basemaps, which each call the basemap manager, we will
// put the basemap manager onto the returned object. We'll only do this if it's
// not defined, since in min/min-debug mode, the non-exported version is on the window.
if(!dvt['DvtBaseMapManager'])
  dvt['DvtBaseMapManager'] = DvtBaseMapManager;

  return dvt;
});
