/**
 * Copyright (c) 2014, 2017, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
/*
 Copyright 2013 jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
*/
define(["ojs/ojcore","jquery","ojs/ojeditablevalue"],function(a,g){(function(){a.ib("oj.ojSwitch",g.oj.editableValue,{version:"1.1.0",defaultElement:"\x3cinput\x3e",widgetEventPrefix:"oj",options:{disabled:!1,readOnly:!1,value:!1},widget:function(){return this.Jn},getNodeBySubId:function(a){var b=this._super(a),d=this.widget();return b||(b=null==a||null==a.subId?d:null,b||(a=a.subId,"oj-switch-thumb"!==a&&"oj-switch-track"!==a))?b||null:d.find("."+a)[0]},getSubIdByNode:function(a){var b=g(this.element).attr("id"),
d,e=this._super(a);null!=a&&(g(a).hasClass("oj-switch-track")||g(a).hasClass("oj-switch-thumb"))&&(d=g(a).parents("div.oj-switch").find("input.oj-component-initnode").attr("id"),b===d&&g(a).hasClass("oj-switch-track")?e={subId:"oj-switch-track"}:b===d&&g(a).hasClass("oj-switch-thumb")&&(e={subId:"oj-switch-thumb"}));return e},bb:{XBa:"SwitchOFF",YBa:"SwitchON"},rh:function(c,b){var d;d=[{wa:"disabled",ef:!0},{wa:"readonly",option:"readOnly",ef:!0},{wa:"checked",option:"value",ef:!1,Pj:function(a){return a?
!0:!1}},{wa:"title"}];this._super(c,b);this.Y()||(a.ia.Ur(d,b,this),d=this.option("value"),this.option({value:!!d},{_context:{gd:!0,ob:!0}}))},qc:function(){this._super();if(!this.element.is("input"))throw Error("ojSwitch can be bound to INPUT only.");this.Dka=this.element.css("display");this.element.css("display","none").attr("type","checkbox").attr("checked",this.option("value")).attr("tabindex","-1").attr("disabled",this.option("disabled")).attr("readonly",this.option("readOnly"));this.Jn=this.Fc?
g(this.Fc):this.element.wrap("\x3cdiv\x3e\x3c/div\x3e").parent();this.Jn.addClass("oj-switch oj-component oj-form-control");this.Jn.append("\x3cdiv class\x3d'oj-switch-container'\x3e\x3cdiv class\x3d'oj-switch-track'\x3e\x3cdiv class\x3d'oj-switch-thumb' tabIndex\x3d'0'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");this.kq=this.Jn.find(".oj-switch-thumb");this.kq.attr("role","switch checkbox")},Df:function(){this._super();this.$Ba(this.kq)},$Ba:function(c){var b;b=this.Fc?this.Jn[0]:this.Jn[0].querySelector("input");
var d;if(this.Y())d=this.uuid+"_Label",d=a.ia.hL(this.widget(),d);else{var e=this.ky();e&&(d=e.attr("id"))}if(d)c.attr("aria-labelledby",d);else if(d=b.getAttribute("aria-label"))c.attr("aria-label",d),b.removeAttr("aria-label")},sb:function(){var a=g(this.widget());this.zp();if(void 0!==a){this.element.attr("checked",this.option("value"));a.removeClass("oj-disabled oj-read-only oj-selected oj-hover oj-active");g(this.kq).attr("tabindex","0");g(this.kq).html("");if(this.option("disabled")||this.option("readOnly"))this.option("disabled")?
a.addClass("oj-disabled"):(a.addClass("oj-read-only"),g(this.kq).html(this.DTa())),g(this.kq).removeAttr("tabindex");this.option("value")&&a.addClass("oj-selected");g(this.kq).attr("aria-checked",this.option("value"));g(this.kq).removeAttr("aria-disabled");a.removeAttr("aria-disabled");this.uq()||g(this.kq).attr("aria-disabled","true")}},DTa:function(){var a=this.bb.XBa;this.option("value")&&(a=this.bb.YBa);return this.R(a)},zp:function(){this._off(this.Jn,"keydown keyup mousedown mouseup mouseleave mouseenter touchstart touchend");
this.uq()&&(this._on(this.Jn,this.wUa),this.rg(this.Jn));this._focusable({element:this.kq,applyHighlight:!0})},wUa:{keydown:function(a){if(a.which===g.ui.keyCode.ENTER||a.which===g.ui.keyCode.SPACE)g(a.currentTarget).addClass("oj-active"),a.preventDefault()},keyup:function(a){a.which!==g.ui.keyCode.ENTER&&a.which!==g.ui.keyCode.SPACE||this.jc(!this.option("value"),a)},mousedown:function(a){1===a.which&&(g(a.currentTarget).addClass("oj-active"),a.preventDefault())},mouseup:function(a){1===a.which&&
this.jc(!this.option("value"),a)},mouseleave:function(a){1===a.which&&g(a.currentTarget).removeClass("oj-active")},mouseenter:function(a){1===a.which&&g(a.currentTarget).addClass("oj-active")},touchstart:function(a){g(a.currentTarget).addClass("oj-active");a.preventDefault()},touchend:function(a){this.jc(!this.option("value"),a)}},_GetDefaultStyleClass:function(){return"oj-switch"},uq:function(){return this._super()?this.options.readOnly?!1:!0:!1},l3a:function(){return"switch checkbox"},_destroy:function(){this.uq()&&
this.vy(this.Jn);this.Jn.find(".oj-switch-track").remove();a.T.unwrap(this.element);this.$B(this.element);return this._super()},_GetMessagingLauncherElement:function(){return this.Jn},ve:function(){return this.kq},Hs:function(c,b,d){this._superApply(arguments);switch(c){case "readOnly":this.KB(c,a.ia.jM)}},_setOption:function(a,b,d){switch(a){case "disabled":case "readOnly":case "value":b=!!b;break}this._super(a,b,d)},Hq:function(a,b,d){this._superApply(arguments);this.sb()}})})();a.J.$a("oj-switch",
"editableValue",{properties:{value:{type:"boolean",writeback:!0},readonly:{type:"boolean"}},methods:{},extension:{Gs:{readonly:"readOnly"},rj:"input",Ya:"ojSwitch"}});a.J.register("oj-switch",{metadata:a.J.getMetadata("oj-switch")})});