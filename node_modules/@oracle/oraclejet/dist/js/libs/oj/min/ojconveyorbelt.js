/**
 * Copyright (c) 2014, 2017, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","ojs/ojcomponentcore"],function(a,g){function c(a,c,e,f,g,k,l,m){this.If=a;this.YPa=c;this.sC=e;this.JO=f;g&&(g.N_a&&(this.pQa=g.N_a),g.x_a&&(this.GPa=g.x_a),g.zva&&(this.qQa=g.zva),g.hva&&(this.HPa=g.hva),g.yva&&(this.oQa=g.yva),g.gva&&(this.FPa=g.gva));k&&(k.$va&&(this.hoa=k.$va),k.yXa&&(this.X_=k.yXa),k.rWa&&(this.Jy=k.rWa),k.Nl&&(this.CO=k.Nl),k.dm&&(this.YR=k.dm),k.IK&&(this.Kq=k.IK),k.mM&&(this.rr=k.mM),k.Hta&&(this.EQ=k.Hta),k.Sra&&(this.N_=k.Sra),k.Mg&&(this.ZD=
k.Mg),k.pd&&(this.YD=k.pd),k.ad&&(this.Wo=k.ad));l&&(l.sva&&(this.zma=l.sva),l.rra&&(this.cfa=l.rra),l.fua&&(this.uz=l.fua),l.Kta&&(this.gD=l.Kta));this.HO=!0;this.MC=0;m&&(this.yda=m.browserVersion);a=navigator.userAgent.toLowerCase();if(-1!==a.indexOf("gecko/"))this.VDa=!0;else if(-1!==a.indexOf("opera"))this.WDa=!0;else if(m&&"safari"===m.browser)this.Lda=!0;else if(!m||"edge"!==m.browser)if(-1!==a.indexOf("applewebkit")||-1!==a.indexOf("safari"))this.XDa=!0}c.prototype.hq=function(a){var d=this;
if(a){this.XFa();this.hGa(this.pQa,this.qQa,this.oQa);this.aGa(this.GPa,this.HPa,this.FPa);var e=this.Fl;this.bea=e.offsetWidth;this.aea=e.offsetHeight;this.LQ();this.JQ();this.rJ=function(a){d.nMa(a)};c.Zs(this.If,"mousewheel",this.rJ);c.Zs(this.If,"wheel",this.rJ);this.o5=function(a){d.a2(a)};c.Zs(this.Gh,"touchstart",this.o5);this.n5=function(a){d.Z1(a)};c.Zs(this.Gh,"touchmove",this.n5);this.uK=function(a){d.X1(a)};c.Zs(this.Gh,"touchend",this.uK);c.Zs(this.Gh,"touchcancel",this.uK);this.t3=0}else this.nna();
this.JZ();this.tda(a);this.Dh(!0);a&&(this.CO&&(this.Bl=function(){d.Dh(!1)},this.CO.call(this.Jy,this.If,this.Bl),this.CO.call(this.Jy,this.Km,this.Bl)),this.YD&&this.YD(this.Km))};c.prototype.destroy=function(){this.qf();var a=this.If;c.Oz(a,"mousewheel",this.rJ);c.Oz(a,"wheel",this.rJ);c.Oz(this.Gh,"touchstart",this.o5);c.Oz(this.Gh,"touchmove",this.n5);c.Oz(this.Gh,"touchend",this.uK);c.Oz(this.Gh,"touchcancel",this.uK);c.Oz(this.Gh,"scroll",this.m4);this.m4=this.uK=this.n5=this.o5=this.rJ=null;
this.YR&&this.Bl&&(this.YR.call(this.Jy,a,this.Bl),this.YR.call(this.Jy,this.Km,this.Bl));this.Bl=null;this.fSa(this.Km,a);a.removeChild(this.Gh);a.removeChild(this.Fl);a.removeChild(this.Ae);this.Km=this.Gh=this.Ae=this.Fl=null;this.JZ();this.sC=this.Jy=this.Wo=this.YD=this.ZD=this.N_=this.EQ=this.rr=this.Kq=this.YR=this.CO=this.X_=this.hoa=this.If=null};c.prototype.XE=function(){this.Dh(!1)};c.prototype.R0a=function(a){this.Uz(a,!0)};c.prototype.jYa=function(){return this.Ak()};c.prototype.gSa=
function(a,c){for(var e=a.childNodes;0<e.length;){var f=e[0];this.ZD&&this.ZD(f);c.appendChild(f);1===f.nodeType&&this.uz&&this.Kq(f,this.uz)}};c.prototype.fSa=function(a,c){if(a)for(var e=a.childNodes;0<e.length;){var f=e[0];c.appendChild(f);1===f.nodeType&&this.uz&&this.rr(f,this.uz)}};c.iI=function(a){var c=a.ownerDocument.defaultView,e=null;return e=c?c.getComputedStyle(a,null):a.currentStyle};c.aJa=function(a){a=c.iI(a);return c.Ch(a.width)};c.$Ia=function(a){a=c.iI(a);return c.Ch(a.height)};
c.Ch=function(a){return 0<a.length&&"auto"!=a?(a=parseInt(a,10),isNaN(a)&&(a=0),a):0};c.Zs=function(a,c,e){a.addEventListener?a.addEventListener(c,e,!1):a.attachEvent&&a.attachEvent("on"+c,e)};c.Oz=function(a,c,e){a.removeEventListener?a.removeEventListener(c,e,!1):a.detachEvent&&a.detachEvent("on"+c,e)};c.CKa=function(a){var c=0;return c=null!=a.wheelDelta?a.wheelDelta:null!=a.deltaY?-a.deltaY:-a.detail};c.v2a=function(){var a=document.createElement("div");a.style.display="table";return a};c.w2a=
function(){var a=document.createElement("div");a.style.display="table-row";return a};c.u2a=function(){var a=document.createElement("div");a.style.display="table-cell";return a};c.q3a=function(a,c,e,f){var g=document.createElement("div"),k=g.style;k.display="inline-block";g.appendChild(a);c.appendChild(g);e&&(k.maxWidth=g.offsetWidth+"px");f&&(k.maxHeight=g.offsetHeight+"px");return g};c.prototype.oe=function(){return"horizontal"===this.YPa};c.prototype.$Na=function(){return!this.vha().hasChildNodes()};
c.prototype.nna=function(){this.t3=this.Ak();this.D4(0);this.LQ();this.JQ()};c.prototype.JZ=function(){this.CS=this.ah=null};c.prototype.Dh=function(a){a||this.nna();this.JZ();this.ah&&this.CS||(this.ah=this.Ula());a||this.tda(!1);this.yDa()};c.prototype.yDa=function(){var a=this.Fl.style,c=this.Ae.style,e=this.Km,f=this.ah;this.oe()?(e=.5*(f.Sl-e.offsetHeight),a.top=e+"px",c.top=e+"px"):(e=.5*(f.gk-e.offsetWidth),this.JO&&(e=-e),a.left=e+"px",c.left=e+"px")};c.prototype.tda=function(a){var d=this.Km,
e=this.oe(),f=e?c.aJa(this.If):c.$Ia(this.If);this.pJ=0;this.nJ=e?d.offsetWidth-f+this.bea:d.offsetHeight-f+this.aea;0>this.nJ&&(this.nJ=0);this.LQ();this.JQ();this.Uz(a?this.pJ:this.t3,!0);this.t3=0};c.prototype.XFa=function(){var a=this,d=this.If,e=document.createElement("div");this.Gh=e;this.zma&&this.Kq(e,this.zma);var f=document.createElement("div");this.Km=f;this.cfa&&this.Kq(f,this.cfa);this.gSa(d,f);d.appendChild(e);e.appendChild(f);this.m4=function(){a.zMa()};c.Zs(e,"scroll",this.m4)};c.prototype.OIa=
function(){for(var a=[],c=this.sC?this.sC:this.Km,e=c.children,f=e.length,g=0;g<f;g++){var k=e[g];1===k.nodeType&&a.push(k)}this.N_&&(g=this.N_,a=g(a));if(c===this.Km&&this.uz)for(g=0;g<a.length;g++)c=a[g],this.EQ(c,this.uz)||this.Kq(c,this.uz);return a};c.prototype.hGa=function(a,d,e){var f=this,g=document.createElement("div");this.Ae=g;a&&g.setAttribute("id",a);g.setAttribute("class",d);g.setAttribute("aria-hidden","true");c.Zs(g,"click",function(){f.joa()});e&&g.appendChild(e);this.If.insertBefore(g,
this.Gh)};c.prototype.aGa=function(a,d,e){var f=this,g=document.createElement("div");this.Fl=g;a&&g.setAttribute("id",a);g.setAttribute("class",d);g.setAttribute("aria-hidden","true");c.Zs(g,"click",function(){f.ioa()});e&&g.appendChild(e);this.If.appendChild(g)};c.prototype.vha=function(){var a=this.sC;a||(a=this.Km);return a};c.prototype.Ula=function(){var a=this.vha(),c=this.OIa(),e={gk:0,Sl:0},f=[];if(a.hasChildNodes()&&c&&0<c.length)for(var a=this.oe(),g=0,g=this.Km.offsetWidth,k=0,l=null,m=
0;m<c.length;m++){var p=c[m];if(1===p.nodeType){var t=p.offsetWidth,r=p.offsetHeight,n={gk:t,Sl:r,id:p.id};if(a){var q=p.offsetLeft;this.sC||0!==q||(p=p.parentNode,q=p.offsetLeft);n.start=this.JO?g-(q+t):q;0===m&&(k=n.start);n.start-=k;e.gk=n.start+t;e.Sl=Math.max(e.Sl,r);n.end=e.gk-1}else q=p.offsetTop,this.sC||0!==q||(p=p.parentNode,q=p.offsetTop),n.start=q,e.gk=Math.max(e.gk,t),e.Sl=n.start+r,n.end=e.Sl-1;l&&l.end>=n.start&&(t=l.end-(n.start-1),l.end-=t,a?l.gk-=t:l.Sl-=t);f.push(n);l=n}}this.CS=
f;return e};c.prototype.cD=function(){if(!this.CS){var a=this.Ula();this.ah||(this.ah=a)}return this.CS};c.prototype.fUa=function(){this.rr(this.Fl,this.gD)};c.prototype.gUa=function(){this.rr(this.Ae,this.gD)};c.prototype.JQ=function(){this.Kq(this.Fl,this.gD)};c.prototype.LQ=function(){this.Kq(this.Ae,this.gD)};c.prototype.nD=function(){return!this.EQ(this.Fl,this.gD)};c.prototype.cJ=function(){return!this.EQ(this.Ae,this.gD)};c.prototype.d0=function(){return this.oe()?this.bea:this.aea};c.prototype.fVa=
function(a){var c=this.d0(),e=this.Ak(),f=this.xR();a<=this.pJ?(this.cJ()&&(e-=c),this.LQ()):f&&(this.cJ()||(e+=c),this.gUa());a>=this.nJ?(this.nD(),this.JQ()):f&&(this.nD(),this.fUa());this.D4(e)};c.prototype.D4=function(a){var c=this.Gh;this.oe()?c.scrollLeft=this.VZ(a):c.scrollTop=a};c.prototype.lI=function(){var a=this.Gh;return this.oe()?a.offsetWidth:a.offsetHeight};c.prototype.Uz=function(a,c){this.lv||(this.HO=!1,this.zoa(a,c))};c.prototype.zoa=function(a,d){if(!this.$Na()){this.lv=!0;a=this.tFa(a);
this.fVa(a);var e=this.hoa;if(d||!e||a===this.Ak())this.rma(this.HO?this.Ak():a);else{this.Wo&&(this.rl=this.Wo("scrolling"));var f=this;e.call(this.Jy,this.Gh,this.VZ(a),Math.abs(this.Ak()-a)/c.GBa,function(){f.rma(a);f.qf()})}}};c.prototype.qf=function(){this.rl&&(this.rl(),this.rl=null)};c.prototype.Ak=function(){var a=this.Gh;return this.oe()?this.BFa(a.scrollLeft):a.scrollTop};c.prototype.xR=function(){var a=this.Km,c=this.Gh;return this.oe()?a.offsetWidth>c.offsetWidth:a.offsetHeight>c.offsetHeight};
c.prototype.tFa=function(a){!this.xR()||a<this.pJ?a=this.pJ:a>this.nJ&&(a=this.nJ);return a};c.prototype.nMa=function(a){var d=this.lv;if(this.xR()&&!this.lv){var e=c.CKa(a);0>e&&this.nD()?(d=!0,this.ioa()):0<e&&this.cJ()&&(d=!0,this.joa())}d&&(a.preventDefault(),a.stopPropagation())};c.prototype.a2=function(a){a=a.touches;this.xR()&&!this.lv&&1===a.length&&(this.Hn=!0,a=a[0],this.HS=this.oe()?a.pageX:a.pageY,this.p5=this.Ak(),this.OUa=this.lea(),this.PUa=this.mea(),this.hqa=this.nD(),this.iqa=this.cJ())};
c.prototype.Z1=function(a){var d=this.oe(),e=a.touches[0],e=(d?e.pageX:e.pageY)-this.HS,f=d&&this.JO?0<e:0>e,g=f&&this.hqa||!f&&this.iqa;if(this.Hn&&g){g=this.Gh;if(Math.abs(e)<c.WBa*(d?g.offsetWidth:g.offsetHeight)){if(this.Uz(this.p5-e,!0),this.hqa&&!this.nD()||this.iqa&&!this.cJ())this.Hn=!1}else this.Uz(f?this.OUa:this.PUa,!1),this.Hn=!1;this.Tz=!0}this.Tz&&(a.preventDefault(),a.stopPropagation())};c.prototype.X1=function(){this.Hn&&this.Uz(this.p5,!1);this.Tz=this.Hn=!1};c.prototype.zMa=function(){this.HO&&
!this.lv&&this.zoa(this.Ak(),!0)};c.prototype.rma=function(a){this.D4(a);this.HO=!0;this.lv=!1;if(this.X_){this.MC=this.jea();a=this.kea();var c=this.cD(),e=c[this.MC];this.MC!==a&&this.Ak()>e.start&&this.MC<c.length-2&&(this.MC++,e=c[this.MC]);this.hIa=e.id;this.X_.call(this.Jy,this.hIa)}};c.prototype.ioa=function(){this.lv||this.Uz(this.lea(),!1)};c.prototype.joa=function(){this.lv||this.Uz(this.mea(),!1)};c.prototype.lea=function(){var a=this.qEa(),c=0;return c=a===this.jea()?this.Ak()+this.lI():
this.sEa(a)};c.prototype.mea=function(){var a=this.rEa(),c=0,c=a===this.kea()?this.Ak()-this.lI():this.pEa(a);this.nD()||(c+=this.d0());c<this.d0()&&(c=this.pJ);return c};c.prototype.sEa=function(a){return this.cD()[a].start};c.prototype.pEa=function(a){return this.cD()[a].end-this.lI()+1};c.prototype.jea=function(){var a=this.MO(this.Ak());return 0>a?0:a};c.prototype.kea=function(){var a=this.MO(this.Ak()+this.lI()-1),c=this.cD();return 0>a?c.length-1:a};c.prototype.rEa=function(){var a=this.MO(this.Ak()-
1);return 0>a?0:a};c.prototype.qEa=function(){var a=this.MO(this.Ak()+this.lI()),c=this.cD();return 0>a?c.length-1:a};c.prototype.MO=function(a){for(var c=this.cD(),e=0;e<c.length;e++)if(a<=c[e].end)return e;return-1};c.prototype.VZ=function(a){var c=a;if(this.JO&&this.oe())if(this.VDa||this.Lda&&10<=this.yda)c=-a;else if(this.XDa||this.WDa||this.Lda&&10>this.yda)c=this.Km.offsetWidth-this.Gh.offsetWidth-a;return c};c.prototype.BFa=function(a){return this.VZ(a)};c.GBa=1.1;c.WBa=.33;(function(){a.ib("oj.ojConveyorBelt",
g.oj.baseComponent,{defaultElement:"\x3cdiv\x3e",widgetEventPrefix:"oj",options:{orientation:"horizontal",contentParent:null},qc:function(){this._super();this.element.addClass("oj-conveyorbelt oj-component");this.options.disabled&&a.D.warn(b);this.sb(!0)},refresh:function(){this._super();var a="rtl"===this.Qc(),a=this.wj!=a,b;a||(b=this.Oq.jYa());this.s_();this.sb(!0);a||this.Oq.R0a(b)},Cq:function(){this._super();this.Lf?this.sb(this.Lf[0]):this.Oq&&this.Oq.XE()},Dn:function(){this._super();this.Lf?
this.sb(this.Lf[0]):this.Oq&&this.Oq.XE()},sb:function(b){var f=this,h=this.element,k=this.options,l=k.orientation;"vertical"===l?h.addClass("oj-conveyorbelt-vertical"):h.removeClass("oj-conveyorbelt-vertical");if(this.oH()){this.Lf=null;this.wj="rtl"===this.Qc();if(b&&!this.Oq){var m=null,p=null,t=null,r=null,n=null;"vertical"!==l?(m="oj-enabled oj-conveyorbelt-overflow-indicator oj-start oj-default",p="oj-enabled oj-conveyorbelt-overflow-indicator oj-end oj-default",t=this.aP("oj-conveyorbelt-overflow-icon oj-start"),
r=this.aP("oj-conveyorbelt-overflow-icon oj-end"),n=this.CDa):(m="oj-enabled oj-conveyorbelt-overflow-indicator oj-top oj-default",p="oj-enabled oj-conveyorbelt-overflow-indicator oj-bottom oj-default",t=this.aP("oj-conveyorbelt-overflow-icon oj-top"),r=this.aP("oj-conveyorbelt-overflow-icon oj-bottom"),n=this.DDa);var q={};q.zva=m;q.hva=p;q.yva=t;q.gva=r;m={Nl:function(b,c){a.T.Nl(b,c,d)}};m.dm=a.T.dm;m.IK=this.lDa;m.mM=this.PRa;m.Hta=this.e2;m.Sra=function(a){return f.ZHa(a)};m.Mg=a.Components.Mg;
m.pd=a.Components.pd;m.ad=function(a){return f.Xh(a)};"enabled"!==a.sa.L6()&&(m.$va=n);n=null;k.contentParent&&(n=g(k.contentParent)[0]);k=a.Wa.fo(navigator.userAgent);this.Oq=new c(h[0],l,n,this.wj,q,m,{sva:"oj-conveyorbelt-overflow-container",rra:"oj-conveyorbelt-content-container",fua:"oj-conveyorbelt-item",Kta:"oj-helper-hidden"},k)}this.Oq.hq(b);if(b)for(b=h.find(".oj-conveyorbelt-overflow-indicator"),h=0;h<b.length;h++)this.STa(g(b[h]))}else h=!1,this.Lf&&(h=this.Lf[0]),this.Lf=[b||h]},_destroy:function(){this.s_();
this.element.removeClass("oj-conveyorbelt oj-component oj-conveyorbelt-vertical");this._super()},_setOption:function(c,d,g){var k=!1,l=this.options;switch(c){case "containerParent":case "orientation":k=l.orientation!=d;break;case "disabled":a.D.warn(b)}k&&this.s_();this._super(c,d,g);k&&this.sb(!0)},s_:function(){var a=this.Oq;a&&(this.element.find(".oj-conveyorbelt-overflow-indicator").off(this.eventNamespace),a.destroy());this.Oq=null},oH:function(){var a=document.createElement("div"),b=a.style;
b.width="10px";b.height="10px";b["-webkit-flex"]="0 0 auto";b.flex="0 0 auto";b=this.element[0];b.appendChild(a);var c=!1;try{c=0<a.offsetWidth&&0<a.offsetHeight}catch(d){}b.removeChild(a);return c},STa:function(a){this.rg({element:a,afterToggle:function(b){"mouseenter"===b?a.removeClass("oj-default"):"mouseleave"===b&&a.addClass("oj-default")}});this.jl({element:a,afterToggle:function(b){"mousedown"===b||"touchstart"===b||"mouseenter"===b?a.removeClass("oj-default"):"mouseup"!==b&&"touchend"!==b&&
"touchcancel"!==b&&"mouseleave"!==b||a.addClass("oj-default")}})},aP:function(a){var b=document.createElement("span");b.setAttribute("class","oj-component-icon "+a);return b},CDa:function(a,b,c,d){var l={};l.scrollLeft=b;g(a).animate(l,c,"swing",d)},DDa:function(a,b,c,d){var l={};l.scrollTop=b;g(a).animate(l,c,"swing",d)},lDa:function(a,b){g(a).addClass(b)},PRa:function(a,b){g(a).removeClass(b)},e2:function(a,b){return g(a).hasClass(b)},ZHa:function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];
this.e2(d,"oj-helper-detect-expansion")||this.e2(d,"oj-helper-detect-contraction")||b.push(d)}return b},Xh:function(b){var c=this.element,d=a.Context.getContext(c[0]).md(),g="ConveyorBelt",c=c.attr("id"),g=g+(" (id\x3d'"+c+"')")+(": "+b);return d.ad({description:g})},getNodeBySubId:function(a){if(null==a)return this.element?this.element[0]:null;a=a.subId;return"oj-conveyorbelt-start-overflow-indicator"===a?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-start")[0]:"oj-conveyorbelt-end-overflow-indicator"===
a?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-end")[0]:"oj-conveyorbelt-top-overflow-indicator"===a?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-top")[0]:"oj-conveyorbelt-bottom-overflow-indicator"===a?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-bottom")[0]:null},getSubIdByNode:function(a){for(var b=this.getNodeBySubId({subId:"oj-conveyorbelt-start-overflow-indicator"}),c=this.getNodeBySubId({subId:"oj-conveyorbelt-end-overflow-indicator"}),d=this.getNodeBySubId({subId:"oj-conveyorbelt-top-overflow-indicator"}),
g=this.getNodeBySubId({subId:"oj-conveyorbelt-bottom-overflow-indicator"}),m=this.element[0];a&&a!=m;){if(a===b)return{subId:"oj-conveyorbelt-start-overflow-indicator"};if(a===c)return{subId:"oj-conveyorbelt-end-overflow-indicator"};if(a===d)return{subId:"oj-conveyorbelt-top-overflow-indicator"};if(a===g)return{subId:"oj-conveyorbelt-bottom-overflow-indicator"};a=a.parentElement}return null}});var b="JET ConveyorBelt: 'disabled' property not supported",d=25})();a.J.$a("oj-conveyor-belt","baseComponent",
{properties:{contentParent:{type:"string"},orientation:{type:"string",enumValues:["horizontal","vertical"]}},extension:{Ya:"ojConveyorBelt"}});a.J.register("oj-conveyor-belt",{metadata:a.J.getMetadata("oj-conveyor-belt")})});