/**
 * Copyright (c) 2014, 2017, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","hammerjs","ojs/ojjquery-hammer","promise","ojs/ojcomponentcore","ojs/ojvalidation-base","ojs/ojpopup","ojs/ojlabel","ojs/ojanimation"],function(a,g,c){a.ia={};o_("EditableValueUtils",a.ia,a);a.ia.Ng={exa:1,Q9:2,V9:3,Q$:4,R$:5,S$:6,sya:7,Pya:8,laa:9,naa:10,Vya:11};a.ia.C1a={du:!1,Ng:a.ia.Ng.laa};a.ia.CWa={cu:!0,Ng:a.ia.Ng.Q9};a.ia.kXa={cu:!0,Ng:a.ia.Ng.V9};a.ia.q0a={cu:!0,Ng:a.ia.Ng.S$};a.ia.jM={cu:!0,Ng:a.ia.Ng.Q$};a.ia.Jva={cu:!0,Ng:a.ia.Ng.R$};a.ia.H1a={cu:!0,Ng:a.ia.Ng.naa};
a.ia.R9="|label";a.ia.maa={Tya:"valid",Ixa:"invalid"};a.ia.HXa=function(a,c){var e,f,h={};if(a&&c)switch(c){case "disabled":e=void 0!==a.attr("disabled")?!!a.prop("disabled"):void 0;break;case "pattern":e=a.prop("pattern")||void 0;break;case "placeholder":e=a.prop("placeholder")||void 0;break;case "readonly":e=void 0!==a.attr("readonly")?!!a.prop("readonly"):void 0;break;case "required":e=a.attr("required");f=a.prop("required");e=void 0!==e?void 0!==f?!!f:!!e:void 0;break;case "title":e=void 0!==
a.attr("title")?a.prop("title"):void 0;break;case "value":e=a.val()||void 0;break;default:e=a.attr(c)||void 0}void 0!==e?(h.Zra=!0,h.value=e):h.Zra=!1;return h};a.ia.Ur=function(b,c,e,f){for(var h={},k=0;k<b.length;k++){var g,m=b[k];g=m.wa;var p=m.option||g,t=m.Pj,m=m.ef,r=e.element,n=e.options[p];void 0===c[p]&&(n=e.options[p],g=a.ia.HXa(r,g),g.Zra&&(g=g.value,t&&("boolean"===typeof t?g=a.ia.yWa(p,g):"function"===typeof t&&(g=t.call(e,g))),h[p]=g));t=p in h?h[p]:n;m&&"boolean"===typeof m&&a.ia.E1a(p,
t)}null!=f&&f(h);e.option(h,{_context:{gd:!0,ob:!0}})};a.ia.E1a=function(a,c){var e=!1;switch(a){case "required":null!==c&&"boolean"!==typeof c&&(e=!0);break;case "readOnly":case "disabled":null!==c&&"boolean"!==typeof c&&(e=!0)}if(e)throw"Option '"+a+"' has invalid value set: "+c;};a.ia.yWa=function(a,c){var e=c;switch(a){case "required":e=c?!0:!1}return e};a.ia.e9=function(a,c){if(a&&c){var e=c["class"];e&&a.addClass(e);if(e=c.style){var f=a.attr("style");f?a.attr("style",f+";"+e):a.attr("style",
e)}}};a.ia.hL=function(b,c){var e,f,h;e=b[0].id;f=b.siblings("[for\x3d'"+e+"']");if(e=0===f.length?document.querySelector("oj-label[for\x3d'"+e+"']"):f[0]){if(f=e.getAttribute("label-id"))return f;if(f=e.id)return f+a.ia.R9;(f=e.querySelector("label"))&&(h=f.id);if(h)return h;if(c)return e.setAttribute("label-id",c),c}return null};a.ia.validate=function(){return this.Y()?Promise.resolve(this.Fn()?a.ia.maa.Tya:a.ia.maa.Ixa):this.Fn()};a.ia.Fn=function(){return this.jc(this.Ki(),null,this.SG)};a.ia.h9=
function(a,c){a.setAttribute("id",c+"|input")};a.ia.Mj=function(b,c,e){var f=a.ia.R9;this.Y()&&(b&&(b+=f),c&&(c+=f),b&&a.ia.nRa(e,b),c&&a.ia.KCa(e,c))};a.ia.Be=function(a){var c,e=this.gy();this.fna("required",a);e||(c=this.ve(),a&&c?c.attr("aria-required",a):c.removeAttr("aria-required"));this.Y()||(this.Ec||this.ofa(),this.Ec&&(this.Ec.ojLabel("option","showRequired",a),e&&(c=this.yIa(this.element))&&(a?this.Ey(c+"_requiredIcon"):this.RJ(c+"_requiredIcon"))))};a.ia.sg=function(){this.Be(this.Li());
this.boa(a.ia.q0a)};a.ia.Ji=function(){var b=!1;this.dca();this.CQ()&&(b=!0);b&&(this.SO(),this.US(a.ia.H1a))};a.ia.Is=function(b){var c=!1;this.wy();this.CQ()&&(c=!0);c?(this.SO(),this.US(a.ia.CWa)):this.Hq(b,this.options[b],!0)};a.ia.wy=function(){this.vd=null;this.Fv().update(this.On(this.Em.P9))};a.ia.yq=function(){var b,c=!0,e=[],f,h,k,g;if(h=this.options.validators)for(b=0;b<h.length;b++)f=h[b],"object"===typeof f?(f.validate&&"function"===typeof f.validate||(c=!1),c||(g=f.type)&&"string"===
typeof g&&((k=a.Ma.kB(g))?(f=a.tc.Gd({},f.options)||{},f.converter=f.converter||this.zc(),f.label=f.label||this.D0(),f=k.createValidator(f)):a.D.error("Unable to locate a validatorFactory for the requested type: "+g)),e.push(f)):a.D.error("Unable to parse the validator provided:"+f);return e};a.ia.zc=function(){var b;this.vd||(b=this.options.converter,this.vd=a.Va.$K(b));return this.vd||null};a.ia.KCa=function(a,c){var e;a.each(function(){var a=g(this).attr("aria-labelledby"),a=a?a.split(/\s+/):[];
e=g.inArray(c,a);-1===e&&a.push(c);a=g.trim(a.join(" "));g(this).attr("aria-labelledBy",a)})};a.ia.nRa=function(a,c){var e;a.each(function(){var a,b;b=(e=g(this).attr("aria-labelledby"))?e.split(/\s+/):[];a=g.inArray(c,b);-1!==a&&b.splice(a,1);(e=g.trim(b.join(" ")))?g(this).attr("aria-labelledby",e):g(this).removeAttr("aria-labelledby")})};a.wb=function(a){this.Init(a)};a.Vb.pV(a.Vb.Zf.$M,a.wb);a.f.ya(a.wb,a.ae,"oj.PopupMessagingStrategy");a.wb.FN={ojRadioset:{position:"launcher",Jp:{open:"focusin mouseenter press",
close:"mouseleave"}},ojCheckboxset:{position:"launcher",Jp:{open:"focusin mouseenter press",close:"mouseleave"}},ojInputText:{position:"launcher",Jp:{open:"focusin"}},ojTextArea:{position:"launcher",Jp:{open:"focusin"}},ojInputPassword:{position:"launcher",Jp:{open:"focusin"}},ojSwitch:{position:"launcher",Jp:{open:"focusin mouseenter",close:"mouseleave"}},ojSlider:{position:"launcher",Jp:{open:"focusin mouseenter",close:"mouseleave"}},ojColorSpectrum:{position:"launcher",Jp:{open:"focusin mouseenter",
close:"mouseleave"}},ojColorPalette:{position:"launcher",Jp:{open:"focusin mouseenter",close:"mouseleave"}},"default":{position:"launcher-wrapper",Jp:{open:"focusin"}}};a.wb.dY="oj-form-control-hint";a.wb.HBa="oj-form-control-hint-converter";a.wb.JBa="oj-form-control-hint-validator";a.wb.IBa="oj-form-control-hint-title";a.wb.Mba=".ojPopupMessagingOpen";a.wb.Caa=".ojPopupMessagingClose";a.wb.prototype.Hw=function(b){a.wb.O.Hw.call(this,b);this.tNa()};a.wb.prototype.cB=function(b){a.wb.O.cB.call(this,
b);this.xqa()};a.wb.prototype.update=function(){a.wb.O.update.call(this);this.xqa()};a.wb.prototype.Lr=function(){this.YUa();this.OGa();a.wb.O.Lr.call(this)};a.wb.prototype.close=function(){this.OZ()};a.wb.prototype.OZ=function(){this.NR(function(a){this.rla()?(a&&this.qoa(this.Tf,"close",a),this.Tf.ojPopup("close")):a&&a(!0)}.bind(this))};a.wb.prototype.tNa=function(){this.s3||this.hRa()};a.wb.prototype.JCa=function(a){function c(a,b,d){var k=this.Ci();k&&k._trigger&&(b.stopPropagation(),k._trigger(a,
null,d)||b.preventDefault())}a.on("ojanimatestart.notewindow",c.bind(this,"animateStart"));a.on("ojanimateend.notewindow",c.bind(this,"animateEnd"))};a.wb.prototype.mRa=function(a){a.off("ojanimatestart.notewindow");a.off("ojanimateend.notewindow")};a.wb.prototype.nS=function(b){var c=this.Ci(),c=(c=c?c.element:null)?c[0]:null,e=a.Context.getContext(c).md(),f="The page is waiting for note window ";c&&c.id&&(f+='for "'+c.id+'" ');return e.ad({description:f+("to "+b)})};a.wb.prototype.qoa=function(a,
c,e){var f;1<this.xO&&(f=a.ojPopup("option","animation"),a.ojPopup("option","animation",null));var h=this.nS(c);a.one("oj"+c,function(){f&&a.ojPopup("option","animation",f);h();e(!0)})};a.wb.prototype.NR=function(a){if(this.Ci().Y()){var c=this,e=function(a){a=new Promise(a);a.then(function(){--c.xO});return a};this.xO?(++this.xO,this.Yca=this.Yca.then(function(){return e(a)})):(this.xO=1,this.Yca=e(a))}else a(null)};a.wb.prototype.vma=function(b){this.NR(function(c){var e,f;if(this.xEa()&&(f=this.Xda(),
!a.Xa.mo(f))){var h=this.Dia(),k=h.ojPopup("isOpen");e=a.Pe.h7(h);e.innerHTML="";e.innerHTML=f;if(k)k&&h.ojPopup("refresh");else{e=this.un();"press"===b.type&&this.VPa(e);c&&this.qoa(h,"open",c);h.ojPopup("open",e);return}}c&&c(!0)}.bind(this))};a.wb.prototype.VPa=function(a){this.QI=!0;a[0].addEventListener("click",this.zC,!0);a[0].addEventListener("change",this.zC,!0);a.one("touchend",function(){setTimeout(function(){this.QI=!1},50)})};a.wb.prototype.zC=function(a){this.QI&&(a.preventDefault(),
a.stopPropagation(),"click"===a.type&&(this.QI=!1))};a.wb.prototype.xEa=function(){var a=this.Ci().options,c=a.readOnly||!1;return!(a.disabled||c)};a.wb.prototype.xqa=function(){var b,c,e;c=!1;var f;this.rla()&&(f=this.Dia(),c=f.ojPopup("isOpen"),b=this.Xda(),e=this.un(),null!=e&&(e=document.activeElement===this.un()[0]?!0:!1,c?b?(c=a.Pe.h7(f),c.innerHTML="",c.innerHTML=b,f.ojPopup("refresh")):f.ojPopup("close"):e&&b&&this.vma(void 0)))};a.wb.prototype.YUa=function(){var b=this.un();b.off(a.wb.Mba);
b.off(a.wb.Caa);b[0].removeEventListener("click",this.zC,!0);b[0].removeEventListener("change",this.zC,!0);a.T.ie()&&(b.Lg().off("press"),b.Lg("destroy"),b.off("contextmenu",this.G_),this.QI=this.G_=null);this.Qea=this.s3=null};a.wb.prototype.hRa=function(){var b,d,e,f=this.un(),h;b=(b=a.wb.FN[this.Ci().widgetName])?b.Jp:a.wb.FN["default"].Jp;b.open&&(d=this.s3,d||(d=this.s3=this.vma.bind(this)),h=b.open.indexOf("press"),e=this.ria(b.open.replace("press",""),a.wb.Mba),f.on(e,d),a.T.ie()&&(this.G_=
function(){return!1},f.on("contextmenu",this.G_),-1!==h&&(e={recognizers:[[c.Press,{time:750}]]},f.Lg(e).on("press",d))));b.close&&(d=this.Qea,d||(d=this.Qea=this.OZ.bind(this)),b=this.ria(b.close,a.wb.Caa),f.on(b,d))};a.wb.prototype.ria=function(a,c){var e,f,h;if(""===a||""===c)return a;e=a.split(" ");h=e.length;f=[];for(var k=0;k<h;k++)e[k]&&f.push(e[k]+c);return f.join(" ")};a.wb.prototype.WJa=function(){var b,c;(b=(b=a.wb.FN[this.Ci().widgetName])?b.position:a.wb.FN["default"].position)&&("launcher"===
b?c=this.un():"launcher-wrapper"===b&&(c=this.un().parent()));c||(c=this.Ci().widget());return{my:"start bottom",at:"end top",collision:"flipcenter",of:c}};a.wb.prototype.Dia=function(){var b,c;if(this.Tf)return this.Tf;b=a.Pe.Ksa();c=this.WJa();b.ojPopup("option","position",c);b.ojPopup("option","beforeClose",this.hQa.bind(this));b.ojPopup("option","close",this.iQa.bind(this));b.ojPopup("option","open",this.jQa.bind(this));this.Ci().Y()?(c=(a.ic.Tc("oj-messaging-popup-option-defaults")||{}).animation,
c.actionPrefix="notewindow",b.ojPopup("option","animation",c),this.JCa(b)):b.ojPopup("option","animation",null);return this.Tf=b};a.wb.prototype.jQa=function(b){var c=g(b.target),e=this;window.setTimeout(function(){a.Components.Wr(c)?c.ojPopup("option","autoDismiss","focusLoss"):delete e.Tf},10)};a.wb.prototype.hQa=function(){this.qf=this.nS("close")};a.wb.prototype.iQa=function(b){var c;c=this.un();b=g(b.target);this.mRa(b);a.Components.Wr(b)&&(b.ojPopup("option","autoDismiss","none"),b.ojPopup("option",
"open",null),b.ojPopup("option","close",null),b.ojPopup("option","beforeClose",null));c&&c[0]&&(c[0].removeEventListener("click",this.zC,!0),c[0].removeEventListener("change",this.zC,!0));this.QI=this.Tf=null;g(a.Pe.h7(b)).empty();this.qf&&(this.qf(),this.qf=null)};a.wb.prototype.OGa=function(){this.OZ();a.Pe.jXa()};a.wb.prototype.Xda=function(){var b=!1,c=this.Ci().document[0],e=[],f="";this.eaa()&&e.push(this.fZ(c));(this.SW()||this.gaa()||this.faa())&&e.push(this.dEa(c));g.each(e,function(e,k){k&&
(b?f=f.concat(a.Rb.lYa(c)):b=!0,f=f.concat(k))});return f};a.wb.prototype.fZ=function(b){var c="",e=this.pW();this.xW()&&(c=this.qW(),c=a.Rb.Yqa(b,c,e,!1));return c};a.wb.prototype.dEa=function(b){var c;c=[];var e="",f;this.SW()&&(c=this.k$(),c=c.length?c[0]:"",e+=a.Rb.g6(b,a.wb.HBa,c,!1,a.wb.dY));if(this.gaa())for(c=this.Exa(),f=0;f<c.length;f++)e+=a.Rb.g6(b,a.wb.JBa,c[f],!1,a.wb.dY);this.faa()&&(e+=a.Rb.g6(b,a.wb.IBa,this.Dxa(),!0,a.wb.dY));return e?"\x3cdiv class\x3d'oj-form-control-hints'\x3e"+
e+"\x3c/div\x3e":""};a.wb.prototype.rla=function(){return this.Tf?a.Components.Wr(this.Tf):!1};a.Rb={};a.Rb.g6=function(b,c,e,f,h){var k;e&&(k=g(b.createElement("div")),k.addClass(h+(" "+c)),k.append(a.Rb.Yia(b,e,f)));return k?k.get(0).outerHTML:""};a.Rb.Zsa=function(b){var c;switch(b){case a.ua.sd.FATAL:c=a.va.R("oj-message.fatal");break;case a.ua.sd.ERROR:c=a.va.R("oj-message.error");break;case a.ua.sd.WARNING:c=a.va.R("oj-message.warning");break;case a.ua.sd.INFO:c=a.va.R("oj-message.info");break;
case a.ua.sd.CONFIRMATION:c=a.va.R("oj-message.confirmation")}return c};a.Rb.lYa=function(a){return(a=g(a.createElement("hr")))?a.get(0).outerHTML:""};a.Rb.Yqa=function(b,c,e,f){var h="",k,g,m=[],p={},t;for(g=0;g<c.length;g++)k=c[g],m=k instanceof a.ua?k:new a.ua(k.summary,k.detail,k.severity),t=a.ua.Uw(m.severity),p[t]||(p[t]=[]),p[t].push(m);for(g=e;g>=a.ua.sd.CONFIRMATION;g--)for(m=p[g]||[],c=0;c<m.length;c++)k=m[c],t=a.ua.Uw(k.severity),e=a.Rb.Zsa(t),e=k.summary||e,k=k.detail||"",h=h.concat(a.Rb.Xqa(b,
e,k,t,f));return h};a.Rb.Xqa=function(b,c,e,f,h){var k,l;l=a.Rb.Zsa(f);k=g(b.createElement("div"));k.addClass(a.Rb.KBa);h&&k.addClass(a.Rb.jKa(f));h=g(b.createElement("span"));h.addClass(a.Rb.iKa(f)).attr("title",l).attr("role","img");k.append(h);f=g(b.createElement("span"));f.addClass(a.Rb.NBa);l=g(b.createElement("div"));l.addClass(a.Rb.RBa).text(c);f.append(l);e&&(c=a.Rb.Yia(b,e,!0),b=g(b.createElement("div")),b.addClass(a.Rb.OBa).append(c),f.append(b));k.append(f);return k?k.get(0).outerHTML:
""};a.Rb.iKa=function(b){var c;switch(b){case a.ua.sd.FATAL:c=a.Rb.fca;break;case a.ua.sd.ERROR:c=a.Rb.fca;break;case a.ua.sd.WARNING:c=a.Rb.TBa;break;case a.ua.sd.INFO:c=a.Rb.QBa;break;case a.ua.sd.CONFIRMATION:c=a.Rb.MBa}return a.Rb.vza+c};a.Rb.jKa=function(b){switch(b){case a.ua.sd.FATAL:b=a.Rb.eca;break;case a.ua.sd.ERROR:b=a.Rb.eca;break;case a.ua.sd.WARNING:b=a.Rb.SBa;break;case a.ua.sd.INFO:b=a.Rb.PBa;break;default:b=a.Rb.LBa}return b};a.Rb.Yia=function(b,c,e){var f=null;a.Xa.Bd(c)&&(e&&a.T.PZa(c)?
f=a.T.uWa(c.substring(6,c.length-7)):(f=b.createElement("span"),f.textContent=c));return f};a.Rb.vza="oj-component-icon oj-message-status-icon ";a.Rb.KBa="oj-message";a.Rb.RBa="oj-message-summary";a.Rb.OBa="oj-message-detail";a.Rb.NBa="oj-message-content";a.Rb.fca="oj-message-error-icon";a.Rb.TBa="oj-message-warning-icon";a.Rb.QBa="oj-message-info-icon";a.Rb.MBa="oj-message-confirmation-icon";a.Rb.eca="oj-message-error";a.Rb.SBa="oj-message-warning";a.Rb.PBa="oj-message-info";a.Rb.LBa="oj-message-confirmation";
a.Pe={};a.Pe.Ksa=function(){var b=a.Pe.Cia(),c=b.find("."+a.Pe.eY);0===c.length?(c=g(a.Pe.VJa()).hide(),c.appendTo(b),c.ojPopup({initialFocus:"none",tail:"simple",autoDismiss:"none",modality:"modeless",animation:{open:null,close:null}})):c=g(c[0]);return c};a.Pe.h7=function(b){return b.find("."+a.Pe.gca)[0]};a.Pe.jXa=function(){var b;0<a.Pe.gJa()&&(b=a.Pe.Ksa(),b.ojPopup("destroy"),b.remove())};a.Pe.Cia=function(){var b=g("#"+a.Pe.Dba);if(0<b.length)return b;b=g("\x3cdiv\x3e");b.attr("id",a.Pe.Dba);
b.attr("role","presentation");b.appendTo(g(document.body));return b};a.Pe.gJa=function(){return a.Pe.Cia().find("."+a.Pe.eY).length};a.Pe.VJa=function(){return'\x3cdiv class\x3d"'+a.Pe.eY+'"\x3e\x3cdiv class\x3d"'+a.Pe.gca+'"\x3e\x3c/div\x3e\x3c/div\x3e'};a.Pe.gca="oj-messaging-popup-container";a.Pe.eY="oj-messaging-popup";a.Pe.Dba="__oj_messaging_popup_pool";a.ib("oj.editableValue",g.oj.baseComponent,{widgetEventPrefix:"oj",options:{describedBy:null,disabled:!1,displayOptions:void 0,help:{definition:null,
source:null},messagesCustom:void 0,messagesHidden:void 0,messagesShown:void 0,title:"",value:void 0,animateStart:null,animateEnd:null},getNodeBySubId:function(a){var c;c=this._super(a);c||this.Y()||(a=a.subId,"oj-label-help-icon"===a&&(a=this.ky())&&(c=a.parent().find(".oj-label-help-icon")));return c||null},getSubIdByNode:function(a){var c=null;null!=a&&(a=g(a),a=a.closest("a.oj-label-help-icon"),null!=a&&(a=a.closest(".oj-label"),null!=a&&(a=a.find("label")[0])&&a==this.ky()[0]&&(c={subId:"oj-label-help-icon"})));
return c},isValid:function(){void 0===this.O5&&(this.O5=this.yKa());return this.O5},refresh:function(){this._super();this.mga(!0)},reset:function(){this.QO();this.ZJ(this.Vo.sya);this.Q3(this.options.value,!0)},showMessages:function(){var b=[],c,e,f=this.options.messagesHidden,h=!1;for(c=0;c<f.length;c++)h=!0,e=f[c],e instanceof a.ff&&e.lIa(),e=new a.ua(e.summary,e.detail,e.severity),b.push(e);h&&(this.xH("messagesHidden"),this.TS("messagesShown",b))},TG:{c$:1,Uya:2,T$:3},Vo:a.ia.Ng,SG:a.ia.C1a,rh:function(a,
c){this._super(a,c);if(this.Y()){var e=this.options.help;null!=e&&(e=e.instruction,null!=e&&(this.options.title=e));var f=this.options.displayOptions;null!=f&&(e=f.helpInstruction,null!=e&&(f.title=e,this.options.displayOptions=f))}},qc:function(){var a=["required","title","pattern"],c=this.element,e=this.Yza(c);this._super();this.options.messagesCustom=this.options.messagesCustom||[];this.options.messagesHidden=[];this.options.messagesShown=0<this.options.messagesCustom.length?this.WEa(this.options.messagesCustom):
[];this.fY(c);this.$u()&&(this.gv(this.options.placeholder),this.j_=!0);if(e&&!this.Y()){var f=c[0].tagName.toLowerCase();"input"!==f&&"textarea"!==f||g.each(a,function(a,b){b in e&&c.removeAttr(b)})}},Df:function(){var a;this._super();this.mga(!1);this.Y()?(void 0===this.pA&&(this.pA=this.Aha()),this.pA&&g(this.pA).addClass(this._GetDefaultStyleClass()+"-label")):this.ofa();(a=this.options.describedBy)&&this.Ey(a);this.RQ();this.ZJ(this.Vo.exa);0<this.options.messagesShown.length&&this.gK("messagesShown",
this.options.messagesShown,null,!0);this.widget().addClass("oj-form-control")},NG:function(a){this.Y()||this.ZBa(a)},$B:function(a){this.Y()||this.FBa(a)},Hs:function(b,c){switch(b){case "disabled":this.KB(b,a.ia.kXa);break;case "displayOptions":if(this.Y()){var e=this.options.displayOptions;if(null!=e){var f=e.helpInstruction;null!=f&&(e.title=f,this.options.displayOptions=e)}}this.RQ();break;case "help":this.Y()||this.Hq(b,this.options[b]);this.Y()&&(this.options.title=this.options.help.instruction,
this.aqa());break;case "messagesCustom":this.mPa(c);break;case "placeholder":this.gQa(c);break;case "title":this.aqa();break;case "translations":this.refresh();break;case "value":this.aX(b,c)}},KB:function(a,c){var e=!this.options[a];this.Hq(a,this.options[a]);e&&this.boa(c)},aX:function(a,c){var e=c?c._context:null,f,h=!1;e&&(h=e.originalEvent?!0:!1,f=e.cu||!1);h||(f||this.QO(null),this.ZJ(this.Vo.Vya));this.Hq(a,this.options[a],!0)},uq:function(){return this.options.disabled?!1:!0},_destroy:function(){var b,
c,e=this._super();this.QO(null,!0);this.Fv().Lr();if(this.Ec)for(c=this.Ec.length,b=0;b<c;b++)this.Ec[b]&&null!=a.Components.ud(this.Ec[b])&&g(this.Ec[b]).ojLabel("destroy");return e},Focus:function(){this.ve().focus();return!0},_setOption:function(b,c,e){var f;f=!1;var h,k;if("string"===typeof b&&void 0!==c)switch(b){case "messagesHidden":f=!0;break;case "messagesShown":f=!0;break;case "rawValue":f=!0;break;case "describedBy":h=this.options.describedBy,k=c,h&&this.RJ(h),k&&this.Ey(k)}if(f)return a.D.error(b+
" option cannot be set"),this;f=this._superApply(arguments);this.Hs(b,e);return f},ve:function(){return this.element},ky:function(){var a;if(this.Ec)return this.Ec;a=this.c0(this.element);if(null!==a&&0!==a.length)return a;a=this.element.prop("id");if(void 0!==a&&(a=g("label[for\x3d'"+a+"']"),0!==a.length))return a;a=this.element.closest("[aria-labelledby]");return 0!==a.length&&(a=this.c0(a),null!==a&&0!==a.length)?a:null},Zu:function(){return this.element.val()},_GetMessagingLauncherElement:function(){return this.ve()},
zc:function(){return null},xG:function(){this.kka||(this.kka={});return this.kka},Ki:function(){return this.ve().val()},yq:function(){return[]},fba:function(){var a,c,e,f;if(!this.bH){a=[];e=this.xG();f=[];var h=Object.keys(e),k,g=h.length;if(0<g){for(c=0;c<g;c++)k=h[c],f.push(e[k]);a=a.concat(f)}c=this.yq();0<c.length&&(a=a.concat(c));this.bH=a}return this.bH||[]},dca:function(){this.bH&&(this.bH.length=0);this.bH=null;this.Fv().update(this.On(this.Em.oaa))},Li:function(){return!1},KN:function(a){var c=
this.Ki();this.jc(c,a)},Gm:function(a,c){var e={};e._context={originalEvent:c,gd:!0,ob:!0,readOnly:!0};this.kl("rawValue",this.options.rawValue,a)||this.option("rawValue",a,e)},Hq:function(a,c,e){switch(a){case "converter":c=this.options.value;this.Q3(c,e);break;case "disabled":this.fna("disabled",this.options.disabled);break;case "help":!this.Y()&&this.Ec&&(a=this.options.help.definition,c=this.options.help.source,this.Ec.ojLabel("option","help",{definition:a,source:c}),this.SQa());break;case "value":this.Q3(c,
e)}},Ro:function(){this._superApply(arguments);this.Fv().close()},uh:function(){this._superApply(arguments);this.Fv().close()},cY:function(){this.Ec&&this.Ec.ojLabel("refresh");this.vd=this.l2=null;this.dca()},xk:function(a){var c=this.ve();c.val()!==a&&c.val(a)},fY:function(a){"boolean"===typeof this.options.disabled&&a.prop("disabled",this.options.disabled)},gv:function(a){this.ve().attr("placeholder",a)},mca:function(a){this.options.placeholder=a},$u:function(){return this.options.placeholder},
Naa:function(){this.mca("");this.gv("")},jc:function(b,c,e){var f=e&&"boolean"===typeof e.du?e.du:!0;if(void 0===b)return a.D.warn("Attempt to set a value of undefined"),!1;if(f&&b===this.tJa())a.D.zL>a.D.Qu&&a.D.info("Validation skipped and value option not updated as submitted value '"+b.toString?b.toString():b+" same as previous.");else if(b=this.zY(b,c,e),void 0!==b&&this.isValid()){var h;e&&e._context&&(h=e._context);this.Bqa(b,c,e&&e.Ng,h);return!0}return!1},zY:function(b,c,e){var f=e&&e.F1a?
e.F1a:this.TG.c$,h=e&&e.Ng?e.Ng:this.Vo.Pya;e=e&&e.cu||!1;if(void 0===b)a.D.warn("Attempt to set a value of undefined");else if(this.uq()){e||this.QO(c);this.Moa(b);try{return this.ASa(b,f,h,c)}catch(k){}}else a.D.zL>a.D.Qu&&a.D.info("Validation skipped and value option not set as component state does not  allow setting value. For example if the component is readonly or disabled.")},kl:function(b,c,e){return"value"===b||"rawValue"===b?a.f.Nb(c,e):0===b.indexOf("messages")?this.nPa(c,e):this._superApply(arguments)},
_GetDefaultStyleClass:function(){a.C.Ze();return""},Em:{HF:1,paa:2,P9:3,oaa:4,iaa:5},dv:{disabled:"oj-disabled",required:"oj-required"},QO:function(a,c){c?(this.options.messagesHidden=[],this.options.messagesShown=[],this.options.messagesCustom=[]):(this.xH("messagesHidden",a),this.xH("messagesShown",a),this.xH("messagesCustom",a))},SO:function(){var b,c,e=this.options.messagesShown;b=e.length;this.xH("messagesHidden");for(var f=b-1;0<=f;f--)c=e[f],c instanceof a.ff&&e.splice(f,1);e.length!==b&&this.gK("messagesShown",
e,null,!0)},gK:function(a,c,e,f){var h={},k=0===c.length&&0===this.options[a].length;if(f||!k)h._context={originalEvent:e,gd:!0,ob:!0},"messagesCustom"!==a&&(h._context.readOnly=!0),h.changed=f||!k,this.jSa(),this.option(a,c,h),this.qVa()},xH:function(a,c){this.gK(a,[],c)},WEa:function(b){var c,e,f=[];if(b&&0<b.length)for(c=0;c<b.length;c++)e=b[c],e=new a.ua(e.summary,e.detail,e.severity),e=Object.freeze?Object.freeze(e):e,f.push(e);return f},ofa:function(){var a,c;!this.Y()&&(this.Ec=this.ky())&&
(a=this.options.help.definition,c=this.options.help.source,this.Ec.ojLabel({rootAttributes:{"class":this._GetDefaultStyleClass()+"-label"},help:{definition:a,source:c}}),this.NFa())},NFa:function(){var a=this.options.help.definition;(null!=this.options.help.source||null!=a)&&(a=this.Ec.attr("id"))&&this.Ey(a+"_helpIcon")},SQa:function(){var a=this.options.help.definition,c=this.options.help.source,e=this.Ec.attr("id");e&&(null!=c||null!=a?this.Ey(e+"_helpIcon"):this.RJ(e+"_helpIcon"))},mga:function(b){var c=
!1;b?(this.cY(),this.RQ(),this.CQ()&&(c=!0),this.SO(),c?this.US(a.ia.Jva):(this.Li()&&this.ZJ(a.ia.Jva.Ng),this.Hq("value",this.options.value,!0))):this.Hq("value",this.options.value);this.Hq("disabled",this.options.disabled)},G2a:function(){return this.pma},tJa:function(){void 0===this.o3&&(this.o3="");return this.o3},c0:function(a){a=a.attr("aria-labelledby");return void 0!==a?g("label[id\x3d'"+a+"']"):null},yIa:function(a){var c=null;a=this.c0(a);null!==a&&0!==a.length&&(c=a.attr("id"));return c},
Ey:function(a){var c;this.ve().each(function(){var e=g(this).attr("aria-describedby"),e=e?e.split(/\s+/):[];c=g.inArray(a,e);-1===c&&e.push(a);e=g.trim(e.join(" "));g(this).attr("aria-describedby",e)})},RJ:function(a){this.ve().each(function(){var c,e;e=(c=g(this).attr("aria-describedby"))?c.split(/\s+/):[];c=g.inArray(a,e);-1!==c&&e.splice(c,1);(c=g.trim(e.join(" ")))?g(this).attr("aria-describedby",c):g(this).removeAttr("aria-describedby")})},ZP:function(){return this.options.messagesShown.concat(this.options.messagesHidden)},
Aha:function(){var a=null,c;c=this.options.labelledBy;var e;c&&(a=document.getElementById(c));null===a&&(c=this.widget(),e=c[0].id)&&(c=c.siblings("[for\x3d'"+e+"']"),0===c.length&&(c=g("[for\x3d'"+this.element.id+"']")),0<c.length&&(a=c[0]));return a},D0:function(){if(this.Ec)return this.Ec.text();void 0===this.pA&&(this.pA=this.Aha());return this.pA?this.pA.textContent:null},kja:function(){this.Gqa||(this.Gqa=new a.Do(this.isValid(),this.ZP()));return this.Gqa},c2:function(){return!a.ua.isValid(this.ZP())},
CQ:function(){return!this.isValid()&&0<this.options.messagesShown.length},PMa:function(){for(var b,c,e=this.options.messagesShown,f=0;f<e.length;f++)c=e[f],c instanceof a.ff&&c.gla()&&(b=b||[],b.push(c));return void 0===b?!1:!a.ua.isValid(b)},RQ:function(){var a=this.Fv(),c=this._GetMessagingLauncherElement(),e=this.ve(),f=this.On(this.Em.HF);this.j_||this.Naa();a.Hw(c,e,f)},mPa:function(b){var c=b?b._context:null,e=this.options.messagesCustom,f,h,k=this.options.messagesShown,g=[];for(f=0;f<k.length;f++)h=
k[f],h instanceof a.ff&&h.gla()&&g.push(h);for(f=0;f<e.length;f++)g.push(e[f]);this.gK("messagesShown",g,c?c.originalEvent:null,b&&b.changed)},gQa:function(a){a=(a&&a._context||{}).KZa?!1:!0;this.gv(this.options.placeholder);a?(this.j_=!0,this.zc()&&this.RQ()):this.j_=!1},pTa:function(a){this.pma=a},Moa:function(a){this.o3=a},aqa:function(){this.Fv().update(this.On(this.Em.iaa))},TS:function(a,c,e){var f,h,k;if("object"===typeof c&&Array.isArray(c))for(k=this.options[a],h=c.length,f=0;f<h;f++)k.push(c[f]);
this.gK(a,k,e,!0)},qVa:function(){this.Fv().update(this.On())},Bqa:function(a,c,e,f){f=f||{};c&&(f.originalEvent=c);switch(e){case this.Vo.Q9:case this.Vo.V9:case this.Vo.Q$:case this.Vo.R$:case this.Vo.S$:case this.Vo.laa:case this.Vo.naa:f.gd=!0,f.cu=!0}f.ob=!0;this.option({value:a},{_context:f});this.aX("value",{_context:f})},jSa:function(){this.O5=void 0},yKa:function(){var a=this.ZP(),c=!0;a&&0!==a.length&&(c=!this.c2());return c},Bv:function(b){var c=b,e=this.zc();e&&"object"===typeof e&&(e.format&&
"function"===typeof e.format?c=e.format(b):a.D.zL>a.D.Qu&&a.D.info("converter does not support the format method."));return c},Fv:function(){this.qv||(this.qv=new a.Vb(this));return this.qv},mJa:function(a){var c,e,f=[];e="";this.Li()&&(e=this.Wha(),e.getHint&&"function"===typeof e.getHint&&(e=e.getHint())&&f.push(e));for(c=0;c<a.length;c++)e=a[c],"object"===typeof e&&e.getHint&&"function"===typeof e.getHint&&(e=e.getHint())&&f.push(e);return f},Wha:function(){var b;b={};var c;null==this.l2&&(b=this.options.translations?
this.options.translations.required||{}:{},c={hint:b.hint||null,label:this.D0(),messageSummary:b.messageSummary||null,messageDetail:b.messageDetail||null},this.l2=(b=a.Ma.kB(a.Yf.VALIDATOR_TYPE_REQUIRED))?b.createValidator(c):null);return this.l2},On:function(a){var c={},e,f;e="";f=[];a=a||this.Em.paa;if(a===this.Em.HF||a===this.Em.paa)f=this.ZP(),this.kja().update(this.isValid(),f),c.Swa=this.kja();if(a===this.Em.HF||a===this.Em.P9)(f=this.zc())&&"object"===typeof f&&f.getHint&&"function"===typeof f.getHint&&
(e=f.getHint()||""),c.sra=e;if(a===this.Em.HF||a===this.Em.oaa)e=this.fba(),f=this.mJa(e)||[],c.G1a=f;if(a===this.Em.HF||a===this.Em.iaa)c.title=this.options.title||"";return c},nPa:function(b,c){var e=-1,f,h=!0,k=g.extend([],b),l=g.extend([],c);if(k.length!==l.length)return!1;g.each(k,function(b,c){c instanceof a.ua?f=c:(f=new a.ua(c.summary,c.detail,c.severity),f=Object.freeze?Object.freeze(f):f);e=-1;g.each(l,function(b,c){a.ua.Uw(f.severity)===a.ua.Uw(c.severity)&&f.summary===c.summary&&f.detail===
c.detail&&(e=b)});-1<e?l.splice(e,1):h=!1});return h},FR:function(b){var c=this.zc(),e=b;c&&"object"===typeof c&&(c.parse&&"function"===typeof c.parse?e=c.parse(b):a.D.zL>a.D.Qu&&a.D.info("converter does not support the parse method."));return e},KY:function(b,c){var e,f,h;b instanceof a.pg||b instanceof a.um?(e=b.ME(),f=e.severity||a.ua.sd.ERROR,h=e.summary||a.va.R("oj-message.error"),e=e.detail||a.va.R("oj-converter.detail")):b.summary||b.detail?(f=a.ua.sd.ERROR,h=b.summary||a.va.R("oj-message.error"),
e=b.detail||a.va.R("oj-converter.detail")):(f=a.ua.sd.ERROR,h=a.va.R("oj-message.error"),e=b.message||a.va.R("oj-converter.detail"));c.push({summary:h,detail:e,severity:f})},I3:function(b,c,e){var f=[],h=b.oJ||[],k={};k.context=c||0;k.display=e||a.ff.pB.OW;0===h.length&&this.KY(b,h);for(c=0;c<h.length;c++)b=h[c],f.push(this.JFa(b.summary,b.detail,b.severity,k));return f||null},JFa:function(b,c,e,f){b=new a.ff(b,c,e,f);return b=Object.seal?Object.seal(b):b},Q3:function(a,c){(c||a!==this.pma)&&this.mVa(a)},
fna:function(a,c){-1!==Object.keys(this.dv).indexOf(a)&&this.widget().toggleClass(this.dv[a],!!c)},ZJ:function(b){if(this.uq())try{this.Fqa(this.options.value,this.TG.T$)}catch(c){(b=this.I3(c,b,a.ff.pB.uW))&&this.TS("messagesHidden",b)}else a.D.zL>a.D.Qu&&a.D.info("Deferred validation skipped as component is readonly or disabled.")},ASa:function(a,c,e,f){var h=a;try{c===this.TG.c$&&(h=this.FR(a)),this.Fqa(h,c===this.TG.T$)}catch(k){throw a=this.I3(k,e),this.TS("messagesShown",a,f),k;}return h},boa:function(a){var c=
!0;this.CQ()&&(c=!1);this.SO();c?this.Li()&&this.ZJ(a.Ng):this.US(a)},mVa:function(a,c){var e,f;this.pTa(a);e=a;try{e=this.Bv(a)}catch(h){f=this.I3(h),this.TS("messagesShown",f,c)}this.xk(e);e=this.Ki();this.Moa(e);this.Gm(e,null)},US:function(a){var c;c=this.zY(this.Ki(),null,a);void 0===c||!this.isValid()&&this.PMa()||this.Bqa(c,null,a.Ng)},Fqa:function(b,c){var e=this.fba(),f,h,k=[];if(this.Li()){h=this.Wha();try{h.validate(a.Xa.trim(b))}catch(g){this.KY(g,k)}}if(!c)for(f=0;f<e.length;f++)if(h=
e[f],"object"===typeof h)if(h.validate&&"function"===typeof h.validate)try{h.validate(b)}catch(m){this.KY(m,k)}else a.D.zL>a.D.Qu&&a.D.info("validator does not support the validate method.");if(0<k.length)throw e=Error(),e.oJ=k,e;}},!0);a.Components.gq({editableValue:{displayOptions:a.Components.tf(function(a){return{messages:0<=a.containers.indexOf("ojDataGrid")||0<=a.containers.indexOf("ojTable")?["notewindow"]:["inline"],converterHint:["placeholder","notewindow"],validatorHint:["notewindow"],helpInstruction:["notewindow"],
title:["notewindow"]}})}});a.Me=function(a){this.Init(a)};a.Vb.pV(a.Vb.Zf.WF,a.Me);a.f.ya(a.Me,a.ae,"oj.InlineMessagingStrategy");a.Me.prototype.cB=function(b){a.Me.O.cB.call(this,b);this.tqa()};a.Me.prototype.k9=function(a){return a&&void 0!==a.Swa?!0:!1};a.Me.prototype.update=function(){a.Me.O.update.call(this);this.tqa()};a.Me.prototype.Lr=function(){this.zna();a.Me.O.Lr.call(this)};a.Me.prototype.RC=function(){if(!a.Me.Lfa){var b=(a.ic.Tc("oj-messaging-inline-option-defaults")||{}).animation,
b=b||{};a.Me.Lfa=b}return a.Me.Lfa};a.Me.prototype.bS=function(b,c){var e,f;a.Xa.Bd(b)?(f=!0,e=b+""):(f=!1,e=JSON.stringify(b));for(var h in c)e=e.replace(new RegExp(h,"g"),c[h]);return b=f?e:JSON.parse(e)};a.Me.prototype.RGa=function(a,c){var e,f,h;if(f=this.RC()){e=a[0].innerHTML;var k=a.outerHeight(),g;a[0].innerHTML=c;g=a.outerHeight();a[0].innerHTML=e;e=g>k?"open":"close";(f=f[e])&&(h=this.bS(f,{"#oldHeight":k+"px","#newHeight":g+"px"}))}return{action:e,rXa:h}};a.Me.prototype.nS=function(){if(!this.qf){var b=
this.Ci(),b=(b=b?b.element:null)?b[0]:null,c=a.Context.getContext(b).md(),e="The page is waiting for inline message ";b&&b.id&&(e+='for "'+b.id+'" ');this.qf=c.ad({description:e+"to open/close"})}};a.Me.prototype.Gea=function(){this.qf&&(this.qf(),this.qf=null)};a.Me.prototype.NR=function(b){var c=this,e=this.Tf;this.nS();this.l5&&clearTimeout(this.l5);this.l5=setTimeout(function(){c.l5=null;if(e&&e[0]){var f=c.RGa(e,b),h=f.action,f=f.rXa;"open"==h&&(e[0].innerHTML=b);a.ea.wi(e[0],"inline-"+h,f,c.Ci()).then(function(){"close"==
h&&(e[0].innerHTML=b);c.Gea()})}else c.Gea()},0)};a.Me.prototype.tqa=function(){var a,c;(a=this.eEa())&&null==this.Tf&&this.WFa();this.Tf&&this.Tf[0]&&(this.Ci().Y()?this.NR(a):a?(c=this.Tf[0],c.innerHTML=a):this.zna())};a.Me.prototype.WFa=function(){this.Tf=g("\x3cdiv class\x3d'oj-messaging-inline-container'\x3e\x3c/div\x3e");this.Ey(this.Tf);this.LCa(this.Tf);this.Ci().widget().append(this.Tf)};a.Me.prototype.zna=function(){null!=this.Tf&&(this.RJ(this.Tf),this.Tf.remove(),this.Tf=null)};a.Me.prototype.Ey=
function(b){var c,e;e=this.un();a.C.rf(e,g);a.C.rf(b,g);b=b.uniqueId().attr("id");c=(c=e.attr("aria-describedby"))?c.split(/\s+/):[];c.push(b);c=g.trim(c.join(" "));e.attr("aria-describedby",c)};a.Me.prototype.LCa=function(b){a.C.rf(b,g);b.attr("aria-live","polite")};a.Me.prototype.RJ=function(b){var c,e;e=this.un();a.C.rf(e,g);a.C.rf(b,g);b=b.attr("id");c=(c=e.attr("aria-describedby"))?c.split(/\s+/):[];b=g.inArray(b,c);-1!==b&&c.splice(b,1);(c=g.trim(c.join(" ")))?e.attr("aria-describedby",c):e.removeAttr("aria-describedby")};
a.Me.prototype.eEa=function(){var a;return this.eaa()?(a=this.Ci().document[0],this.fZ(a)):""};a.Me.prototype.fZ=function(b){var c="",e;this.xW()&&(e=this.qW(),c=this.pW(),c=a.Rb.Yqa(b,e,c,!0));return c};a.J.$a("editableValue","baseComponent",{properties:{disabled:{type:"boolean"},displayOptions:{type:"Object",properties:{converterHint:{type:"string"},helpInstruction:{type:"string"},messages:{type:"string"},validatorHint:{type:"string"}}},help:{type:"Object\x3cstring, string\x3e",properties:{instruction:{type:"string"}}},
messagesCustom:{type:"Array",writeback:!0},describedBy:{type:"string"},value:{type:"Object",writeback:!0}},methods:{reset:{},showMessages:{}},events:{animateStart:{},animateEnd:{}},extension:{Ya:"editableValue"}})});