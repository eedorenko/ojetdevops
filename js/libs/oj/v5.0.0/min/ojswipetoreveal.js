/**
 * @license
 * Copyright (c) 2014, 2018, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";define(["ojs/ojcore","jquery","hammerjs","promise","ojs/ojoffcanvas"],function(e,t,a){e.SwipeToRevealUtils={},e.SwipeToRevealUtils.setupSwipeActions=function(a,o){var n,s,i,l,r,c,u,f,p,v,d;(n=t(a)).hasClass("oj-swipetoreveal")||(n.addClass("oj-swipetoreveal"),s=n.hasClass("oj-offcanvas-start")?"end":"start",(i={}).selector=n,e.OffcanvasUtils.setupPanToReveal(i),l=e.OffcanvasUtils._getOuterWrapper(n),u=!1,l.on("click.swipetoreveal",function(e){u&&(e.stopImmediatePropagation(),u=!1)}),l.on("touchstart.swipetoreveal",function(e){u=!1}),n.on("ojpanstart",function(e,t){t.direction!=s?e.preventDefault():(null==c&&(null!=o&&(r=o.threshold),null!=r?(r=parseInt(r,10),/%$/.test(o.threshold)&&(r=r/100*l.outerWidth())):r=.55*l.outerWidth(),c=Math.min(.3*l.outerWidth(),n.outerWidth())),n.children().addClass("oj-swipetoreveal-action"),v=n.children(".oj-swipetoreveal-default").get(0),p=(new Date).getTime())}).on("ojpanmove",function(e,a){u=!0,null!=v&&(a.distance>r?n.children().each(function(){this!=v&&t(this).addClass("oj-swipetoreveal-hide-when-full")}):n.children().removeClass("oj-swipetoreveal-hide-when-full"))}).on("ojpanend",function(e,a){d=a.distance,null!=v&&d>r&&(f=t.Event("ojdefaultaction"),n.trigger(f,i),e.preventDefault()),d<c&&((new Date).getTime()-p>200||d<10)&&e.preventDefault()}))},e.SwipeToRevealUtils.tearDownSwipeActions=function(a){var o,n,s;(o=t(a)).removeClass("oj-swipetoreveal"),(n={}).selector=o,null!=(s=e.OffcanvasUtils._getOuterWrapper(o))&&s.off(".swipetoreveal"),e.OffcanvasUtils.tearDownPanToReveal(n)}});