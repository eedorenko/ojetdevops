/**
 * @license
 * Copyright (c) 2014, 2018, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";define(["ojs/ojcore","jquery","ojs/ojcomponentcore","ojs/ojvalidation-number","ojs/internal-deps/dvt/DvtToolkit","ojdnd","promise"],function(t,e,n,i,o){t.AttributeGroupHandler=function(t){this.Init(t)},t.Object.createSubclass(t.AttributeGroupHandler,t.Object,"oj.AttributeGroupHandler"),t.AttributeGroupHandler.prototype.Init=function(t){for(var e in this._assignments={},this._valueIndex=0,this._matchRules={},t)this.addMatchRule(e,t[e])},t.AttributeGroupHandler.prototype.getValueRamp=function(){return[]},t.AttributeGroupHandler.prototype.getValue=function(t){return this._matchRules[t]?this._matchRules[t]:(this._assignments[t]||(this._values||(this._values=this.getValueRamp().slice()),this._assignments[t]=this._values[this._valueIndex],this._valueIndex++,this._valueIndex==this._values.length&&(this._valueIndex=0)),this._assignments[t])},t.AttributeGroupHandler.prototype.getCategoryAssignments=function(){var t=[];for(var e in this._assignments)t.push({category:e,value:this._assignments[e]});return t},t.AttributeGroupHandler.prototype.addMatchRule=function(t,e){this._matchRules[t]=e},t.ColorAttributeGroupHandler=function(n){if(this._attributeValues=[],e(document.body).hasClass("oj-hicontrast"))this._attributeValues=t.ColorAttributeGroupHandler._DEFAULT_COLORS.slice();else{var i=t.ColorAttributeGroupHandler.__createAttrDiv();i&&(t.ColorAttributeGroupHandler.__processAttrDiv(i),i.remove()),t.ColorAttributeGroupHandler._colors.length>0?this._attributeValues=t.ColorAttributeGroupHandler._colors.slice():this._attributeValues=t.ColorAttributeGroupHandler._DEFAULT_COLORS.slice()}this.Init(n)},t.Object.createSubclass(t.ColorAttributeGroupHandler,t.AttributeGroupHandler,"oj.ColorAttributeGroupHandler"),t.ColorAttributeGroupHandler._DEFAULT_COLORS=["#237bb1","#68c182","#fad55c","#ed6647","#8561c8","#6ddbdb","#ffb54d","#e371b2","#47bdef","#a2bf39","#a75dba","#f7f37b"],t.ColorAttributeGroupHandler._STYLE_CLASSES=["oj-dvt-category1","oj-dvt-category2","oj-dvt-category3","oj-dvt-category4","oj-dvt-category5","oj-dvt-category6","oj-dvt-category7","oj-dvt-category8","oj-dvt-category9","oj-dvt-category10","oj-dvt-category11","oj-dvt-category12"],t.ColorAttributeGroupHandler._colors=null,t.ColorAttributeGroupHandler.prototype.getValueRamp=function(){return this._attributeValues},t.ColorAttributeGroupHandler.createAttrDiv=function(){return t.ColorAttributeGroupHandler.__createAttrDiv()},t.ColorAttributeGroupHandler.processAttrDiv=function(e){t.ColorAttributeGroupHandler.__processAttrDiv(e)},t.ColorAttributeGroupHandler.__createAttrDiv=function(){if(t.ColorAttributeGroupHandler._colors)return null;var n=e(document.createElement("div"));n.attr("style","display:none;"),n.attr("id","attrGps"),e(document.body).append(n);for(var i=0;i<t.ColorAttributeGroupHandler._STYLE_CLASSES.length;i++){var o=e(document.createElement("div"));o.addClass(t.ColorAttributeGroupHandler._STYLE_CLASSES[i]),n.append(o)}return n},t.ColorAttributeGroupHandler.__processAttrDiv=function(n){t.ColorAttributeGroupHandler._colors=[];for(var i=n.children(),o=0;o<i.length;o++){var r=e(i[o]).css("color");r&&t.ColorAttributeGroupHandler._colors.push(r)}};var r={_SHAPE_REGEXP:/\d/,_SHAPE_ENUMS:{circle:!0,ellipse:!0,square:!0,rectangle:!0,diamond:!0,triangleUp:!0,triangleDown:!0,plus:!0,human:!0,star:!0},shapeParseFunction:function(t,e){var n=e||r._SHAPE_ENUMS;return function(i,o,s,a){if(t[o]){if(r._SHAPE_REGEXP.test(i))return i;if(n[i])return i;throw new Error("Found: '"+i+"'. Expected one of the following: "+Object.keys(e).toString())}return a(i)}}},s=function(t,e){this._path=e,this._root=t,this._delimiter="/"};s.prototype._resolveLeafObjectAndProperty=function(t,e,n,i){for(var o={};t&&e.indexOf(n)>-1;){var r=e.substring(0,e.indexOf(n));i&&void 0===t[r]&&(t[r]={}),t=t[r],e=e.substring(e.indexOf(n)+1,e.length)}return t&&(o.object=t,o.parameter=e),o},s.prototype._resolvePath=function(t){if(void 0===this._leaf){var e=this._resolveLeafObjectAndProperty(this._root,this._path,this._delimiter,t);this._leaf=e.object,this._param=e.parameter}},s.prototype.getValue=function(){return this._resolvePath(!1),void 0===this._leaf?void 0:this._leaf[this._param]},s.prototype.setValue=function(t,e){this._resolvePath(!0),!e&&this._leaf[this._param]||(this._leaf[this._param]=t)};var a,l={TEXT:function(t){var e={};return t&&(t.hasClass("oj-gauge-metric-label")?(e["font-size"]=!0,e.color=!0):t.hasClass("oj-treemap-node-header")&&(e["font-weight"]=!0)),l._buildTextCssPropertiesObject(t,e)},BACKGROUND:function(t,e,n,i){return l._buildCssBackgroundPropertiesObject(t)},ANIM_DUR:function(t){var e=t.css("animation-duration");if(e)return"ms"==e.slice(-2)?e=parseInt(e.slice(0,-2),10):"s"==e.slice(-1)&&(e=1e3*parseFloat(e.slice(0,-1))),e}};l._INHERITED_FONT_COLOR="rgb(254, 0, 254)",l._INHERITED_FONT_FAMILY="Times",l._INHERITED_FONT_SIZE="1px",l._INHERITED_FONT_WEIGHT="1",l._INHERITED_FONT_STYLE="normal",l._FONT_SIZE_BUFFER=4,l._styleCache={},l.defaultStyleProcessor=function(t,e){return t.css(e)},l._buildCssBackgroundPropertiesObject=function(t){var e={};return t.css("border-top-color")&&(e.borderColor=t.css("border-top-color")),t.css("border-width")&&t.css("border-style")&&"none"!=t.css("border-style")&&(e.borderWidth=t.css("border-width")),t.css("background-color")&&(e.backgroundColor=t.css("background-color")),e},l._buildTextCssPropertiesObject=function(t,e){var n={},i=t.css("font-family");return i&&i!==l._INHERITED_FONT_FAMILY&&(n.fontFamily=i.replace(/"/g,"'")),!(i=t.css("font-size"))||i.indexOf("px")>-1&&parseFloat(i)<l._FONT_SIZE_BUFFER||e["font-size"]||(n.fontSize=i),(i=t.css("font-weight"))&&i!==l._INHERITED_FONT_WEIGHT&&!e["font-weight"]&&(n.fontWeight=i),(i=t.css("color"))&&i!==l._INHERITED_FONT_COLOR&&!e.color&&(n.color=i),(i=t.css("font-style"))&&i!==l._INHERITED_FONT_STYLE&&(n.fontStyle=i),n},l.processStyles=function(n,i,o,r){for(var s=null,a=null,u="",_=0;_<o.length;_++)u=u+o[_]+" ";var d={},h={};for(var c in r){var p=r[c];p instanceof Array||(p=[p]);var f=l._hasUncachedProperty(c,p);a||s||!f||((s=e(document.createElement("div"))).attr("style","display:none;"),n.append(s),s.attr("class",u),e(document.body).append(s),(a=e(document.createElement("div"))).css("font-size",l._INHERITED_FONT_SIZE),a.css("color",l._INHERITED_FONT_COLOR),a.css("font-weight",l._INHERITED_FONT_WEIGHT),a.css("font-style",l._INHERITED_FONT_STYLE),s.append(a)),d[c]=p,f&&(h[c]=l._createStyleDivs(a,c,p))}var v=t.ColorAttributeGroupHandler.__createAttrDiv();for(var c in r)l._processStyle(h[c],i,c,d[c]);v&&(t.ColorAttributeGroupHandler.__processAttrDiv(v),v.remove()),s&&s.remove()},l._createStyleDivs=function(t,n,i){l._styleCache[n]||(l._styleCache[n]={});for(var o=null,r=0;r<i.length;r++){var s=i[r].property;if(s)void 0===l._styleCache[n][s]&&(o||((o=e(document.createElement("div"))).addClass(n),t.append(o)))}return o},l._processStyle=function(t,e,n,i){for(var o=0;o<i.length;o++){var r=i[o],a=r.property;if(a){var u=l._styleCache[n][a];if(void 0===u&&t&&(u=l._resolveStyle(t,a),l._styleCache[n][a]=u),null!=u){var _=new s(e,r.path),d=_.getValue(),h="object"==typeof d;if(h&&d){var c=Object.keys(u);for(o=0;o<c.length;o++){var p=c[o];void 0===d[p]&&(d[p]=u[p])}}else _.setValue(u,h)}}}},l._resolveStyle=function(t,e){var n=l[e],i=n?n(t):l.defaultStyleProcessor(t,e);return null==i||"string"==typeof i&&""==i.replace(/^\s+/g,"")?null:i},l._hasUncachedProperty=function(t,e){var n=l._styleCache[t];if(!n)return!0;for(var i=0;i<e.length;i++){var o=e[i].property;if(o)if(void 0===n[o])return!0}return!1},t.ShapeAttributeGroupHandler=function(t){this.Init(t)},t.Object.createSubclass(t.ShapeAttributeGroupHandler,t.AttributeGroupHandler,"oj.ShapeAttributeGroupHandler"),t.ShapeAttributeGroupHandler._attributeValues=["square","circle","diamond","plus","triangleDown","triangleUp","human"],t.ShapeAttributeGroupHandler.prototype.getValueRamp=function(){return t.ShapeAttributeGroupHandler._attributeValues},t.__registerWidget("oj.dvtBaseComponent",e.oj.baseComponent,{options:{trackResize:"on"},_ComponentCreate:function(){this._super(),this._renderCount=0,this._numDeferredObjs=0,this._optionsCopy=null,this._templateMap={};for(var n=this._GetComponentStyleClasses(),i=0;i<n.length;i++)this.element.addClass(n[i]);this._referenceDiv=e(document.createElement("div")),this._referenceDiv.attr("style","visibility:hidden;"),this.element.append(this._referenceDiv);var r=this.element[0].parentElement;r&&r._dvtcontext?this._context=r._dvtcontext:this._context=new o.Context(this.element[0],null,this._referenceDiv[0]),this._context.oj=t,this._context.setReadingDirection(this._GetReadingDirection()),this._context.setTooltipAttachedCallback(t.Components.subtreeAttached),this._context.setOverlayAttachedCallback(t.Components.subtreeAttached),this._context.setTooltipStyleClass("oj-dvt-tooltip"),this._context.setDatatipStyleClass("oj-dvt-datatip"),this._context.setFixContextCallback(this._FixRendererContext.bind(this)),this._context.setCustomElement(this._IsCustomElement()),e(document.body).hasClass("oj-hicontrast")&&o.Agent.setHighContrast(!0),this._component=this._CreateDvtComponent(this._context,this._HandleEvent,this),this._context.getStage().addChild(this._component),!1!==o.requireJS&&(this._setLocaleHelpers(),this._processTranslations()),this._LoadResources(),this._dataProviderEventListeners=[],this.options._environment="jet",this.options._widgetConstructor=t.Components.__GetWidgetConstructor(this.element)},_AfterCreate:function(){this._super(),"off"!=this.options.trackResize&&this._addResizeListener(),this._ProcessOptions(),this._Render()},refresh:function(){this._super(),this._context.setReadingDirection(this._GetReadingDirection()),this._processTranslations(),this._Render()},getNodeBySubId:function(t){var e=this._component&&this._component.getAutomation?this._component.getAutomation():null;if(e){var n=this._ConvertLocatorToSubId(t);return e.getDomElementForSubId(n)}return null},getSubIdByNode:function(t){var e=this._component&&this._component.getAutomation?this._component.getAutomation():null;if(e){var n=e.getSubIdForDomElement(t);return n?this._ConvertSubIdToLocator(n):null}return null},_ConvertLocatorToSubId:function(t){return null},_ConvertSubIdToLocator:function(t){return null},_ProcessStyles:function(){l.processStyles(this.element,this.options,this._GetComponentStyleClasses(),this._GetChildStyleClasses())},_GetComponentStyleClasses:function(){return["oj-dvtbase"]},_GetChildStyleClasses:function(){var t={"oj-dvt-no-data-message":{path:"_statusMessageStyle",property:"TEXT"}};return t},_GetEventTypes:function(){return[]},_GetTranslationMap:function(){var e=this.options.translations,n={"DvtUtilBundle.CLEAR_SELECTION":e.labelClearSelection,"DvtUtilBundle.COLON_SEP_LIST":e.labelAndValue,"DvtUtilBundle.INVALID_DATA":e.labelInvalidData,"DvtUtilBundle.NO_DATA":e.labelNoData,"DvtUtilBundle.DATA_VISUALIZATION":e.labelDataVisualization,"DvtUtilBundle.STATE_SELECTED":e.stateSelected,"DvtUtilBundle.STATE_UNSELECTED":e.stateUnselected,"DvtUtilBundle.STATE_MAXIMIZED":e.stateMaximized,"DvtUtilBundle.STATE_MINIMIZED":e.stateMinimized,"DvtUtilBundle.STATE_EXPANDED":e.stateExpanded,"DvtUtilBundle.STATE_COLLAPSED":e.stateCollapsed,"DvtUtilBundle.STATE_ISOLATED":e.stateIsolated,"DvtUtilBundle.STATE_HIDDEN":e.stateHidden,"DvtUtilBundle.STATE_VISIBLE":e.stateVisible,"DvtUtilBundle.SCALING_SUFFIX_THOUSAND":e.labelScalingSuffixThousand,"DvtUtilBundle.SCALING_SUFFIX_MILLION":e.labelScalingSuffixMillion,"DvtUtilBundle.SCALING_SUFFIX_BILLION":e.labelScalingSuffixBillion,"DvtUtilBundle.SCALING_SUFFIX_TRILLION":e.labelScalingSuffixTrillion,"DvtUtilBundle.SCALING_SUFFIX_QUADRILLION":e.labelScalingSuffixQuadrillion},i=t.LocaleData.getMonthNames("abbreviated");return n["DvtUtilBundle.MONTH_SHORT_JANUARY"]=i[0],n["DvtUtilBundle.MONTH_SHORT_FEBRUARY"]=i[1],n["DvtUtilBundle.MONTH_SHORT_MARCH"]=i[2],n["DvtUtilBundle.MONTH_SHORT_APRIL"]=i[3],n["DvtUtilBundle.MONTH_SHORT_MAY"]=i[4],n["DvtUtilBundle.MONTH_SHORT_JUNE"]=i[5],n["DvtUtilBundle.MONTH_SHORT_JULY"]=i[6],n["DvtUtilBundle.MONTH_SHORT_AUGUST"]=i[7],n["DvtUtilBundle.MONTH_SHORT_SEPTEMBER"]=i[8],n["DvtUtilBundle.MONTH_SHORT_OCTOBER"]=i[9],n["DvtUtilBundle.MONTH_SHORT_NOVEMBER"]=i[10],n["DvtUtilBundle.MONTH_SHORT_DECEMBER"]=i[11],n},_SetupResources:function(){this._super()},_ReleaseResources:function(){this._super()},_processTranslations:function(){var t=this._GetTranslationMap();o.Bundle.addLocalizedStrings(t)},_setLocaleHelpers:function(){var e={};e.numberConverterFactory=t.Validation.getDefaultConverterFactory("number"),e.isoToDateConverter=function(e){if("string"==typeof e){var n=t.IntlConverterUtils.isoToDate(e),i=n.toJSON()?t.IntlConverterUtils.dateToLocalIso(n):e;return t.IntlConverterUtils.isoToLocalDate(i)}return e},e.dateToIsoWithTimeZoneConverter=function(e){if(e instanceof Date){var n=-1*e.getTimezoneOffset(),i=n>=0?"+":"-",o=Math.floor(Math.abs(n)/60),r=Math.abs(n)%60,s=i+(2!==o.toString().length?"0"+o:o)+":"+(2!==r.toString().length?r+"0":r);return t.IntlConverterUtils.dateToLocalIso(e)+s}return e},this._context.setLocaleHelpers(e)},_destroy:function(){this._context.hideTooltips(),this._context=null;var t=this.element[0].parentElement;t&&t._dvtcontext&&(t._dvtcontext=null),this._component.destroy&&this._component.destroy(),this._component=null,this._removeResizeListener(),this._CleanAllTemplates(),this.element.children().remove(),this.element.removeAttr("role").removeAttr("tabIndex").removeAttr("aria-activedescendant");for(var e=this._GetComponentStyleClasses(),n=0;n<e.length;n++)this.element.removeClass(e[n]);this._MakeReady(),this._super()},_setOptions:function(t,n){this._superApply(arguments);var i=this.options.trackResize;if("off"==i&&this._resizeListener?this._removeResizeListener():"off"==i||this._resizeListener||this._addResizeListener(),this._ProcessOptions(),!this._bUserDrivenChange){var o=!1,r=this._GetEventTypes(),s=["highlightedCategories","selection","dataCursorPosition"];e.each(t,function(t,e){if(r.indexOf(t)<0&&s.indexOf(t)<0)return o=!0,!1}),o?this._Render():(void 0!==t.highlightedCategories&&this._component.highlight(t.highlightedCategories),void 0!==t.selection&&this._component.select(t.selection),void 0!==t.dataCursorPosition&&this._component.positionDataCursor&&this._component.positionDataCursor(t.dataCursorPosition))}},_CreateDvtComponent:function(t,e,n){return null},_HandleEvent:function(t){var n=t.type;"selection"===n?this._UserOptionChange("selection",t.selection):"categoryHide"===n||"categoryShow"===n?this._UserOptionChange("hiddenCategories",t.hiddenCategories):"categoryHighlight"===n?this._UserOptionChange("highlightedCategories",t.categories):"optionChange"===n?this._UserOptionChange(t.key,t.value,t.optionMetadata):"touchHoldRelease"===n&&this._GetContextMenu()?this._OpenContextMenu(e.Event(t.nativeEvent),"touch"):"ready"===n&&0===this._numDeferredObjs&&this._MakeReady()},_addResizeListener:function(){this._resizeListener||(this._resizeListener=this._handleResize.bind(this),t.DomUtils.addResizeListener(this.element[0],this._resizeListener,250))},_removeResizeListener:function(){this._resizeListener&&(t.DomUtils.removeResizeListener(this.element[0],this._resizeListener),this._resizeListener=null)},_handleResize:function(t,e){var n=this.element.width(),i=this.element.height();(null==this._width||null==this._height||Math.abs(n-this._width)+Math.abs(i-this._height)>=5)&&this._Render(!0)},_LoadResources:function(){},_Render:function(e){this._context.hideTooltips(),this._NotReady(),this._context.isReadyToRender()?(this._width=this._IsFlowingLayoutSupported()?null:this.element.width(),this._height=this._IsFlowingLayoutSupported()?null:this.element.height(),this._context.setDefaultFontFamily(this._referenceDiv.css("font-family")),this.options._width=this._width,this.options._height=this._height,this.options._locale=t.Config.getLocale(),this._IsDraggable()&&this.element.attr("draggable",!0),this._ProcessStyles(),this._renderCount++,e?0===this._numDeferredObjs&&this._RenderComponent(this._optionsCopy,e):this._resolveDeferredDataItems()&&this._RenderComponent(this._optionsCopy),this._renderNeeded=!1):(this._renderNeeded=!0,this._MakeReady())},_IsDraggable:function(){return!!this.options.dnd},_NotifyShown:function(){this._super(),this._notifyShownAttached()},_NotifyAttached:function(){this._super(),this._notifyShownAttached()},_NotifyDetached:function(){this._super(),this._notifyHiddenDetached()},_NotifyHidden:function(){this._super(),this._notifyHiddenDetached()},_notifyShownAttached:function(){this._renderNeeded&&this._Render()},_notifyHiddenDetached:function(){this._context.hideTooltips(),this._MakeReady()},_UserOptionChange:function(t,e,n){this._bUserDrivenChange=!0,this.option(t,e,{_context:{writeback:!0,optionMetadata:n,internalSet:!0}}),this._bUserDrivenChange=!1},_NotifyContextMenuGesture:function(t,e,n){if("touch"!==n)if("keyboard"===n){var i=this.element[0].getBoundingClientRect(),o=this._component.getKeyboardFocus()?this._component.getKeyboardFocus().getBoundingClientRect():null,r=o?"left+"+(o.left+.5*o.width-i.left)+" top+"+(o.top+.5*o.height-i.top):"center";this._OpenContextMenu(e,n,{position:{at:r}})}else this._super(t,e,n)},_GetDvtComponent:function(e){var n=t.Components.__GetWidgetConstructor(e)("instance");return n?n._component:null},_GetStringFromIndexPath:function(t){for(var e="",n=0;n<t.length;n++)e+="["+t[n]+"]";return e},_GetIndexPath:function(t){for(var e=[],n=0;t.indexOf("[",n)>0;){var i=t.indexOf("[",n)+1,o=t.indexOf("]",n);e.push(Number(t.substring(i,o))),n=o+1}return e},_GetFirstIndex:function(t){return Number(this._GetFirstBracketedString(t))},_GetFirstBracketedString:function(t){var e=t.indexOf("[")+1,n=t.indexOf("]");return t.substring(e,n)},_GetComponentDeferredDataPaths:function(){return{}},_GetComponentNoClonePaths:function(){if(!this._noClonePaths){this._noClonePaths={};var t=this,e=this._GetComponentDeferredDataPaths().root;e&&e.forEach(function(e){t._noClonePaths[e]=!0})}return this._noClonePaths},_resolveDeferredDataItems:function(){this._optionsCopy=o.JsonUtils.clone(this.options,null,this._GetComponentNoClonePaths()),this._FixCustomRenderers(this._optionsCopy),this._numDeferredObjs=0;var t=this,e=this._GetComponentDeferredDataPaths();for(var n in e){e[n].forEach(function(e){if("root"===n)t._resolveDeferredDataItem.bind(t)(t.options,t._optionsCopy,e);else{var i=t.options[n];if(i&&i instanceof Array)for(var o=0;o<i.length;o++)t._resolveDeferredDataItem.bind(t)(i[o],t._optionsCopy[n][o],e)}})}return 0===this._numDeferredObjs},_resolveDeferredDataItem:function(t,e,n){var i=new s(t,n),o=i.getValue();if(o instanceof Function?o=Promise.resolve(o(this._GetDataContext(t))):this._IsCustomElement()&&Array.isArray(o)&&(o=Promise.resolve(o),i.setValue(o,!0)),o instanceof Promise){var r=this._renderCount,a=this;o.then(function(t){a._renderDeferredData(r,e,n,t)},function(t){a._renderDeferredData(r,e,n,[])}),this._numDeferredObjs++}},_renderDeferredData:function(t,e,n,i){t===this._renderCount&&(this._numDeferredObjs--,new s(e,n).setValue(i,!0),0===this._numDeferredObjs&&(this._RenderComponent(this._optionsCopy),this._optionsCopy=null))},_RenderComponent:function(t,e){if(this._context.isReadyToRender()){this._CleanAllTemplates();var n=this._IsFlowingLayoutSupported()&&this._resizeListener;n&&this._removeResizeListener(),this._component.render(e?null:t,this._width,this._height),n&&this._addResizeListener(),this.element.attr("role")?this.element.attr("tabindex",0):this.element.attr("tabindex",null)}else this._renderNeeded=!0,this._MakeReady()},_GetDataContext:function(t){return{}},_IsFlowingLayoutSupported:function(){return!1},whenReady:function(){if(this._ready)return Promise.resolve(!0);if(!this._promise){var t=this;this._promise=new Promise(function(e){t._promiseResolve=e})}return this._promise},_NotReady:function(){if(this._ready=!1,0===this._numDeferredObjs&&!this._readyResolveFunc){var e=t.Context.getContext(this.element[0]).getBusyContext(),n={description:"The component identified by '"+this.element.attr("id")+"' is being loaded."};this._readyResolveFunc=e.addBusyState(n)}},_MakeReady:function(){this._promiseResolve&&(this._promiseResolve(!0),this._promiseResolve=null),this._ready=!0,this._promise=null,this._readyResolveFunc&&(this._readyResolveFunc(),this._readyResolveFunc=null)},_ProcessOptions:function(){var t=this.options.tooltip;t&&t._renderer&&(this.options.tooltip={renderer:this._GetTemplateRenderer(t._renderer,"tooltip")})},_WrapCustomElementRenderer:function(t){var e=this;return function(n){n._dvtcontext=e._context;var i=t(n);if(n._templateName&&n._templateCleanup&&e._AddTemplate(n._templateName,n._templateCleanup),i&&!0!==i.preventDefault&&i.insert){var o=i.insert;return o.classList&&o.classList.contains("oj-dvtbase")?e._GetDvtComponent(o):o}return null}},_FixCustomRenderers:function(t){if(this._IsCustomElement())for(var e=this._GetComponentRendererOptions(),n=0;n<e.length;n++){var i=e[n],o=new s(t,i),r=o.getValue();r&&o.setValue(this._WrapCustomElementRenderer(r),!0)}},_GetComponentRendererOptions:function(){return["tooltip/renderer"]},_GetTemplateRenderer:function(t,n){var i=this;return function(o){var r=document.createElement("div");r.style.display="none",t({parentElement:r,context:o});var s=r.children[0];return s?(i._AddTemplate(n,function(){e(r).remove()}),r.removeChild(s),e(r).remove(),s):null}},_GetTemplateDataRenderer:function(t,n){var i=this;return function(o){var r=document.createElement("div");r.style.display="none",r._dvtcontext=i._context,i.element.append(r),t({parentElement:r,data:o.data});var s=r.children[0];return s?(i._AddTemplate(n,function(){e(r).remove()}),"http://www.w3.org/2000/svg"===s.namespaceURI?(r.removeChild(s),e(r).remove(),s):i._GetDvtComponent(s)):null}},_CleanAllTemplates:function(){for(var t in this._templateMap)this._CleanTemplate(t);this._templateMap={}},_CleanTemplate:function(t){if(this._templateMap[t]){for(var e=this._templateMap[t].length,n=0;n<e;n++)this._templateMap[t][n]();this._templateMap[t]=[]}},_AddTemplate:function(t,e){this._templateMap[t]||(this._templateMap[t]=[]),this._templateMap[t].push(e)},_CompareOptionValues:function(e,n,i){switch(e){case"hiddenCategories":case"highlightedCategories":case"selection":return t.Object.compareValues(n,i);default:return this._super(e,n,i)}}},!0),a={properties:{trackResize:{type:"string"},translations:{properties:{labelAndValue:{type:"string"},labelClearSelection:{type:"string"},labelCountWithTotal:{type:"string"},labelDataVisualization:{type:"string"},labelInvalidData:{type:"string"},labelNoData:{type:"string"},stateCollapsed:{type:"string"},stateDrillable:{type:"string"},stateExpanded:{type:"string"},stateHidden:{type:"string"},stateIsolated:{type:"string"},stateMaximized:{type:"string"},stateMinimized:{type:"string"},stateSelected:{type:"string"},stateUnselected:{type:"string"},stateVisible:{type:"string"}}}},methods:{},extension:{_WIDGET_NAME:"dvtBaseComponent",_DVT_PARSE_FUNC:r.shapeParseFunction}},t.CustomElementBridge.registerMetadata("dvtBaseComponent","baseComponent",a)});